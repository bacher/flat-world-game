var mm=Object.defineProperty;var ym=(e,t,n)=>t in e?mm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Me=(e,t,n)=>(ym(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var ho=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var c={},gm={get exports(){return c},set exports(e){c=e}},Ri={},x={},Tm={get exports(){return x},set exports(e){x=e}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jr=Symbol.for("react.element"),_m=Symbol.for("react.portal"),Cm=Symbol.for("react.fragment"),Sm=Symbol.for("react.strict_mode"),Em=Symbol.for("react.profiler"),Im=Symbol.for("react.provider"),wm=Symbol.for("react.context"),Om=Symbol.for("react.forward_ref"),Nm=Symbol.for("react.suspense"),Am=Symbol.for("react.memo"),km=Symbol.for("react.lazy"),vu=Symbol.iterator;function Rm(e){return e===null||typeof e!="object"?null:(e=vu&&e[vu]||e["@@iterator"],typeof e=="function"?e:null)}var Vf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yf=Object.assign,qf={};function qn(e,t,n){this.props=e,this.context=t,this.refs=qf,this.updater=n||Vf}qn.prototype.isReactComponent={};qn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Kf(){}Kf.prototype=qn.prototype;function Ks(e,t,n){this.props=e,this.context=t,this.refs=qf,this.updater=n||Vf}var bs=Ks.prototype=new Kf;bs.constructor=Ks;Yf(bs,qn.prototype);bs.isPureReactComponent=!0;var gu=Array.isArray,bf=Object.prototype.hasOwnProperty,Qs={current:null},Qf={key:!0,ref:!0,__self:!0,__source:!0};function Xf(e,t,n){var r,o={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)bf.call(t,r)&&!Qf.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(s===1)o.children=n;else if(1<s){for(var a=Array(s),u=0;u<s;u++)a[u]=arguments[u+2];o.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)o[r]===void 0&&(o[r]=s[r]);return{$$typeof:Jr,type:e,key:i,ref:l,props:o,_owner:Qs.current}}function Pm(e,t){return{$$typeof:Jr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Xs(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jr}function Lm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Tu=/\/+/g;function ul(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Lm(""+e.key):t.toString(36)}function jo(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Jr:case _m:l=!0}}if(l)return l=e,o=o(l),e=r===""?"."+ul(l,0):r,gu(o)?(n="",e!=null&&(n=e.replace(Tu,"$&/")+"/"),jo(o,t,n,"",function(u){return u})):o!=null&&(Xs(o)&&(o=Pm(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(Tu,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=r===""?".":r+":",gu(e))for(var s=0;s<e.length;s++){i=e[s];var a=r+ul(i,s);l+=jo(i,t,n,a,o)}else if(a=Rm(e),typeof a=="function")for(e=a.call(e),s=0;!(i=e.next()).done;)i=i.value,a=r+ul(i,s++),l+=jo(i,t,n,a,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function mo(e,t,n){if(e==null)return e;var r=[],o=0;return jo(e,r,"","",function(i){return t.call(n,i,o++)}),r}function xm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ve={current:null},Uo={transition:null},Mm={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:Uo,ReactCurrentOwner:Qs};U.Children={map:mo,forEach:function(e,t,n){mo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return mo(e,function(){t++}),t},toArray:function(e){return mo(e,function(t){return t})||[]},only:function(e){if(!Xs(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};U.Component=qn;U.Fragment=Cm;U.Profiler=Em;U.PureComponent=Ks;U.StrictMode=Sm;U.Suspense=Nm;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mm;U.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Yf({},e.props),o=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Qs.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(a in t)bf.call(t,a)&&!Qf.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&s!==void 0?s[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){s=Array(a);for(var u=0;u<a;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Jr,type:e.type,key:o,ref:i,props:r,_owner:l}};U.createContext=function(e){return e={$$typeof:wm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Im,_context:e},e.Consumer=e};U.createElement=Xf;U.createFactory=function(e){var t=Xf.bind(null,e);return t.type=e,t};U.createRef=function(){return{current:null}};U.forwardRef=function(e){return{$$typeof:Om,render:e}};U.isValidElement=Xs;U.lazy=function(e){return{$$typeof:km,_payload:{_status:-1,_result:e},_init:xm}};U.memo=function(e,t){return{$$typeof:Am,type:e,compare:t===void 0?null:t}};U.startTransition=function(e){var t=Uo.transition;Uo.transition={};try{e()}finally{Uo.transition=t}};U.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};U.useCallback=function(e,t){return ve.current.useCallback(e,t)};U.useContext=function(e){return ve.current.useContext(e)};U.useDebugValue=function(){};U.useDeferredValue=function(e){return ve.current.useDeferredValue(e)};U.useEffect=function(e,t){return ve.current.useEffect(e,t)};U.useId=function(){return ve.current.useId()};U.useImperativeHandle=function(e,t,n){return ve.current.useImperativeHandle(e,t,n)};U.useInsertionEffect=function(e,t){return ve.current.useInsertionEffect(e,t)};U.useLayoutEffect=function(e,t){return ve.current.useLayoutEffect(e,t)};U.useMemo=function(e,t){return ve.current.useMemo(e,t)};U.useReducer=function(e,t,n){return ve.current.useReducer(e,t,n)};U.useRef=function(e){return ve.current.useRef(e)};U.useState=function(e){return ve.current.useState(e)};U.useSyncExternalStore=function(e,t,n){return ve.current.useSyncExternalStore(e,t,n)};U.useTransition=function(){return ve.current.useTransition()};U.version="18.2.0";(function(e){e.exports=U})(Tm);const jm=vm(x);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um=x,$m=Symbol.for("react.element"),Dm=Symbol.for("react.fragment"),Gm=Object.prototype.hasOwnProperty,Bm=Um.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hm={key:!0,ref:!0,__self:!0,__source:!0};function Zf(e,t,n){var r,o={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Gm.call(t,r)&&!Hm.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:$m,type:e,key:i,ref:l,props:o,_owner:Bm.current}}Ri.Fragment=Dm;Ri.jsx=Zf;Ri.jsxs=Zf;(function(e){e.exports=Ri})(gm);var Wl={},zl={},Fm={get exports(){return zl},set exports(e){zl=e}},Le={},Vl={},Wm={get exports(){return Vl},set exports(e){Vl=e}},Jf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,M){var j=A.length;A.push(M);e:for(;0<j;){var J=j-1>>>1,oe=A[J];if(0<o(oe,M))A[J]=M,A[j]=oe,j=J;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var M=A[0],j=A.pop();if(j!==M){A[0]=j;e:for(var J=0,oe=A.length,fo=oe>>>1;J<fo;){var zt=2*(J+1)-1,al=A[zt],Vt=zt+1,po=A[Vt];if(0>o(al,j))Vt<oe&&0>o(po,al)?(A[J]=po,A[Vt]=j,J=Vt):(A[J]=al,A[zt]=j,J=zt);else if(Vt<oe&&0>o(po,j))A[J]=po,A[Vt]=j,J=Vt;else break e}}return M}function o(A,M){var j=A.sortIndex-M.sortIndex;return j!==0?j:A.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,s=l.now();e.unstable_now=function(){return l.now()-s}}var a=[],u=[],f=1,p=null,h=3,_=!1,C=!1,g=!1,I=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(A){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=A)r(u),M.sortIndex=M.expirationTime,t(a,M);else break;M=n(u)}}function S(A){if(g=!1,v(A),!C)if(n(a)!==null)C=!0,ll(w);else{var M=n(u);M!==null&&sl(S,M.startTime-A)}}function w(A,M){C=!1,g&&(g=!1,m(L),L=-1),_=!0;var j=h;try{for(v(M),p=n(a);p!==null&&(!(p.expirationTime>M)||A&&!ze());){var J=p.callback;if(typeof J=="function"){p.callback=null,h=p.priorityLevel;var oe=J(p.expirationTime<=M);M=e.unstable_now(),typeof oe=="function"?p.callback=oe:p===n(a)&&r(a),v(M)}else r(a);p=n(a)}if(p!==null)var fo=!0;else{var zt=n(u);zt!==null&&sl(S,zt.startTime-M),fo=!1}return fo}finally{p=null,h=j,_=!1}}var k=!1,R=null,L=-1,Z=5,$=-1;function ze(){return!(e.unstable_now()-$<Z)}function ir(){if(R!==null){var A=e.unstable_now();$=A;var M=!0;try{M=R(!0,A)}finally{M?lr():(k=!1,R=null)}}else k=!1}var lr;if(typeof d=="function")lr=function(){d(ir)};else if(typeof MessageChannel<"u"){var yu=new MessageChannel,hm=yu.port2;yu.port1.onmessage=ir,lr=function(){hm.postMessage(null)}}else lr=function(){I(ir,0)};function ll(A){R=A,k||(k=!0,lr())}function sl(A,M){L=I(function(){A(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){C||_||(C=!0,ll(w))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var j=h;h=M;try{return A()}finally{h=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,M){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var j=h;h=A;try{return M()}finally{h=j}},e.unstable_scheduleCallback=function(A,M,j){var J=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?J+j:J):j=J,A){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=j+oe,A={id:f++,callback:M,priorityLevel:A,startTime:j,expirationTime:oe,sortIndex:-1},j>J?(A.sortIndex=j,t(u,A),n(a)===null&&A===n(u)&&(g?(m(L),L=-1):g=!0,sl(S,j-J))):(A.sortIndex=oe,t(a,A),C||_||(C=!0,ll(w))),A},e.unstable_shouldYield=ze,e.unstable_wrapCallback=function(A){var M=h;return function(){var j=h;h=M;try{return A.apply(this,arguments)}finally{h=j}}}})(Jf);(function(e){e.exports=Jf})(Wm);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ed=x,Re=Vl;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var td=new Set,Rr={};function fn(e,t){Un(e,t),Un(e+"Capture",t)}function Un(e,t){for(Rr[e]=t,e=0;e<t.length;e++)td.add(t[e])}var dt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yl=Object.prototype.hasOwnProperty,zm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_u={},Cu={};function Vm(e){return Yl.call(Cu,e)?!0:Yl.call(_u,e)?!1:zm.test(e)?Cu[e]=!0:(_u[e]=!0,!1)}function Ym(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qm(e,t,n,r){if(t===null||typeof t>"u"||Ym(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ge(e,t,n,r,o,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ue[e]=new ge(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ue[t]=new ge(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ue[e]=new ge(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ue[e]=new ge(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ue[e]=new ge(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ue[e]=new ge(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ue[e]=new ge(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ue[e]=new ge(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ue[e]=new ge(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zs=/[\-:]([a-z])/g;function Js(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zs,Js);ue[t]=new ge(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zs,Js);ue[t]=new ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zs,Js);ue[t]=new ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ue[e]=new ge(e,1,!1,e.toLowerCase(),null,!1,!1)});ue.xlinkHref=new ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ue[e]=new ge(e,1,!1,e.toLowerCase(),null,!0,!0)});function ea(e,t,n,r){var o=ue.hasOwnProperty(t)?ue[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qm(t,n,o,r)&&(n=null),r||o===null?Vm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var vt=ed.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yo=Symbol.for("react.element"),yn=Symbol.for("react.portal"),vn=Symbol.for("react.fragment"),ta=Symbol.for("react.strict_mode"),ql=Symbol.for("react.profiler"),nd=Symbol.for("react.provider"),rd=Symbol.for("react.context"),na=Symbol.for("react.forward_ref"),Kl=Symbol.for("react.suspense"),bl=Symbol.for("react.suspense_list"),ra=Symbol.for("react.memo"),It=Symbol.for("react.lazy"),od=Symbol.for("react.offscreen"),Su=Symbol.iterator;function sr(e){return e===null||typeof e!="object"?null:(e=Su&&e[Su]||e["@@iterator"],typeof e=="function"?e:null)}var Q=Object.assign,cl;function yr(e){if(cl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);cl=t&&t[1]||""}return`
`+cl+e}var fl=!1;function dl(e,t){if(!e||fl)return"";fl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),l=o.length-1,s=i.length-1;1<=l&&0<=s&&o[l]!==i[s];)s--;for(;1<=l&&0<=s;l--,s--)if(o[l]!==i[s]){if(l!==1||s!==1)do if(l--,s--,0>s||o[l]!==i[s]){var a=`
`+o[l].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=l&&0<=s);break}}}finally{fl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?yr(e):""}function Km(e){switch(e.tag){case 5:return yr(e.type);case 16:return yr("Lazy");case 13:return yr("Suspense");case 19:return yr("SuspenseList");case 0:case 2:case 15:return e=dl(e.type,!1),e;case 11:return e=dl(e.type.render,!1),e;case 1:return e=dl(e.type,!0),e;default:return""}}function Ql(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vn:return"Fragment";case yn:return"Portal";case ql:return"Profiler";case ta:return"StrictMode";case Kl:return"Suspense";case bl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rd:return(e.displayName||"Context")+".Consumer";case nd:return(e._context.displayName||"Context")+".Provider";case na:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ra:return t=e.displayName||null,t!==null?t:Ql(e.type)||"Memo";case It:t=e._payload,e=e._init;try{return Ql(e(t))}catch{}}return null}function bm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ql(t);case 8:return t===ta?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function id(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qm(e){var t=id(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vo(e){e._valueTracker||(e._valueTracker=Qm(e))}function ld(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=id(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ko(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xl(e,t){var n=t.checked;return Q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Eu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Dt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sd(e,t){t=t.checked,t!=null&&ea(e,"checked",t,!1)}function Zl(e,t){sd(e,t);var n=Dt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Jl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Jl(e,t.type,Dt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Iu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Jl(e,t,n){(t!=="number"||Ko(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vr=Array.isArray;function kn(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Dt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function es(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return Q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(E(92));if(vr(n)){if(1<n.length)throw Error(E(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Dt(n)}}function ad(e,t){var n=Dt(t.value),r=Dt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ou(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ud(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ts(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ud(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var go,cd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(go=go||document.createElement("div"),go.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=go.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Pr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var _r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xm=["Webkit","ms","Moz","O"];Object.keys(_r).forEach(function(e){Xm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_r[t]=_r[e]})});function fd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||_r.hasOwnProperty(e)&&_r[e]?(""+t).trim():t+"px"}function dd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=fd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Zm=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ns(e,t){if(t){if(Zm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function rs(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var os=null;function oa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var is=null,Rn=null,Pn=null;function Nu(e){if(e=no(e)){if(typeof is!="function")throw Error(E(280));var t=e.stateNode;t&&(t=ji(t),is(e.stateNode,e.type,t))}}function pd(e){Rn?Pn?Pn.push(e):Pn=[e]:Rn=e}function hd(){if(Rn){var e=Rn,t=Pn;if(Pn=Rn=null,Nu(e),t)for(e=0;e<t.length;e++)Nu(t[e])}}function md(e,t){return e(t)}function yd(){}var pl=!1;function vd(e,t,n){if(pl)return e(t,n);pl=!0;try{return md(e,t,n)}finally{pl=!1,(Rn!==null||Pn!==null)&&(yd(),hd())}}function Lr(e,t){var n=e.stateNode;if(n===null)return null;var r=ji(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(E(231,t,typeof n));return n}var ls=!1;if(dt)try{var ar={};Object.defineProperty(ar,"passive",{get:function(){ls=!0}}),window.addEventListener("test",ar,ar),window.removeEventListener("test",ar,ar)}catch{ls=!1}function Jm(e,t,n,r,o,i,l,s,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var Cr=!1,bo=null,Qo=!1,ss=null,ey={onError:function(e){Cr=!0,bo=e}};function ty(e,t,n,r,o,i,l,s,a){Cr=!1,bo=null,Jm.apply(ey,arguments)}function ny(e,t,n,r,o,i,l,s,a){if(ty.apply(this,arguments),Cr){if(Cr){var u=bo;Cr=!1,bo=null}else throw Error(E(198));Qo||(Qo=!0,ss=u)}}function dn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function gd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Au(e){if(dn(e)!==e)throw Error(E(188))}function ry(e){var t=e.alternate;if(!t){if(t=dn(e),t===null)throw Error(E(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Au(o),e;if(i===r)return Au(o),t;i=i.sibling}throw Error(E(188))}if(n.return!==r.return)n=o,r=i;else{for(var l=!1,s=o.child;s;){if(s===n){l=!0,n=o,r=i;break}if(s===r){l=!0,r=o,n=i;break}s=s.sibling}if(!l){for(s=i.child;s;){if(s===n){l=!0,n=i,r=o;break}if(s===r){l=!0,r=i,n=o;break}s=s.sibling}if(!l)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?e:t}function Td(e){return e=ry(e),e!==null?_d(e):null}function _d(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_d(e);if(t!==null)return t;e=e.sibling}return null}var Cd=Re.unstable_scheduleCallback,ku=Re.unstable_cancelCallback,oy=Re.unstable_shouldYield,iy=Re.unstable_requestPaint,ee=Re.unstable_now,ly=Re.unstable_getCurrentPriorityLevel,ia=Re.unstable_ImmediatePriority,Sd=Re.unstable_UserBlockingPriority,Xo=Re.unstable_NormalPriority,sy=Re.unstable_LowPriority,Ed=Re.unstable_IdlePriority,Pi=null,tt=null;function ay(e){if(tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(Pi,e,void 0,(e.current.flags&128)===128)}catch{}}var be=Math.clz32?Math.clz32:fy,uy=Math.log,cy=Math.LN2;function fy(e){return e>>>=0,e===0?32:31-(uy(e)/cy|0)|0}var To=64,_o=4194304;function gr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var s=l&~o;s!==0?r=gr(s):(i&=l,i!==0&&(r=gr(i)))}else l=n&~o,l!==0?r=gr(l):i!==0&&(r=gr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-be(t),o=1<<n,r|=e[n],t&=~o;return r}function dy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function py(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-be(i),s=1<<l,a=o[l];a===-1?(!(s&n)||s&r)&&(o[l]=dy(s,t)):a<=t&&(e.expiredLanes|=s),i&=~s}}function as(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Id(){var e=To;return To<<=1,!(To&4194240)&&(To=64),e}function hl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function eo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-be(t),e[t]=n}function hy(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-be(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function la(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-be(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var G=0;function wd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Od,sa,Nd,Ad,kd,us=!1,Co=[],Rt=null,Pt=null,Lt=null,xr=new Map,Mr=new Map,Ot=[],my="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ru(e,t){switch(e){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":xr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mr.delete(t.pointerId)}}function ur(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=no(t),t!==null&&sa(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function yy(e,t,n,r,o){switch(t){case"focusin":return Rt=ur(Rt,e,t,n,r,o),!0;case"dragenter":return Pt=ur(Pt,e,t,n,r,o),!0;case"mouseover":return Lt=ur(Lt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return xr.set(i,ur(xr.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Mr.set(i,ur(Mr.get(i)||null,e,t,n,r,o)),!0}return!1}function Rd(e){var t=Jt(e.target);if(t!==null){var n=dn(t);if(n!==null){if(t=n.tag,t===13){if(t=gd(n),t!==null){e.blockedOn=t,kd(e.priority,function(){Nd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $o(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=cs(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);os=r,n.target.dispatchEvent(r),os=null}else return t=no(n),t!==null&&sa(t),e.blockedOn=n,!1;t.shift()}return!0}function Pu(e,t,n){$o(e)&&n.delete(t)}function vy(){us=!1,Rt!==null&&$o(Rt)&&(Rt=null),Pt!==null&&$o(Pt)&&(Pt=null),Lt!==null&&$o(Lt)&&(Lt=null),xr.forEach(Pu),Mr.forEach(Pu)}function cr(e,t){e.blockedOn===t&&(e.blockedOn=null,us||(us=!0,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,vy)))}function jr(e){function t(o){return cr(o,e)}if(0<Co.length){cr(Co[0],e);for(var n=1;n<Co.length;n++){var r=Co[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Rt!==null&&cr(Rt,e),Pt!==null&&cr(Pt,e),Lt!==null&&cr(Lt,e),xr.forEach(t),Mr.forEach(t),n=0;n<Ot.length;n++)r=Ot[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&(n=Ot[0],n.blockedOn===null);)Rd(n),n.blockedOn===null&&Ot.shift()}var Ln=vt.ReactCurrentBatchConfig,Jo=!0;function gy(e,t,n,r){var o=G,i=Ln.transition;Ln.transition=null;try{G=1,aa(e,t,n,r)}finally{G=o,Ln.transition=i}}function Ty(e,t,n,r){var o=G,i=Ln.transition;Ln.transition=null;try{G=4,aa(e,t,n,r)}finally{G=o,Ln.transition=i}}function aa(e,t,n,r){if(Jo){var o=cs(e,t,n,r);if(o===null)Il(e,t,r,ei,n),Ru(e,r);else if(yy(o,e,t,n,r))r.stopPropagation();else if(Ru(e,r),t&4&&-1<my.indexOf(e)){for(;o!==null;){var i=no(o);if(i!==null&&Od(i),i=cs(e,t,n,r),i===null&&Il(e,t,r,ei,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Il(e,t,r,null,n)}}var ei=null;function cs(e,t,n,r){if(ei=null,e=oa(r),e=Jt(e),e!==null)if(t=dn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=gd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ei=e,null}function Pd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ly()){case ia:return 1;case Sd:return 4;case Xo:case sy:return 16;case Ed:return 536870912;default:return 16}default:return 16}}var At=null,ua=null,Do=null;function Ld(){if(Do)return Do;var e,t=ua,n=t.length,r,o="value"in At?At.value:At.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===o[i-r];r++);return Do=o.slice(e,1<r?1-r:void 0)}function Go(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function So(){return!0}function Lu(){return!1}function xe(e){function t(n,r,o,i,l){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?So:Lu,this.isPropagationStopped=Lu,this}return Q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=So)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=So)},persist:function(){},isPersistent:So}),t}var Kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ca=xe(Kn),to=Q({},Kn,{view:0,detail:0}),_y=xe(to),ml,yl,fr,Li=Q({},to,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fr&&(fr&&e.type==="mousemove"?(ml=e.screenX-fr.screenX,yl=e.screenY-fr.screenY):yl=ml=0,fr=e),ml)},movementY:function(e){return"movementY"in e?e.movementY:yl}}),xu=xe(Li),Cy=Q({},Li,{dataTransfer:0}),Sy=xe(Cy),Ey=Q({},to,{relatedTarget:0}),vl=xe(Ey),Iy=Q({},Kn,{animationName:0,elapsedTime:0,pseudoElement:0}),wy=xe(Iy),Oy=Q({},Kn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ny=xe(Oy),Ay=Q({},Kn,{data:0}),Mu=xe(Ay),ky={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ry={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Py={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ly(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Py[e])?!!t[e]:!1}function fa(){return Ly}var xy=Q({},to,{key:function(e){if(e.key){var t=ky[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Go(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ry[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fa,charCode:function(e){return e.type==="keypress"?Go(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Go(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),My=xe(xy),jy=Q({},Li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ju=xe(jy),Uy=Q({},to,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fa}),$y=xe(Uy),Dy=Q({},Kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gy=xe(Dy),By=Q({},Li,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hy=xe(By),Fy=[9,13,27,32],da=dt&&"CompositionEvent"in window,Sr=null;dt&&"documentMode"in document&&(Sr=document.documentMode);var Wy=dt&&"TextEvent"in window&&!Sr,xd=dt&&(!da||Sr&&8<Sr&&11>=Sr),Uu=String.fromCharCode(32),$u=!1;function Md(e,t){switch(e){case"keyup":return Fy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gn=!1;function zy(e,t){switch(e){case"compositionend":return jd(t);case"keypress":return t.which!==32?null:($u=!0,Uu);case"textInput":return e=t.data,e===Uu&&$u?null:e;default:return null}}function Vy(e,t){if(gn)return e==="compositionend"||!da&&Md(e,t)?(e=Ld(),Do=ua=At=null,gn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xd&&t.locale!=="ko"?null:t.data;default:return null}}var Yy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Du(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Yy[e.type]:t==="textarea"}function Ud(e,t,n,r){pd(r),t=ti(t,"onChange"),0<t.length&&(n=new ca("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Er=null,Ur=null;function qy(e){qd(e,0)}function xi(e){var t=Cn(e);if(ld(t))return e}function Ky(e,t){if(e==="change")return t}var $d=!1;if(dt){var gl;if(dt){var Tl="oninput"in document;if(!Tl){var Gu=document.createElement("div");Gu.setAttribute("oninput","return;"),Tl=typeof Gu.oninput=="function"}gl=Tl}else gl=!1;$d=gl&&(!document.documentMode||9<document.documentMode)}function Bu(){Er&&(Er.detachEvent("onpropertychange",Dd),Ur=Er=null)}function Dd(e){if(e.propertyName==="value"&&xi(Ur)){var t=[];Ud(t,Ur,e,oa(e)),vd(qy,t)}}function by(e,t,n){e==="focusin"?(Bu(),Er=t,Ur=n,Er.attachEvent("onpropertychange",Dd)):e==="focusout"&&Bu()}function Qy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xi(Ur)}function Xy(e,t){if(e==="click")return xi(t)}function Zy(e,t){if(e==="input"||e==="change")return xi(t)}function Jy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xe=typeof Object.is=="function"?Object.is:Jy;function $r(e,t){if(Xe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Yl.call(t,o)||!Xe(e[o],t[o]))return!1}return!0}function Hu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fu(e,t){var n=Hu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hu(n)}}function Gd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bd(){for(var e=window,t=Ko();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ko(e.document)}return t}function pa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ev(e){var t=Bd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Gd(n.ownerDocument.documentElement,n)){if(r!==null&&pa(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=Fu(n,i);var l=Fu(n,r);o&&l&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tv=dt&&"documentMode"in document&&11>=document.documentMode,Tn=null,fs=null,Ir=null,ds=!1;function Wu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ds||Tn==null||Tn!==Ko(r)||(r=Tn,"selectionStart"in r&&pa(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ir&&$r(Ir,r)||(Ir=r,r=ti(fs,"onSelect"),0<r.length&&(t=new ca("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Tn)))}function Eo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _n={animationend:Eo("Animation","AnimationEnd"),animationiteration:Eo("Animation","AnimationIteration"),animationstart:Eo("Animation","AnimationStart"),transitionend:Eo("Transition","TransitionEnd")},_l={},Hd={};dt&&(Hd=document.createElement("div").style,"AnimationEvent"in window||(delete _n.animationend.animation,delete _n.animationiteration.animation,delete _n.animationstart.animation),"TransitionEvent"in window||delete _n.transitionend.transition);function Mi(e){if(_l[e])return _l[e];if(!_n[e])return e;var t=_n[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Hd)return _l[e]=t[n];return e}var Fd=Mi("animationend"),Wd=Mi("animationiteration"),zd=Mi("animationstart"),Vd=Mi("transitionend"),Yd=new Map,zu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ht(e,t){Yd.set(e,t),fn(t,[e])}for(var Cl=0;Cl<zu.length;Cl++){var Sl=zu[Cl],nv=Sl.toLowerCase(),rv=Sl[0].toUpperCase()+Sl.slice(1);Ht(nv,"on"+rv)}Ht(Fd,"onAnimationEnd");Ht(Wd,"onAnimationIteration");Ht(zd,"onAnimationStart");Ht("dblclick","onDoubleClick");Ht("focusin","onFocus");Ht("focusout","onBlur");Ht(Vd,"onTransitionEnd");Un("onMouseEnter",["mouseout","mouseover"]);Un("onMouseLeave",["mouseout","mouseover"]);Un("onPointerEnter",["pointerout","pointerover"]);Un("onPointerLeave",["pointerout","pointerover"]);fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fn("onBeforeInput",["compositionend","keypress","textInput","paste"]);fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ov=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Vu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ny(r,t,void 0,e),e.currentTarget=null}function qd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var s=r[l],a=s.instance,u=s.currentTarget;if(s=s.listener,a!==i&&o.isPropagationStopped())break e;Vu(o,s,u),i=a}else for(l=0;l<r.length;l++){if(s=r[l],a=s.instance,u=s.currentTarget,s=s.listener,a!==i&&o.isPropagationStopped())break e;Vu(o,s,u),i=a}}}if(Qo)throw e=ss,Qo=!1,ss=null,e}function W(e,t){var n=t[vs];n===void 0&&(n=t[vs]=new Set);var r=e+"__bubble";n.has(r)||(Kd(t,e,2,!1),n.add(r))}function El(e,t,n){var r=0;t&&(r|=4),Kd(n,e,r,t)}var Io="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){if(!e[Io]){e[Io]=!0,td.forEach(function(n){n!=="selectionchange"&&(ov.has(n)||El(n,!1,e),El(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Io]||(t[Io]=!0,El("selectionchange",!1,t))}}function Kd(e,t,n,r){switch(Pd(t)){case 1:var o=gy;break;case 4:o=Ty;break;default:o=aa}n=o.bind(null,t,n,e),o=void 0,!ls||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Il(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var s=r.stateNode.containerInfo;if(s===o||s.nodeType===8&&s.parentNode===o)break;if(l===4)for(l=r.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;l=l.return}for(;s!==null;){if(l=Jt(s),l===null)return;if(a=l.tag,a===5||a===6){r=i=l;continue e}s=s.parentNode}}r=r.return}vd(function(){var u=i,f=oa(n),p=[];e:{var h=Yd.get(e);if(h!==void 0){var _=ca,C=e;switch(e){case"keypress":if(Go(n)===0)break e;case"keydown":case"keyup":_=My;break;case"focusin":C="focus",_=vl;break;case"focusout":C="blur",_=vl;break;case"beforeblur":case"afterblur":_=vl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=xu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=Sy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=$y;break;case Fd:case Wd:case zd:_=wy;break;case Vd:_=Gy;break;case"scroll":_=_y;break;case"wheel":_=Hy;break;case"copy":case"cut":case"paste":_=Ny;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=ju}var g=(t&4)!==0,I=!g&&e==="scroll",m=g?h!==null?h+"Capture":null:h;g=[];for(var d=u,v;d!==null;){v=d;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,m!==null&&(S=Lr(d,m),S!=null&&g.push(Gr(d,S,v)))),I)break;d=d.return}0<g.length&&(h=new _(h,C,null,n,f),p.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",h&&n!==os&&(C=n.relatedTarget||n.fromElement)&&(Jt(C)||C[pt]))break e;if((_||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,_?(C=n.relatedTarget||n.toElement,_=u,C=C?Jt(C):null,C!==null&&(I=dn(C),C!==I||C.tag!==5&&C.tag!==6)&&(C=null)):(_=null,C=u),_!==C)){if(g=xu,S="onMouseLeave",m="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(g=ju,S="onPointerLeave",m="onPointerEnter",d="pointer"),I=_==null?h:Cn(_),v=C==null?h:Cn(C),h=new g(S,d+"leave",_,n,f),h.target=I,h.relatedTarget=v,S=null,Jt(f)===u&&(g=new g(m,d+"enter",C,n,f),g.target=v,g.relatedTarget=I,S=g),I=S,_&&C)t:{for(g=_,m=C,d=0,v=g;v;v=hn(v))d++;for(v=0,S=m;S;S=hn(S))v++;for(;0<d-v;)g=hn(g),d--;for(;0<v-d;)m=hn(m),v--;for(;d--;){if(g===m||m!==null&&g===m.alternate)break t;g=hn(g),m=hn(m)}g=null}else g=null;_!==null&&Yu(p,h,_,g,!1),C!==null&&I!==null&&Yu(p,I,C,g,!0)}}e:{if(h=u?Cn(u):window,_=h.nodeName&&h.nodeName.toLowerCase(),_==="select"||_==="input"&&h.type==="file")var w=Ky;else if(Du(h))if($d)w=Zy;else{w=Qy;var k=by}else(_=h.nodeName)&&_.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=Xy);if(w&&(w=w(e,u))){Ud(p,w,n,f);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Jl(h,"number",h.value)}switch(k=u?Cn(u):window,e){case"focusin":(Du(k)||k.contentEditable==="true")&&(Tn=k,fs=u,Ir=null);break;case"focusout":Ir=fs=Tn=null;break;case"mousedown":ds=!0;break;case"contextmenu":case"mouseup":case"dragend":ds=!1,Wu(p,n,f);break;case"selectionchange":if(tv)break;case"keydown":case"keyup":Wu(p,n,f)}var R;if(da)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else gn?Md(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(xd&&n.locale!=="ko"&&(gn||L!=="onCompositionStart"?L==="onCompositionEnd"&&gn&&(R=Ld()):(At=f,ua="value"in At?At.value:At.textContent,gn=!0)),k=ti(u,L),0<k.length&&(L=new Mu(L,e,null,n,f),p.push({event:L,listeners:k}),R?L.data=R:(R=jd(n),R!==null&&(L.data=R)))),(R=Wy?zy(e,n):Vy(e,n))&&(u=ti(u,"onBeforeInput"),0<u.length&&(f=new Mu("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:u}),f.data=R))}qd(p,t)})}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ti(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Lr(e,n),i!=null&&r.unshift(Gr(e,i,o)),i=Lr(e,t),i!=null&&r.push(Gr(e,i,o))),e=e.return}return r}function hn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yu(e,t,n,r,o){for(var i=t._reactName,l=[];n!==null&&n!==r;){var s=n,a=s.alternate,u=s.stateNode;if(a!==null&&a===r)break;s.tag===5&&u!==null&&(s=u,o?(a=Lr(n,i),a!=null&&l.unshift(Gr(n,a,s))):o||(a=Lr(n,i),a!=null&&l.push(Gr(n,a,s)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var iv=/\r\n?/g,lv=/\u0000|\uFFFD/g;function qu(e){return(typeof e=="string"?e:""+e).replace(iv,`
`).replace(lv,"")}function wo(e,t,n){if(t=qu(t),qu(e)!==t&&n)throw Error(E(425))}function ni(){}var ps=null,hs=null;function ms(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ys=typeof setTimeout=="function"?setTimeout:void 0,sv=typeof clearTimeout=="function"?clearTimeout:void 0,Ku=typeof Promise=="function"?Promise:void 0,av=typeof queueMicrotask=="function"?queueMicrotask:typeof Ku<"u"?function(e){return Ku.resolve(null).then(e).catch(uv)}:ys;function uv(e){setTimeout(function(){throw e})}function wl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),jr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);jr(t)}function xt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var bn=Math.random().toString(36).slice(2),et="__reactFiber$"+bn,Br="__reactProps$"+bn,pt="__reactContainer$"+bn,vs="__reactEvents$"+bn,cv="__reactListeners$"+bn,fv="__reactHandles$"+bn;function Jt(e){var t=e[et];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pt]||n[et]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=bu(e);e!==null;){if(n=e[et])return n;e=bu(e)}return t}e=n,n=e.parentNode}return null}function no(e){return e=e[et]||e[pt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function ji(e){return e[Br]||null}var gs=[],Sn=-1;function Ft(e){return{current:e}}function V(e){0>Sn||(e.current=gs[Sn],gs[Sn]=null,Sn--)}function F(e,t){Sn++,gs[Sn]=e.current,e.current=t}var Gt={},he=Ft(Gt),Ee=Ft(!1),ln=Gt;function $n(e,t){var n=e.type.contextTypes;if(!n)return Gt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ie(e){return e=e.childContextTypes,e!=null}function ri(){V(Ee),V(he)}function Qu(e,t,n){if(he.current!==Gt)throw Error(E(168));F(he,t),F(Ee,n)}function bd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(E(108,bm(e)||"Unknown",o));return Q({},n,r)}function oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gt,ln=he.current,F(he,e),F(Ee,Ee.current),!0}function Xu(e,t,n){var r=e.stateNode;if(!r)throw Error(E(169));n?(e=bd(e,t,ln),r.__reactInternalMemoizedMergedChildContext=e,V(Ee),V(he),F(he,e)):V(Ee),F(Ee,n)}var st=null,Ui=!1,Ol=!1;function Qd(e){st===null?st=[e]:st.push(e)}function dv(e){Ui=!0,Qd(e)}function Wt(){if(!Ol&&st!==null){Ol=!0;var e=0,t=G;try{var n=st;for(G=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}st=null,Ui=!1}catch(o){throw st!==null&&(st=st.slice(e+1)),Cd(ia,Wt),o}finally{G=t,Ol=!1}}return null}var En=[],In=0,ii=null,li=0,je=[],Ue=0,sn=null,at=1,ut="";function Qt(e,t){En[In++]=li,En[In++]=ii,ii=e,li=t}function Xd(e,t,n){je[Ue++]=at,je[Ue++]=ut,je[Ue++]=sn,sn=e;var r=at;e=ut;var o=32-be(r)-1;r&=~(1<<o),n+=1;var i=32-be(t)+o;if(30<i){var l=o-o%5;i=(r&(1<<l)-1).toString(32),r>>=l,o-=l,at=1<<32-be(t)+o|n<<o|r,ut=i+e}else at=1<<i|n<<o|r,ut=e}function ha(e){e.return!==null&&(Qt(e,1),Xd(e,1,0))}function ma(e){for(;e===ii;)ii=En[--In],En[In]=null,li=En[--In],En[In]=null;for(;e===sn;)sn=je[--Ue],je[Ue]=null,ut=je[--Ue],je[Ue]=null,at=je[--Ue],je[Ue]=null}var ke=null,Ne=null,q=!1,Ke=null;function Zd(e,t){var n=De(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Zu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ke=e,Ne=xt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ke=e,Ne=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=sn!==null?{id:at,overflow:ut}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=De(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ke=e,Ne=null,!0):!1;default:return!1}}function Ts(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _s(e){if(q){var t=Ne;if(t){var n=t;if(!Zu(e,t)){if(Ts(e))throw Error(E(418));t=xt(n.nextSibling);var r=ke;t&&Zu(e,t)?Zd(r,n):(e.flags=e.flags&-4097|2,q=!1,ke=e)}}else{if(Ts(e))throw Error(E(418));e.flags=e.flags&-4097|2,q=!1,ke=e}}}function Ju(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ke=e}function Oo(e){if(e!==ke)return!1;if(!q)return Ju(e),q=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ms(e.type,e.memoizedProps)),t&&(t=Ne)){if(Ts(e))throw Jd(),Error(E(418));for(;t;)Zd(e,t),t=xt(t.nextSibling)}if(Ju(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ne=xt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ne=null}}else Ne=ke?xt(e.stateNode.nextSibling):null;return!0}function Jd(){for(var e=Ne;e;)e=xt(e.nextSibling)}function Dn(){Ne=ke=null,q=!1}function ya(e){Ke===null?Ke=[e]:Ke.push(e)}var pv=vt.ReactCurrentBatchConfig;function Ye(e,t){if(e&&e.defaultProps){t=Q({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var si=Ft(null),ai=null,wn=null,va=null;function ga(){va=wn=ai=null}function Ta(e){var t=si.current;V(si),e._currentValue=t}function Cs(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xn(e,t){ai=e,va=wn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Se=!0),e.firstContext=null)}function Be(e){var t=e._currentValue;if(va!==e)if(e={context:e,memoizedValue:t,next:null},wn===null){if(ai===null)throw Error(E(308));wn=e,ai.dependencies={lanes:0,firstContext:e}}else wn=wn.next=e;return t}var en=null;function _a(e){en===null?en=[e]:en.push(e)}function ep(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,_a(t)):(n.next=o.next,o.next=n),t.interleaved=n,ht(e,r)}function ht(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wt=!1;function Ca(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ct(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,D&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,ht(e,n)}return o=r.interleaved,o===null?(t.next=t,_a(r)):(t.next=o.next,o.next=t),r.interleaved=t,ht(e,n)}function Bo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,la(e,n)}}function ec(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ui(e,t,n,r){var o=e.updateQueue;wt=!1;var i=o.firstBaseUpdate,l=o.lastBaseUpdate,s=o.shared.pending;if(s!==null){o.shared.pending=null;var a=s,u=a.next;a.next=null,l===null?i=u:l.next=u,l=a;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==l&&(s===null?f.firstBaseUpdate=u:s.next=u,f.lastBaseUpdate=a))}if(i!==null){var p=o.baseState;l=0,f=u=a=null,s=i;do{var h=s.lane,_=s.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:_,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var C=e,g=s;switch(h=t,_=n,g.tag){case 1:if(C=g.payload,typeof C=="function"){p=C.call(_,p,h);break e}p=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=g.payload,h=typeof C=="function"?C.call(_,p,h):C,h==null)break e;p=Q({},p,h);break e;case 2:wt=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[s]:h.push(s))}else _={eventTime:_,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(u=f=_,a=p):f=f.next=_,l|=h;if(s=s.next,s===null){if(s=o.shared.pending,s===null)break;h=s,s=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(1);if(f===null&&(a=p),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=f,t=o.shared.interleaved,t!==null){o=t;do l|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);un|=l,e.lanes=l,e.memoizedState=p}}function tc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(E(191,o));o.call(r)}}}var np=new ed.Component().refs;function Ss(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Q({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $i={isMounted:function(e){return(e=e._reactInternals)?dn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ye(),o=Ut(e),i=ct(r,o);i.payload=t,n!=null&&(i.callback=n),t=Mt(e,i,o),t!==null&&(Qe(t,e,o,r),Bo(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ye(),o=Ut(e),i=ct(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Mt(e,i,o),t!==null&&(Qe(t,e,o,r),Bo(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ye(),r=Ut(e),o=ct(n,r);o.tag=2,t!=null&&(o.callback=t),t=Mt(e,o,r),t!==null&&(Qe(t,e,r,n),Bo(t,e,r))}};function nc(e,t,n,r,o,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!$r(n,r)||!$r(o,i):!0}function rp(e,t,n){var r=!1,o=Gt,i=t.contextType;return typeof i=="object"&&i!==null?i=Be(i):(o=Ie(t)?ln:he.current,r=t.contextTypes,i=(r=r!=null)?$n(e,o):Gt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$i,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function rc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&$i.enqueueReplaceState(t,t.state,null)}function Es(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=np,Ca(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Be(i):(i=Ie(t)?ln:he.current,o.context=$n(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ss(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&$i.enqueueReplaceState(o,o.state,null),ui(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function dr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var s=o.refs;s===np&&(s=o.refs={}),l===null?delete s[i]:s[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,e))}return e}function No(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function oc(e){var t=e._init;return t(e._payload)}function op(e){function t(m,d){if(e){var v=m.deletions;v===null?(m.deletions=[d],m.flags|=16):v.push(d)}}function n(m,d){if(!e)return null;for(;d!==null;)t(m,d),d=d.sibling;return null}function r(m,d){for(m=new Map;d!==null;)d.key!==null?m.set(d.key,d):m.set(d.index,d),d=d.sibling;return m}function o(m,d){return m=$t(m,d),m.index=0,m.sibling=null,m}function i(m,d,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<d?(m.flags|=2,d):v):(m.flags|=2,d)):(m.flags|=1048576,d)}function l(m){return e&&m.alternate===null&&(m.flags|=2),m}function s(m,d,v,S){return d===null||d.tag!==6?(d=xl(v,m.mode,S),d.return=m,d):(d=o(d,v),d.return=m,d)}function a(m,d,v,S){var w=v.type;return w===vn?f(m,d,v.props.children,S,v.key):d!==null&&(d.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===It&&oc(w)===d.type)?(S=o(d,v.props),S.ref=dr(m,d,v),S.return=m,S):(S=Yo(v.type,v.key,v.props,null,m.mode,S),S.ref=dr(m,d,v),S.return=m,S)}function u(m,d,v,S){return d===null||d.tag!==4||d.stateNode.containerInfo!==v.containerInfo||d.stateNode.implementation!==v.implementation?(d=Ml(v,m.mode,S),d.return=m,d):(d=o(d,v.children||[]),d.return=m,d)}function f(m,d,v,S,w){return d===null||d.tag!==7?(d=rn(v,m.mode,S,w),d.return=m,d):(d=o(d,v),d.return=m,d)}function p(m,d,v){if(typeof d=="string"&&d!==""||typeof d=="number")return d=xl(""+d,m.mode,v),d.return=m,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case yo:return v=Yo(d.type,d.key,d.props,null,m.mode,v),v.ref=dr(m,null,d),v.return=m,v;case yn:return d=Ml(d,m.mode,v),d.return=m,d;case It:var S=d._init;return p(m,S(d._payload),v)}if(vr(d)||sr(d))return d=rn(d,m.mode,v,null),d.return=m,d;No(m,d)}return null}function h(m,d,v,S){var w=d!==null?d.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return w!==null?null:s(m,d,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case yo:return v.key===w?a(m,d,v,S):null;case yn:return v.key===w?u(m,d,v,S):null;case It:return w=v._init,h(m,d,w(v._payload),S)}if(vr(v)||sr(v))return w!==null?null:f(m,d,v,S,null);No(m,v)}return null}function _(m,d,v,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(v)||null,s(d,m,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case yo:return m=m.get(S.key===null?v:S.key)||null,a(d,m,S,w);case yn:return m=m.get(S.key===null?v:S.key)||null,u(d,m,S,w);case It:var k=S._init;return _(m,d,v,k(S._payload),w)}if(vr(S)||sr(S))return m=m.get(v)||null,f(d,m,S,w,null);No(d,S)}return null}function C(m,d,v,S){for(var w=null,k=null,R=d,L=d=0,Z=null;R!==null&&L<v.length;L++){R.index>L?(Z=R,R=null):Z=R.sibling;var $=h(m,R,v[L],S);if($===null){R===null&&(R=Z);break}e&&R&&$.alternate===null&&t(m,R),d=i($,d,L),k===null?w=$:k.sibling=$,k=$,R=Z}if(L===v.length)return n(m,R),q&&Qt(m,L),w;if(R===null){for(;L<v.length;L++)R=p(m,v[L],S),R!==null&&(d=i(R,d,L),k===null?w=R:k.sibling=R,k=R);return q&&Qt(m,L),w}for(R=r(m,R);L<v.length;L++)Z=_(R,m,L,v[L],S),Z!==null&&(e&&Z.alternate!==null&&R.delete(Z.key===null?L:Z.key),d=i(Z,d,L),k===null?w=Z:k.sibling=Z,k=Z);return e&&R.forEach(function(ze){return t(m,ze)}),q&&Qt(m,L),w}function g(m,d,v,S){var w=sr(v);if(typeof w!="function")throw Error(E(150));if(v=w.call(v),v==null)throw Error(E(151));for(var k=w=null,R=d,L=d=0,Z=null,$=v.next();R!==null&&!$.done;L++,$=v.next()){R.index>L?(Z=R,R=null):Z=R.sibling;var ze=h(m,R,$.value,S);if(ze===null){R===null&&(R=Z);break}e&&R&&ze.alternate===null&&t(m,R),d=i(ze,d,L),k===null?w=ze:k.sibling=ze,k=ze,R=Z}if($.done)return n(m,R),q&&Qt(m,L),w;if(R===null){for(;!$.done;L++,$=v.next())$=p(m,$.value,S),$!==null&&(d=i($,d,L),k===null?w=$:k.sibling=$,k=$);return q&&Qt(m,L),w}for(R=r(m,R);!$.done;L++,$=v.next())$=_(R,m,L,$.value,S),$!==null&&(e&&$.alternate!==null&&R.delete($.key===null?L:$.key),d=i($,d,L),k===null?w=$:k.sibling=$,k=$);return e&&R.forEach(function(ir){return t(m,ir)}),q&&Qt(m,L),w}function I(m,d,v,S){if(typeof v=="object"&&v!==null&&v.type===vn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case yo:e:{for(var w=v.key,k=d;k!==null;){if(k.key===w){if(w=v.type,w===vn){if(k.tag===7){n(m,k.sibling),d=o(k,v.props.children),d.return=m,m=d;break e}}else if(k.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===It&&oc(w)===k.type){n(m,k.sibling),d=o(k,v.props),d.ref=dr(m,k,v),d.return=m,m=d;break e}n(m,k);break}else t(m,k);k=k.sibling}v.type===vn?(d=rn(v.props.children,m.mode,S,v.key),d.return=m,m=d):(S=Yo(v.type,v.key,v.props,null,m.mode,S),S.ref=dr(m,d,v),S.return=m,m=S)}return l(m);case yn:e:{for(k=v.key;d!==null;){if(d.key===k)if(d.tag===4&&d.stateNode.containerInfo===v.containerInfo&&d.stateNode.implementation===v.implementation){n(m,d.sibling),d=o(d,v.children||[]),d.return=m,m=d;break e}else{n(m,d);break}else t(m,d);d=d.sibling}d=Ml(v,m.mode,S),d.return=m,m=d}return l(m);case It:return k=v._init,I(m,d,k(v._payload),S)}if(vr(v))return C(m,d,v,S);if(sr(v))return g(m,d,v,S);No(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,d!==null&&d.tag===6?(n(m,d.sibling),d=o(d,v),d.return=m,m=d):(n(m,d),d=xl(v,m.mode,S),d.return=m,m=d),l(m)):n(m,d)}return I}var Gn=op(!0),ip=op(!1),ro={},nt=Ft(ro),Hr=Ft(ro),Fr=Ft(ro);function tn(e){if(e===ro)throw Error(E(174));return e}function Sa(e,t){switch(F(Fr,t),F(Hr,e),F(nt,ro),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ts(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ts(t,e)}V(nt),F(nt,t)}function Bn(){V(nt),V(Hr),V(Fr)}function lp(e){tn(Fr.current);var t=tn(nt.current),n=ts(t,e.type);t!==n&&(F(Hr,e),F(nt,n))}function Ea(e){Hr.current===e&&(V(nt),V(Hr))}var K=Ft(0);function ci(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Nl=[];function Ia(){for(var e=0;e<Nl.length;e++)Nl[e]._workInProgressVersionPrimary=null;Nl.length=0}var Ho=vt.ReactCurrentDispatcher,Al=vt.ReactCurrentBatchConfig,an=0,b=null,ne=null,ie=null,fi=!1,wr=!1,Wr=0,hv=0;function ce(){throw Error(E(321))}function wa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xe(e[n],t[n]))return!1;return!0}function Oa(e,t,n,r,o,i){if(an=i,b=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ho.current=e===null||e.memoizedState===null?gv:Tv,e=n(r,o),wr){i=0;do{if(wr=!1,Wr=0,25<=i)throw Error(E(301));i+=1,ie=ne=null,t.updateQueue=null,Ho.current=_v,e=n(r,o)}while(wr)}if(Ho.current=di,t=ne!==null&&ne.next!==null,an=0,ie=ne=b=null,fi=!1,t)throw Error(E(300));return e}function Na(){var e=Wr!==0;return Wr=0,e}function Je(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?b.memoizedState=ie=e:ie=ie.next=e,ie}function He(){if(ne===null){var e=b.alternate;e=e!==null?e.memoizedState:null}else e=ne.next;var t=ie===null?b.memoizedState:ie.next;if(t!==null)ie=t,ne=e;else{if(e===null)throw Error(E(310));ne=e,e={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},ie===null?b.memoizedState=ie=e:ie=ie.next=e}return ie}function zr(e,t){return typeof t=="function"?t(e):t}function kl(e){var t=He(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=ne,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var l=o.next;o.next=i.next,i.next=l}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var s=l=null,a=null,u=i;do{var f=u.lane;if((an&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(s=a=p,l=r):a=a.next=p,b.lanes|=f,un|=f}u=u.next}while(u!==null&&u!==i);a===null?l=r:a.next=s,Xe(r,t.memoizedState)||(Se=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,b.lanes|=i,un|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Rl(e){var t=He(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var l=o=o.next;do i=e(i,l.action),l=l.next;while(l!==o);Xe(i,t.memoizedState)||(Se=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function sp(){}function ap(e,t){var n=b,r=He(),o=t(),i=!Xe(r.memoizedState,o);if(i&&(r.memoizedState=o,Se=!0),r=r.queue,Aa(fp.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ie!==null&&ie.memoizedState.tag&1){if(n.flags|=2048,Vr(9,cp.bind(null,n,r,o,t),void 0,null),le===null)throw Error(E(349));an&30||up(n,t,o)}return o}function up(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=b.updateQueue,t===null?(t={lastEffect:null,stores:null},b.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function cp(e,t,n,r){t.value=n,t.getSnapshot=r,dp(t)&&pp(e)}function fp(e,t,n){return n(function(){dp(t)&&pp(e)})}function dp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xe(e,n)}catch{return!0}}function pp(e){var t=ht(e,1);t!==null&&Qe(t,e,1,-1)}function ic(e){var t=Je();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:e},t.queue=e,e=e.dispatch=vv.bind(null,b,e),[t.memoizedState,e]}function Vr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=b.updateQueue,t===null?(t={lastEffect:null,stores:null},b.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function hp(){return He().memoizedState}function Fo(e,t,n,r){var o=Je();b.flags|=e,o.memoizedState=Vr(1|t,n,void 0,r===void 0?null:r)}function Di(e,t,n,r){var o=He();r=r===void 0?null:r;var i=void 0;if(ne!==null){var l=ne.memoizedState;if(i=l.destroy,r!==null&&wa(r,l.deps)){o.memoizedState=Vr(t,n,i,r);return}}b.flags|=e,o.memoizedState=Vr(1|t,n,i,r)}function lc(e,t){return Fo(8390656,8,e,t)}function Aa(e,t){return Di(2048,8,e,t)}function mp(e,t){return Di(4,2,e,t)}function yp(e,t){return Di(4,4,e,t)}function vp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gp(e,t,n){return n=n!=null?n.concat([e]):null,Di(4,4,vp.bind(null,t,e),n)}function ka(){}function Tp(e,t){var n=He();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _p(e,t){var n=He();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Cp(e,t,n){return an&21?(Xe(n,t)||(n=Id(),b.lanes|=n,un|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Se=!0),e.memoizedState=n)}function mv(e,t){var n=G;G=n!==0&&4>n?n:4,e(!0);var r=Al.transition;Al.transition={};try{e(!1),t()}finally{G=n,Al.transition=r}}function Sp(){return He().memoizedState}function yv(e,t,n){var r=Ut(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ep(e))Ip(t,n);else if(n=ep(e,t,n,r),n!==null){var o=ye();Qe(n,e,r,o),wp(n,t,r)}}function vv(e,t,n){var r=Ut(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ep(e))Ip(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,s=i(l,n);if(o.hasEagerState=!0,o.eagerState=s,Xe(s,l)){var a=t.interleaved;a===null?(o.next=o,_a(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=ep(e,t,o,r),n!==null&&(o=ye(),Qe(n,e,r,o),wp(n,t,r))}}function Ep(e){var t=e.alternate;return e===b||t!==null&&t===b}function Ip(e,t){wr=fi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function wp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,la(e,n)}}var di={readContext:Be,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useInsertionEffect:ce,useLayoutEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useMutableSource:ce,useSyncExternalStore:ce,useId:ce,unstable_isNewReconciler:!1},gv={readContext:Be,useCallback:function(e,t){return Je().memoizedState=[e,t===void 0?null:t],e},useContext:Be,useEffect:lc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Fo(4194308,4,vp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fo(4,2,e,t)},useMemo:function(e,t){var n=Je();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Je();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=yv.bind(null,b,e),[r.memoizedState,e]},useRef:function(e){var t=Je();return e={current:e},t.memoizedState=e},useState:ic,useDebugValue:ka,useDeferredValue:function(e){return Je().memoizedState=e},useTransition:function(){var e=ic(!1),t=e[0];return e=mv.bind(null,e[1]),Je().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=b,o=Je();if(q){if(n===void 0)throw Error(E(407));n=n()}else{if(n=t(),le===null)throw Error(E(349));an&30||up(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,lc(fp.bind(null,r,i,e),[e]),r.flags|=2048,Vr(9,cp.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Je(),t=le.identifierPrefix;if(q){var n=ut,r=at;n=(r&~(1<<32-be(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Wr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=hv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Tv={readContext:Be,useCallback:Tp,useContext:Be,useEffect:Aa,useImperativeHandle:gp,useInsertionEffect:mp,useLayoutEffect:yp,useMemo:_p,useReducer:kl,useRef:hp,useState:function(){return kl(zr)},useDebugValue:ka,useDeferredValue:function(e){var t=He();return Cp(t,ne.memoizedState,e)},useTransition:function(){var e=kl(zr)[0],t=He().memoizedState;return[e,t]},useMutableSource:sp,useSyncExternalStore:ap,useId:Sp,unstable_isNewReconciler:!1},_v={readContext:Be,useCallback:Tp,useContext:Be,useEffect:Aa,useImperativeHandle:gp,useInsertionEffect:mp,useLayoutEffect:yp,useMemo:_p,useReducer:Rl,useRef:hp,useState:function(){return Rl(zr)},useDebugValue:ka,useDeferredValue:function(e){var t=He();return ne===null?t.memoizedState=e:Cp(t,ne.memoizedState,e)},useTransition:function(){var e=Rl(zr)[0],t=He().memoizedState;return[e,t]},useMutableSource:sp,useSyncExternalStore:ap,useId:Sp,unstable_isNewReconciler:!1};function Hn(e,t){try{var n="",r=t;do n+=Km(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Pl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Is(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Cv=typeof WeakMap=="function"?WeakMap:Map;function Op(e,t,n){n=ct(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){hi||(hi=!0,Ms=r),Is(e,t)},n}function Np(e,t,n){n=ct(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Is(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Is(e,t),typeof r!="function"&&(jt===null?jt=new Set([this]):jt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function sc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Cv;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=jv.bind(null,e,t,n),t.then(e,e))}function ac(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uc(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ct(-1,1),t.tag=2,Mt(n,t,1))),n.lanes|=1),e)}var Sv=vt.ReactCurrentOwner,Se=!1;function me(e,t,n,r){t.child=e===null?ip(t,null,n,r):Gn(t,e.child,n,r)}function cc(e,t,n,r,o){n=n.render;var i=t.ref;return xn(t,o),r=Oa(e,t,n,r,i,o),n=Na(),e!==null&&!Se?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,mt(e,t,o)):(q&&n&&ha(t),t.flags|=1,me(e,t,r,o),t.child)}function fc(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!$a(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Ap(e,t,i,r,o)):(e=Yo(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:$r,n(l,r)&&e.ref===t.ref)return mt(e,t,o)}return t.flags|=1,e=$t(i,r),e.ref=t.ref,e.return=t,t.child=e}function Ap(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if($r(i,r)&&e.ref===t.ref)if(Se=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(Se=!0);else return t.lanes=e.lanes,mt(e,t,o)}return ws(e,t,n,r,o)}function kp(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},F(Nn,Oe),Oe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,F(Nn,Oe),Oe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,F(Nn,Oe),Oe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,F(Nn,Oe),Oe|=r;return me(e,t,o,n),t.child}function Rp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ws(e,t,n,r,o){var i=Ie(n)?ln:he.current;return i=$n(t,i),xn(t,o),n=Oa(e,t,n,r,i,o),r=Na(),e!==null&&!Se?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,mt(e,t,o)):(q&&r&&ha(t),t.flags|=1,me(e,t,n,o),t.child)}function dc(e,t,n,r,o){if(Ie(n)){var i=!0;oi(t)}else i=!1;if(xn(t,o),t.stateNode===null)Wo(e,t),rp(t,n,r),Es(t,n,r,o),r=!0;else if(e===null){var l=t.stateNode,s=t.memoizedProps;l.props=s;var a=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=Be(u):(u=Ie(n)?ln:he.current,u=$n(t,u));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==r||a!==u)&&rc(t,l,r,u),wt=!1;var h=t.memoizedState;l.state=h,ui(t,r,l,o),a=t.memoizedState,s!==r||h!==a||Ee.current||wt?(typeof f=="function"&&(Ss(t,n,f,r),a=t.memoizedState),(s=wt||nc(t,n,s,r,h,a,u))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),l.props=r,l.state=a,l.context=u,r=s):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,tp(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Ye(t.type,s),l.props=u,p=t.pendingProps,h=l.context,a=n.contextType,typeof a=="object"&&a!==null?a=Be(a):(a=Ie(n)?ln:he.current,a=$n(t,a));var _=n.getDerivedStateFromProps;(f=typeof _=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==p||h!==a)&&rc(t,l,r,a),wt=!1,h=t.memoizedState,l.state=h,ui(t,r,l,o);var C=t.memoizedState;s!==p||h!==C||Ee.current||wt?(typeof _=="function"&&(Ss(t,n,_,r),C=t.memoizedState),(u=wt||nc(t,n,u,r,h,C,a)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,C,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,C,a)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=C),l.props=r,l.state=C,l.context=a,r=u):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Os(e,t,n,r,i,o)}function Os(e,t,n,r,o,i){Rp(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return o&&Xu(t,n,!1),mt(e,t,i);r=t.stateNode,Sv.current=t;var s=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Gn(t,e.child,null,i),t.child=Gn(t,null,s,i)):me(e,t,s,i),t.memoizedState=r.state,o&&Xu(t,n,!0),t.child}function Pp(e){var t=e.stateNode;t.pendingContext?Qu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qu(e,t.context,!1),Sa(e,t.containerInfo)}function pc(e,t,n,r,o){return Dn(),ya(o),t.flags|=256,me(e,t,n,r),t.child}var Ns={dehydrated:null,treeContext:null,retryLane:0};function As(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lp(e,t,n){var r=t.pendingProps,o=K.current,i=!1,l=(t.flags&128)!==0,s;if((s=l)||(s=e!==null&&e.memoizedState===null?!1:(o&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),F(K,o&1),e===null)return _s(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Hi(l,r,0,null),e=rn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=As(n),t.memoizedState=Ns,e):Ra(t,l));if(o=e.memoizedState,o!==null&&(s=o.dehydrated,s!==null))return Ev(e,t,l,r,s,o,n);if(i){i=r.fallback,l=t.mode,o=e.child,s=o.sibling;var a={mode:"hidden",children:r.children};return!(l&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=$t(o,a),r.subtreeFlags=o.subtreeFlags&14680064),s!==null?i=$t(s,i):(i=rn(i,l,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?As(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Ns,r}return i=e.child,e=i.sibling,r=$t(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ra(e,t){return t=Hi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ao(e,t,n,r){return r!==null&&ya(r),Gn(t,e.child,null,n),e=Ra(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ev(e,t,n,r,o,i,l){if(n)return t.flags&256?(t.flags&=-257,r=Pl(Error(E(422))),Ao(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Hi({mode:"visible",children:r.children},o,0,null),i=rn(i,o,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Gn(t,e.child,null,l),t.child.memoizedState=As(l),t.memoizedState=Ns,i);if(!(t.mode&1))return Ao(e,t,l,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var s=r.dgst;return r=s,i=Error(E(419)),r=Pl(i,r,void 0),Ao(e,t,l,r)}if(s=(l&e.childLanes)!==0,Se||s){if(r=le,r!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|l)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,ht(e,o),Qe(r,e,o,-1))}return Ua(),r=Pl(Error(E(421))),Ao(e,t,l,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Uv.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Ne=xt(o.nextSibling),ke=t,q=!0,Ke=null,e!==null&&(je[Ue++]=at,je[Ue++]=ut,je[Ue++]=sn,at=e.id,ut=e.overflow,sn=t),t=Ra(t,r.children),t.flags|=4096,t)}function hc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Cs(e.return,t,n)}function Ll(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function xp(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(me(e,t,r.children,n),r=K.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hc(e,n,t);else if(e.tag===19)hc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(F(K,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&ci(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ll(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ci(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ll(t,!0,n,null,i);break;case"together":Ll(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),un|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,n=$t(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=$t(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Iv(e,t,n){switch(t.tag){case 3:Pp(t),Dn();break;case 5:lp(t);break;case 1:Ie(t.type)&&oi(t);break;case 4:Sa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;F(si,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(F(K,K.current&1),t.flags|=128,null):n&t.child.childLanes?Lp(e,t,n):(F(K,K.current&1),e=mt(e,t,n),e!==null?e.sibling:null);F(K,K.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return xp(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),F(K,K.current),r)break;return null;case 22:case 23:return t.lanes=0,kp(e,t,n)}return mt(e,t,n)}var Mp,ks,jp,Up;Mp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ks=function(){};jp=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,tn(nt.current);var i=null;switch(n){case"input":o=Xl(e,o),r=Xl(e,r),i=[];break;case"select":o=Q({},o,{value:void 0}),r=Q({},r,{value:void 0}),i=[];break;case"textarea":o=es(e,o),r=es(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ni)}ns(n,r);var l;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var s=o[u];for(l in s)s.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Rr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(s=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&a!==s&&(a!=null||s!=null))if(u==="style")if(s){for(l in s)!s.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in a)a.hasOwnProperty(l)&&s[l]!==a[l]&&(n||(n={}),n[l]=a[l])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Rr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&W("scroll",e),i||s===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Up=function(e,t,n,r){n!==r&&(t.flags|=4)};function pr(e,t){if(!q)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function wv(e,t,n){var r=t.pendingProps;switch(ma(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(t),null;case 1:return Ie(t.type)&&ri(),fe(t),null;case 3:return r=t.stateNode,Bn(),V(Ee),V(he),Ia(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Oo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ke!==null&&($s(Ke),Ke=null))),ks(e,t),fe(t),null;case 5:Ea(t);var o=tn(Fr.current);if(n=t.type,e!==null&&t.stateNode!=null)jp(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(E(166));return fe(t),null}if(e=tn(nt.current),Oo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[et]=t,r[Br]=i,e=(t.mode&1)!==0,n){case"dialog":W("cancel",r),W("close",r);break;case"iframe":case"object":case"embed":W("load",r);break;case"video":case"audio":for(o=0;o<Tr.length;o++)W(Tr[o],r);break;case"source":W("error",r);break;case"img":case"image":case"link":W("error",r),W("load",r);break;case"details":W("toggle",r);break;case"input":Eu(r,i),W("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},W("invalid",r);break;case"textarea":wu(r,i),W("invalid",r)}ns(n,i),o=null;for(var l in i)if(i.hasOwnProperty(l)){var s=i[l];l==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&wo(r.textContent,s,e),o=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&wo(r.textContent,s,e),o=["children",""+s]):Rr.hasOwnProperty(l)&&s!=null&&l==="onScroll"&&W("scroll",r)}switch(n){case"input":vo(r),Iu(r,i,!0);break;case"textarea":vo(r),Ou(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ni)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ud(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[et]=t,e[Br]=r,Mp(e,t,!1,!1),t.stateNode=e;e:{switch(l=rs(n,r),n){case"dialog":W("cancel",e),W("close",e),o=r;break;case"iframe":case"object":case"embed":W("load",e),o=r;break;case"video":case"audio":for(o=0;o<Tr.length;o++)W(Tr[o],e);o=r;break;case"source":W("error",e),o=r;break;case"img":case"image":case"link":W("error",e),W("load",e),o=r;break;case"details":W("toggle",e),o=r;break;case"input":Eu(e,r),o=Xl(e,r),W("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Q({},r,{value:void 0}),W("invalid",e);break;case"textarea":wu(e,r),o=es(e,r),W("invalid",e);break;default:o=r}ns(n,o),s=o;for(i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="style"?dd(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&cd(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Pr(e,a):typeof a=="number"&&Pr(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Rr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&W("scroll",e):a!=null&&ea(e,i,a,l))}switch(n){case"input":vo(e),Iu(e,r,!1);break;case"textarea":vo(e),Ou(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Dt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?kn(e,!!r.multiple,i,!1):r.defaultValue!=null&&kn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=ni)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fe(t),null;case 6:if(e&&t.stateNode!=null)Up(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(E(166));if(n=tn(Fr.current),tn(nt.current),Oo(t)){if(r=t.stateNode,n=t.memoizedProps,r[et]=t,(i=r.nodeValue!==n)&&(e=ke,e!==null))switch(e.tag){case 3:wo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wo(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[et]=t,t.stateNode=r}return fe(t),null;case 13:if(V(K),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(q&&Ne!==null&&t.mode&1&&!(t.flags&128))Jd(),Dn(),t.flags|=98560,i=!1;else if(i=Oo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(E(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[et]=t}else Dn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fe(t),i=!1}else Ke!==null&&($s(Ke),Ke=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||K.current&1?re===0&&(re=3):Ua())),t.updateQueue!==null&&(t.flags|=4),fe(t),null);case 4:return Bn(),ks(e,t),e===null&&Dr(t.stateNode.containerInfo),fe(t),null;case 10:return Ta(t.type._context),fe(t),null;case 17:return Ie(t.type)&&ri(),fe(t),null;case 19:if(V(K),i=t.memoizedState,i===null)return fe(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)pr(i,!1);else{if(re!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=ci(e),l!==null){for(t.flags|=128,pr(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return F(K,K.current&1|2),t.child}e=e.sibling}i.tail!==null&&ee()>Fn&&(t.flags|=128,r=!0,pr(i,!1),t.lanes=4194304)}else{if(!r)if(e=ci(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),pr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!q)return fe(t),null}else 2*ee()-i.renderingStartTime>Fn&&n!==1073741824&&(t.flags|=128,r=!0,pr(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ee(),t.sibling=null,n=K.current,F(K,r?n&1|2:n&1),t):(fe(t),null);case 22:case 23:return ja(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Oe&1073741824&&(fe(t),t.subtreeFlags&6&&(t.flags|=8192)):fe(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function Ov(e,t){switch(ma(t),t.tag){case 1:return Ie(t.type)&&ri(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bn(),V(Ee),V(he),Ia(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ea(t),null;case 13:if(V(K),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));Dn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(K),null;case 4:return Bn(),null;case 10:return Ta(t.type._context),null;case 22:case 23:return ja(),null;case 24:return null;default:return null}}var ko=!1,pe=!1,Nv=typeof WeakSet=="function"?WeakSet:Set,N=null;function On(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){X(e,t,r)}else n.current=null}function Rs(e,t,n){try{n()}catch(r){X(e,t,r)}}var mc=!1;function Av(e,t){if(ps=Jo,e=Bd(),pa(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,s=-1,a=-1,u=0,f=0,p=e,h=null;t:for(;;){for(var _;p!==n||o!==0&&p.nodeType!==3||(s=l+o),p!==i||r!==0&&p.nodeType!==3||(a=l+r),p.nodeType===3&&(l+=p.nodeValue.length),(_=p.firstChild)!==null;)h=p,p=_;for(;;){if(p===e)break t;if(h===n&&++u===o&&(s=l),h===i&&++f===r&&(a=l),(_=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=_}n=s===-1||a===-1?null:{start:s,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(hs={focusedElem:e,selectionRange:n},Jo=!1,N=t;N!==null;)if(t=N,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,N=e;else for(;N!==null;){t=N;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var g=C.memoizedProps,I=C.memoizedState,m=t.stateNode,d=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ye(t.type,g),I);m.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(S){X(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,N=e;break}N=t.return}return C=mc,mc=!1,C}function Or(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Rs(t,n,i)}o=o.next}while(o!==r)}}function Gi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ps(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function $p(e){var t=e.alternate;t!==null&&(e.alternate=null,$p(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[et],delete t[Br],delete t[vs],delete t[cv],delete t[fv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Dp(e){return e.tag===5||e.tag===3||e.tag===4}function yc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ls(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ni));else if(r!==4&&(e=e.child,e!==null))for(Ls(e,t,n),e=e.sibling;e!==null;)Ls(e,t,n),e=e.sibling}function xs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(xs(e,t,n),e=e.sibling;e!==null;)xs(e,t,n),e=e.sibling}var se=null,qe=!1;function _t(e,t,n){for(n=n.child;n!==null;)Gp(e,t,n),n=n.sibling}function Gp(e,t,n){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(Pi,n)}catch{}switch(n.tag){case 5:pe||On(n,t);case 6:var r=se,o=qe;se=null,_t(e,t,n),se=r,qe=o,se!==null&&(qe?(e=se,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):se.removeChild(n.stateNode));break;case 18:se!==null&&(qe?(e=se,n=n.stateNode,e.nodeType===8?wl(e.parentNode,n):e.nodeType===1&&wl(e,n),jr(e)):wl(se,n.stateNode));break;case 4:r=se,o=qe,se=n.stateNode.containerInfo,qe=!0,_t(e,t,n),se=r,qe=o;break;case 0:case 11:case 14:case 15:if(!pe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Rs(n,t,l),o=o.next}while(o!==r)}_t(e,t,n);break;case 1:if(!pe&&(On(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){X(n,t,s)}_t(e,t,n);break;case 21:_t(e,t,n);break;case 22:n.mode&1?(pe=(r=pe)||n.memoizedState!==null,_t(e,t,n),pe=r):_t(e,t,n);break;default:_t(e,t,n)}}function vc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Nv),t.forEach(function(r){var o=$v.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Ve(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,l=t,s=l;e:for(;s!==null;){switch(s.tag){case 5:se=s.stateNode,qe=!1;break e;case 3:se=s.stateNode.containerInfo,qe=!0;break e;case 4:se=s.stateNode.containerInfo,qe=!0;break e}s=s.return}if(se===null)throw Error(E(160));Gp(i,l,o),se=null,qe=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){X(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Bp(t,e),t=t.sibling}function Bp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ve(t,e),Ze(e),r&4){try{Or(3,e,e.return),Gi(3,e)}catch(g){X(e,e.return,g)}try{Or(5,e,e.return)}catch(g){X(e,e.return,g)}}break;case 1:Ve(t,e),Ze(e),r&512&&n!==null&&On(n,n.return);break;case 5:if(Ve(t,e),Ze(e),r&512&&n!==null&&On(n,n.return),e.flags&32){var o=e.stateNode;try{Pr(o,"")}catch(g){X(e,e.return,g)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,s=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&sd(o,i),rs(s,l);var u=rs(s,i);for(l=0;l<a.length;l+=2){var f=a[l],p=a[l+1];f==="style"?dd(o,p):f==="dangerouslySetInnerHTML"?cd(o,p):f==="children"?Pr(o,p):ea(o,f,p,u)}switch(s){case"input":Zl(o,i);break;case"textarea":ad(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var _=i.value;_!=null?kn(o,!!i.multiple,_,!1):h!==!!i.multiple&&(i.defaultValue!=null?kn(o,!!i.multiple,i.defaultValue,!0):kn(o,!!i.multiple,i.multiple?[]:"",!1))}o[Br]=i}catch(g){X(e,e.return,g)}}break;case 6:if(Ve(t,e),Ze(e),r&4){if(e.stateNode===null)throw Error(E(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(g){X(e,e.return,g)}}break;case 3:if(Ve(t,e),Ze(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{jr(t.containerInfo)}catch(g){X(e,e.return,g)}break;case 4:Ve(t,e),Ze(e);break;case 13:Ve(t,e),Ze(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(xa=ee())),r&4&&vc(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(pe=(u=pe)||f,Ve(t,e),pe=u):Ve(t,e),Ze(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(N=e,f=e.child;f!==null;){for(p=N=f;N!==null;){switch(h=N,_=h.child,h.tag){case 0:case 11:case 14:case 15:Or(4,h,h.return);break;case 1:On(h,h.return);var C=h.stateNode;if(typeof C.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(g){X(r,n,g)}}break;case 5:On(h,h.return);break;case 22:if(h.memoizedState!==null){Tc(p);continue}}_!==null?(_.return=h,N=_):Tc(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{o=p.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=p.stateNode,a=p.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,s.style.display=fd("display",l))}catch(g){X(e,e.return,g)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(g){X(e,e.return,g)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ve(t,e),Ze(e),r&4&&vc(e);break;case 21:break;default:Ve(t,e),Ze(e)}}function Ze(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Dp(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Pr(o,""),r.flags&=-33);var i=yc(e);xs(e,i,o);break;case 3:case 4:var l=r.stateNode.containerInfo,s=yc(e);Ls(e,s,l);break;default:throw Error(E(161))}}catch(a){X(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kv(e,t,n){N=e,Hp(e)}function Hp(e,t,n){for(var r=(e.mode&1)!==0;N!==null;){var o=N,i=o.child;if(o.tag===22&&r){var l=o.memoizedState!==null||ko;if(!l){var s=o.alternate,a=s!==null&&s.memoizedState!==null||pe;s=ko;var u=pe;if(ko=l,(pe=a)&&!u)for(N=o;N!==null;)l=N,a=l.child,l.tag===22&&l.memoizedState!==null?_c(o):a!==null?(a.return=l,N=a):_c(o);for(;i!==null;)N=i,Hp(i),i=i.sibling;N=o,ko=s,pe=u}gc(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,N=i):gc(e)}}function gc(e){for(;N!==null;){var t=N;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pe||Gi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!pe)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Ye(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&tc(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}tc(t,l,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&jr(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}pe||t.flags&512&&Ps(t)}catch(h){X(t,t.return,h)}}if(t===e){N=null;break}if(n=t.sibling,n!==null){n.return=t.return,N=n;break}N=t.return}}function Tc(e){for(;N!==null;){var t=N;if(t===e){N=null;break}var n=t.sibling;if(n!==null){n.return=t.return,N=n;break}N=t.return}}function _c(e){for(;N!==null;){var t=N;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Gi(4,t)}catch(a){X(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){X(t,o,a)}}var i=t.return;try{Ps(t)}catch(a){X(t,i,a)}break;case 5:var l=t.return;try{Ps(t)}catch(a){X(t,l,a)}}}catch(a){X(t,t.return,a)}if(t===e){N=null;break}var s=t.sibling;if(s!==null){s.return=t.return,N=s;break}N=t.return}}var Rv=Math.ceil,pi=vt.ReactCurrentDispatcher,Pa=vt.ReactCurrentOwner,Ge=vt.ReactCurrentBatchConfig,D=0,le=null,te=null,ae=0,Oe=0,Nn=Ft(0),re=0,Yr=null,un=0,Bi=0,La=0,Nr=null,Ce=null,xa=0,Fn=1/0,lt=null,hi=!1,Ms=null,jt=null,Ro=!1,kt=null,mi=0,Ar=0,js=null,zo=-1,Vo=0;function ye(){return D&6?ee():zo!==-1?zo:zo=ee()}function Ut(e){return e.mode&1?D&2&&ae!==0?ae&-ae:pv.transition!==null?(Vo===0&&(Vo=Id()),Vo):(e=G,e!==0||(e=window.event,e=e===void 0?16:Pd(e.type)),e):1}function Qe(e,t,n,r){if(50<Ar)throw Ar=0,js=null,Error(E(185));eo(e,n,r),(!(D&2)||e!==le)&&(e===le&&(!(D&2)&&(Bi|=n),re===4&&Nt(e,ae)),we(e,r),n===1&&D===0&&!(t.mode&1)&&(Fn=ee()+500,Ui&&Wt()))}function we(e,t){var n=e.callbackNode;py(e,t);var r=Zo(e,e===le?ae:0);if(r===0)n!==null&&ku(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ku(n),t===1)e.tag===0?dv(Cc.bind(null,e)):Qd(Cc.bind(null,e)),av(function(){!(D&6)&&Wt()}),n=null;else{switch(wd(r)){case 1:n=ia;break;case 4:n=Sd;break;case 16:n=Xo;break;case 536870912:n=Ed;break;default:n=Xo}n=bp(n,Fp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Fp(e,t){if(zo=-1,Vo=0,D&6)throw Error(E(327));var n=e.callbackNode;if(Mn()&&e.callbackNode!==n)return null;var r=Zo(e,e===le?ae:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=yi(e,r);else{t=r;var o=D;D|=2;var i=zp();(le!==e||ae!==t)&&(lt=null,Fn=ee()+500,nn(e,t));do try{xv();break}catch(s){Wp(e,s)}while(1);ga(),pi.current=i,D=o,te!==null?t=0:(le=null,ae=0,t=re)}if(t!==0){if(t===2&&(o=as(e),o!==0&&(r=o,t=Us(e,o))),t===1)throw n=Yr,nn(e,0),Nt(e,r),we(e,ee()),n;if(t===6)Nt(e,r);else{if(o=e.current.alternate,!(r&30)&&!Pv(o)&&(t=yi(e,r),t===2&&(i=as(e),i!==0&&(r=i,t=Us(e,i))),t===1))throw n=Yr,nn(e,0),Nt(e,r),we(e,ee()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(E(345));case 2:Xt(e,Ce,lt);break;case 3:if(Nt(e,r),(r&130023424)===r&&(t=xa+500-ee(),10<t)){if(Zo(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){ye(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ys(Xt.bind(null,e,Ce,lt),t);break}Xt(e,Ce,lt);break;case 4:if(Nt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var l=31-be(r);i=1<<l,l=t[l],l>o&&(o=l),r&=~i}if(r=o,r=ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Rv(r/1960))-r,10<r){e.timeoutHandle=ys(Xt.bind(null,e,Ce,lt),r);break}Xt(e,Ce,lt);break;case 5:Xt(e,Ce,lt);break;default:throw Error(E(329))}}}return we(e,ee()),e.callbackNode===n?Fp.bind(null,e):null}function Us(e,t){var n=Nr;return e.current.memoizedState.isDehydrated&&(nn(e,t).flags|=256),e=yi(e,t),e!==2&&(t=Ce,Ce=n,t!==null&&$s(t)),e}function $s(e){Ce===null?Ce=e:Ce.push.apply(Ce,e)}function Pv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Xe(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Nt(e,t){for(t&=~La,t&=~Bi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-be(t),r=1<<n;e[n]=-1,t&=~r}}function Cc(e){if(D&6)throw Error(E(327));Mn();var t=Zo(e,0);if(!(t&1))return we(e,ee()),null;var n=yi(e,t);if(e.tag!==0&&n===2){var r=as(e);r!==0&&(t=r,n=Us(e,r))}if(n===1)throw n=Yr,nn(e,0),Nt(e,t),we(e,ee()),n;if(n===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xt(e,Ce,lt),we(e,ee()),null}function Ma(e,t){var n=D;D|=1;try{return e(t)}finally{D=n,D===0&&(Fn=ee()+500,Ui&&Wt())}}function cn(e){kt!==null&&kt.tag===0&&!(D&6)&&Mn();var t=D;D|=1;var n=Ge.transition,r=G;try{if(Ge.transition=null,G=1,e)return e()}finally{G=r,Ge.transition=n,D=t,!(D&6)&&Wt()}}function ja(){Oe=Nn.current,V(Nn)}function nn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sv(n)),te!==null)for(n=te.return;n!==null;){var r=n;switch(ma(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ri();break;case 3:Bn(),V(Ee),V(he),Ia();break;case 5:Ea(r);break;case 4:Bn();break;case 13:V(K);break;case 19:V(K);break;case 10:Ta(r.type._context);break;case 22:case 23:ja()}n=n.return}if(le=e,te=e=$t(e.current,null),ae=Oe=t,re=0,Yr=null,La=Bi=un=0,Ce=Nr=null,en!==null){for(t=0;t<en.length;t++)if(n=en[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=o,r.next=l}n.pending=r}en=null}return e}function Wp(e,t){do{var n=te;try{if(ga(),Ho.current=di,fi){for(var r=b.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}fi=!1}if(an=0,ie=ne=b=null,wr=!1,Wr=0,Pa.current=null,n===null||n.return===null){re=1,Yr=t,te=null;break}e:{var i=e,l=n.return,s=n,a=t;if(t=ae,s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=s,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var _=ac(l);if(_!==null){_.flags&=-257,uc(_,l,s,i,t),_.mode&1&&sc(i,u,t),t=_,a=u;var C=t.updateQueue;if(C===null){var g=new Set;g.add(a),t.updateQueue=g}else C.add(a);break e}else{if(!(t&1)){sc(i,u,t),Ua();break e}a=Error(E(426))}}else if(q&&s.mode&1){var I=ac(l);if(I!==null){!(I.flags&65536)&&(I.flags|=256),uc(I,l,s,i,t),ya(Hn(a,s));break e}}i=a=Hn(a,s),re!==4&&(re=2),Nr===null?Nr=[i]:Nr.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Op(i,a,t);ec(i,m);break e;case 1:s=a;var d=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(jt===null||!jt.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=Np(i,s,t);ec(i,S);break e}}i=i.return}while(i!==null)}Yp(n)}catch(w){t=w,te===n&&n!==null&&(te=n=n.return);continue}break}while(1)}function zp(){var e=pi.current;return pi.current=di,e===null?di:e}function Ua(){(re===0||re===3||re===2)&&(re=4),le===null||!(un&268435455)&&!(Bi&268435455)||Nt(le,ae)}function yi(e,t){var n=D;D|=2;var r=zp();(le!==e||ae!==t)&&(lt=null,nn(e,t));do try{Lv();break}catch(o){Wp(e,o)}while(1);if(ga(),D=n,pi.current=r,te!==null)throw Error(E(261));return le=null,ae=0,re}function Lv(){for(;te!==null;)Vp(te)}function xv(){for(;te!==null&&!oy();)Vp(te)}function Vp(e){var t=Kp(e.alternate,e,Oe);e.memoizedProps=e.pendingProps,t===null?Yp(e):te=t,Pa.current=null}function Yp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Ov(n,t),n!==null){n.flags&=32767,te=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{re=6,te=null;return}}else if(n=wv(n,t,Oe),n!==null){te=n;return}if(t=t.sibling,t!==null){te=t;return}te=t=e}while(t!==null);re===0&&(re=5)}function Xt(e,t,n){var r=G,o=Ge.transition;try{Ge.transition=null,G=1,Mv(e,t,n,r)}finally{Ge.transition=o,G=r}return null}function Mv(e,t,n,r){do Mn();while(kt!==null);if(D&6)throw Error(E(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(hy(e,i),e===le&&(te=le=null,ae=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ro||(Ro=!0,bp(Xo,function(){return Mn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ge.transition,Ge.transition=null;var l=G;G=1;var s=D;D|=4,Pa.current=null,Av(e,n),Bp(n,e),ev(hs),Jo=!!ps,hs=ps=null,e.current=n,kv(n),iy(),D=s,G=l,Ge.transition=i}else e.current=n;if(Ro&&(Ro=!1,kt=e,mi=o),i=e.pendingLanes,i===0&&(jt=null),ay(n.stateNode),we(e,ee()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(hi)throw hi=!1,e=Ms,Ms=null,e;return mi&1&&e.tag!==0&&Mn(),i=e.pendingLanes,i&1?e===js?Ar++:(Ar=0,js=e):Ar=0,Wt(),null}function Mn(){if(kt!==null){var e=wd(mi),t=Ge.transition,n=G;try{if(Ge.transition=null,G=16>e?16:e,kt===null)var r=!1;else{if(e=kt,kt=null,mi=0,D&6)throw Error(E(331));var o=D;for(D|=4,N=e.current;N!==null;){var i=N,l=i.child;if(N.flags&16){var s=i.deletions;if(s!==null){for(var a=0;a<s.length;a++){var u=s[a];for(N=u;N!==null;){var f=N;switch(f.tag){case 0:case 11:case 15:Or(8,f,i)}var p=f.child;if(p!==null)p.return=f,N=p;else for(;N!==null;){f=N;var h=f.sibling,_=f.return;if($p(f),f===u){N=null;break}if(h!==null){h.return=_,N=h;break}N=_}}}var C=i.alternate;if(C!==null){var g=C.child;if(g!==null){C.child=null;do{var I=g.sibling;g.sibling=null,g=I}while(g!==null)}}N=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,N=l;else e:for(;N!==null;){if(i=N,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Or(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,N=m;break e}N=i.return}}var d=e.current;for(N=d;N!==null;){l=N;var v=l.child;if(l.subtreeFlags&2064&&v!==null)v.return=l,N=v;else e:for(l=d;N!==null;){if(s=N,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Gi(9,s)}}catch(w){X(s,s.return,w)}if(s===l){N=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,N=S;break e}N=s.return}}if(D=o,Wt(),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(Pi,e)}catch{}r=!0}return r}finally{G=n,Ge.transition=t}}return!1}function Sc(e,t,n){t=Hn(n,t),t=Op(e,t,1),e=Mt(e,t,1),t=ye(),e!==null&&(eo(e,1,t),we(e,t))}function X(e,t,n){if(e.tag===3)Sc(e,e,n);else for(;t!==null;){if(t.tag===3){Sc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jt===null||!jt.has(r))){e=Hn(n,e),e=Np(t,e,1),t=Mt(t,e,1),e=ye(),t!==null&&(eo(t,1,e),we(t,e));break}}t=t.return}}function jv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ye(),e.pingedLanes|=e.suspendedLanes&n,le===e&&(ae&n)===n&&(re===4||re===3&&(ae&130023424)===ae&&500>ee()-xa?nn(e,0):La|=n),we(e,t)}function qp(e,t){t===0&&(e.mode&1?(t=_o,_o<<=1,!(_o&130023424)&&(_o=4194304)):t=1);var n=ye();e=ht(e,t),e!==null&&(eo(e,t,n),we(e,n))}function Uv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qp(e,n)}function $v(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(t),qp(e,n)}var Kp;Kp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ee.current)Se=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Se=!1,Iv(e,t,n);Se=!!(e.flags&131072)}else Se=!1,q&&t.flags&1048576&&Xd(t,li,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wo(e,t),e=t.pendingProps;var o=$n(t,he.current);xn(t,n),o=Oa(null,t,r,e,o,n);var i=Na();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ie(r)?(i=!0,oi(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ca(t),o.updater=$i,t.stateNode=o,o._reactInternals=t,Es(t,r,e,n),t=Os(null,t,r,!0,i,n)):(t.tag=0,q&&i&&ha(t),me(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Gv(r),e=Ye(r,e),o){case 0:t=ws(null,t,r,e,n);break e;case 1:t=dc(null,t,r,e,n);break e;case 11:t=cc(null,t,r,e,n);break e;case 14:t=fc(null,t,r,Ye(r.type,e),n);break e}throw Error(E(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ye(r,o),ws(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ye(r,o),dc(e,t,r,o,n);case 3:e:{if(Pp(t),e===null)throw Error(E(387));r=t.pendingProps,i=t.memoizedState,o=i.element,tp(e,t),ui(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Hn(Error(E(423)),t),t=pc(e,t,r,n,o);break e}else if(r!==o){o=Hn(Error(E(424)),t),t=pc(e,t,r,n,o);break e}else for(Ne=xt(t.stateNode.containerInfo.firstChild),ke=t,q=!0,Ke=null,n=ip(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dn(),r===o){t=mt(e,t,n);break e}me(e,t,r,n)}t=t.child}return t;case 5:return lp(t),e===null&&_s(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,l=o.children,ms(r,o)?l=null:i!==null&&ms(r,i)&&(t.flags|=32),Rp(e,t),me(e,t,l,n),t.child;case 6:return e===null&&_s(t),null;case 13:return Lp(e,t,n);case 4:return Sa(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Gn(t,null,r,n):me(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ye(r,o),cc(e,t,r,o,n);case 7:return me(e,t,t.pendingProps,n),t.child;case 8:return me(e,t,t.pendingProps.children,n),t.child;case 12:return me(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,l=o.value,F(si,r._currentValue),r._currentValue=l,i!==null)if(Xe(i.value,l)){if(i.children===o.children&&!Ee.current){t=mt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){l=i.child;for(var a=s.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=ct(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Cs(i.return,n,t),s.lanes|=n;break}a=a.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(E(341));l.lanes|=n,s=l.alternate,s!==null&&(s.lanes|=n),Cs(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}me(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,xn(t,n),o=Be(o),r=r(o),t.flags|=1,me(e,t,r,n),t.child;case 14:return r=t.type,o=Ye(r,t.pendingProps),o=Ye(r.type,o),fc(e,t,r,o,n);case 15:return Ap(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ye(r,o),Wo(e,t),t.tag=1,Ie(r)?(e=!0,oi(t)):e=!1,xn(t,n),rp(t,r,o),Es(t,r,o,n),Os(null,t,r,!0,e,n);case 19:return xp(e,t,n);case 22:return kp(e,t,n)}throw Error(E(156,t.tag))};function bp(e,t){return Cd(e,t)}function Dv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function De(e,t,n,r){return new Dv(e,t,n,r)}function $a(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gv(e){if(typeof e=="function")return $a(e)?1:0;if(e!=null){if(e=e.$$typeof,e===na)return 11;if(e===ra)return 14}return 2}function $t(e,t){var n=e.alternate;return n===null?(n=De(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Yo(e,t,n,r,o,i){var l=2;if(r=e,typeof e=="function")$a(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case vn:return rn(n.children,o,i,t);case ta:l=8,o|=8;break;case ql:return e=De(12,n,t,o|2),e.elementType=ql,e.lanes=i,e;case Kl:return e=De(13,n,t,o),e.elementType=Kl,e.lanes=i,e;case bl:return e=De(19,n,t,o),e.elementType=bl,e.lanes=i,e;case od:return Hi(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nd:l=10;break e;case rd:l=9;break e;case na:l=11;break e;case ra:l=14;break e;case It:l=16,r=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=De(l,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function rn(e,t,n,r){return e=De(7,e,r,t),e.lanes=n,e}function Hi(e,t,n,r){return e=De(22,e,r,t),e.elementType=od,e.lanes=n,e.stateNode={isHidden:!1},e}function xl(e,t,n){return e=De(6,e,null,t),e.lanes=n,e}function Ml(e,t,n){return t=De(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bv(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hl(0),this.expirationTimes=hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Da(e,t,n,r,o,i,l,s,a){return e=new Bv(e,t,n,s,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=De(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ca(i),e}function Hv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Qp(e){if(!e)return Gt;e=e._reactInternals;e:{if(dn(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ie(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var n=e.type;if(Ie(n))return bd(e,n,t)}return t}function Xp(e,t,n,r,o,i,l,s,a){return e=Da(n,r,!0,e,o,i,l,s,a),e.context=Qp(null),n=e.current,r=ye(),o=Ut(n),i=ct(r,o),i.callback=t??null,Mt(n,i,o),e.current.lanes=o,eo(e,o,r),we(e,r),e}function Fi(e,t,n,r){var o=t.current,i=ye(),l=Ut(o);return n=Qp(n),t.context===null?t.context=n:t.pendingContext=n,t=ct(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Mt(o,t,l),e!==null&&(Qe(e,o,l,i),Bo(e,o,l)),l}function vi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ec(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ga(e,t){Ec(e,t),(e=e.alternate)&&Ec(e,t)}function Fv(){return null}var Zp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ba(e){this._internalRoot=e}Wi.prototype.render=Ba.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));Fi(e,t,null,null)};Wi.prototype.unmount=Ba.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cn(function(){Fi(null,e,null,null)}),t[pt]=null}};function Wi(e){this._internalRoot=e}Wi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ad();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&t!==0&&t<Ot[n].priority;n++);Ot.splice(n,0,e),n===0&&Rd(e)}};function Ha(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ic(){}function Wv(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=vi(l);i.call(u)}}var l=Xp(t,r,e,0,null,!1,!1,"",Ic);return e._reactRootContainer=l,e[pt]=l.current,Dr(e.nodeType===8?e.parentNode:e),cn(),l}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var s=r;r=function(){var u=vi(a);s.call(u)}}var a=Da(e,0,!1,null,null,!1,!1,"",Ic);return e._reactRootContainer=a,e[pt]=a.current,Dr(e.nodeType===8?e.parentNode:e),cn(function(){Fi(t,a,n,r)}),a}function Vi(e,t,n,r,o){var i=n._reactRootContainer;if(i){var l=i;if(typeof o=="function"){var s=o;o=function(){var a=vi(l);s.call(a)}}Fi(t,l,e,o)}else l=Wv(n,t,e,o,r);return vi(l)}Od=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=gr(t.pendingLanes);n!==0&&(la(t,n|1),we(t,ee()),!(D&6)&&(Fn=ee()+500,Wt()))}break;case 13:cn(function(){var r=ht(e,1);if(r!==null){var o=ye();Qe(r,e,1,o)}}),Ga(e,1)}};sa=function(e){if(e.tag===13){var t=ht(e,134217728);if(t!==null){var n=ye();Qe(t,e,134217728,n)}Ga(e,134217728)}};Nd=function(e){if(e.tag===13){var t=Ut(e),n=ht(e,t);if(n!==null){var r=ye();Qe(n,e,t,r)}Ga(e,t)}};Ad=function(){return G};kd=function(e,t){var n=G;try{return G=e,t()}finally{G=n}};is=function(e,t,n){switch(t){case"input":if(Zl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=ji(r);if(!o)throw Error(E(90));ld(r),Zl(r,o)}}}break;case"textarea":ad(e,n);break;case"select":t=n.value,t!=null&&kn(e,!!n.multiple,t,!1)}};md=Ma;yd=cn;var zv={usingClientEntryPoint:!1,Events:[no,Cn,ji,pd,hd,Ma]},hr={findFiberByHostInstance:Jt,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Vv={bundleType:hr.bundleType,version:hr.version,rendererPackageName:hr.rendererPackageName,rendererConfig:hr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Td(e),e===null?null:e.stateNode},findFiberByHostInstance:hr.findFiberByHostInstance||Fv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Po.isDisabled&&Po.supportsFiber)try{Pi=Po.inject(Vv),tt=Po}catch{}}Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zv;Le.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ha(t))throw Error(E(200));return Hv(e,t,null,n)};Le.createRoot=function(e,t){if(!Ha(e))throw Error(E(299));var n=!1,r="",o=Zp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Da(e,1,!1,null,null,n,!1,r,o),e[pt]=t.current,Dr(e.nodeType===8?e.parentNode:e),new Ba(t)};Le.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=Td(t),e=e===null?null:e.stateNode,e};Le.flushSync=function(e){return cn(e)};Le.hydrate=function(e,t,n){if(!zi(t))throw Error(E(200));return Vi(null,e,t,!0,n)};Le.hydrateRoot=function(e,t,n){if(!Ha(e))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",l=Zp;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Xp(t,null,e,1,n??null,o,!1,i,l),e[pt]=t.current,Dr(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Wi(t)};Le.render=function(e,t,n){if(!zi(t))throw Error(E(200));return Vi(null,e,t,!1,n)};Le.unmountComponentAtNode=function(e){if(!zi(e))throw Error(E(40));return e._reactRootContainer?(cn(function(){Vi(null,null,e,!1,function(){e._reactRootContainer=null,e[pt]=null})}),!0):!1};Le.unstable_batchedUpdates=Ma;Le.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zi(n))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return Vi(e,t,n,!1,r)};Le.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=Le})(Fm);var wc=zl;Wl.createRoot=wc.createRoot,Wl.hydrateRoot=wc.hydrateRoot;const Yv="_root_gtd3s_1",qv={root:Yv},Oc="abcdefghijklmnopqrstuvwxyz0123456789";function Kv(){const e=[];for(let t=0;t<12;t+=1)e.push(Oc.at(Math.floor(Math.random()*Oc.length)));return e.join("")}function Ds(e,t){const n=e.indexOf(t);if(n===-1){console.warn("Trying to remove absent item");return}e.splice(n,1)}function Jp(e,t,n){let r=e.get(t);r||(r=new Set,e.set(t,r));for(const o of n)r.add(o)}const bv=.02,Fa=10,Qv=1,Xv=.3,Zv=2,Nc=2,Jv=2,Gs=1,eh=5,th=4,eg=eh**2,tg=(eh*2)**2,ng=200**2,Ac=.05,nh=10,kc=20,jn=.2,rg=50,og=3,ig=3,lg=10;var y=(e=>(e.CITY="CITY",e.LOGGING="LUMBER",e.LOGGING_2="LOGGING_2",e.CONSTRUCTION="CONSTRUCTION",e.SAWMILL="CHOP_WOOD",e.SAWMILL_2="SAWMILL_2",e.GATHERING="GATHERING",e.GATHERING_2="GATHERING_2",e.KITCHEN="KITCHEN",e.WORK_SHOP="WORK_SHOP",e.WORK_SHOP_2="WORK_SHOP_2",e.FIELD="FIELD",e.RANCH="RANCH",e.STABLE="STABLE",e.ANCIENT_FACTORY="ANCIENT_FACTORY",e.HUNTERS_BOOTH="HUNTERS_BOOTH",e.HUNTERS_BOOTH_2="HUNTERS_BOOTH_2",e.HOUSING_FACTORY="HOUSING_FACTORY",e.INTERCITY_SENDER="INTERCITY_SENDER",e.INTERCITY_RECEIVER="INTERCITY_RECEIVER",e.QUARRY="QUARRY",e))(y||{}),O=(e=>(e.BASIC="BASIC",e.AGRICULTURAL_TOOLS="AGRICULTURAL_TOOLS",e.AGRICULTURAL_TOOLS_STONE="AGRICULTURAL_TOOLS_STONE",e.PAPYRUS="PAPYRUS",e.HAY="HAY",e.REED="REED",e.TEA="TEA",e.TEA_LEAVES="TEA_LEAVES",e.FRUIT="FRUIT",e.VEGETABLE="VEGETABLE",e.NUT="NUT",e.BASKET="BASKET",e.COMPLEX_MEAL="COMPLEX_MEAL",e.VEGAN_MEAL="VEGAN_MEAL",e.WOODEN_BOW="WOODEN_BOW",e.WICKIUP="WICKIUP",e.HOVEL="HOVEL",e.STONE="STONE",e.IRON_ORE="IRON_ORE",e.COTTAGE="COTTAGE",e.AXE_STONE="AXE_STONE",e))(O||{});function sg(e){return rh(e.type)||Qn(e.type)||Yi(e.type)}function ag(e){return rh(e.type)}function rh(e){return e!=="CITY"&&e!=="CONSTRUCTION"&&!Qn(e)&&!Yi(e)}function Yi(e){return e==="INTERCITY_SENDER"||e==="INTERCITY_RECEIVER"}function Wa(e){return Yi(e.type)}function Qn(e){return e==="STABLE"}function za(e){return Qn(e.type)}var Bt=(e=>(e[e.AUTOMATIC=0]="AUTOMATIC",e[e.EXPLICIT=1]="EXPLICIT",e))(Bt||{}),P=(e=>(e.WOOD_WORK="WOOD_WORK",e.WOOD_WORK_2="WOOD_WORK_2",e.WORK_SHOP="WORK_SHOP",e.WORK_SHOP_2="WORK_SHOP_2",e.LOGGING="LOGGING",e.AGRO_1="AGRO_1",e.HORSES="HORSES",e.PAPYRUS="PAPYRUS",e.FACTORY_1="FACTORY_1",e.TEA="TEA",e.GATHERING_2="GATHERING_2",e.COOKING="COOKING",e.HUNTING="HUNTING",e.HUNTING_2="HUNTING_2",e.HOUSING="HOUSING",e.HOUSING_2="HOUSING_2",e.HOUSING_3="HOUSING_3",e.INTERCITY="INTERCITY",e.STONE="STONE",e))(P||{});function Rc(e){return e.exclusiveWorkDays+e.privilegedWorkDays+e.restWorkDays}function ug(e,t,n,r){for(var o=-1,i=e==null?0:e.length;++o<i;){var l=e[o];t(r,l,n(l),e)}return r}var cg=ug;function fg(e){return function(t,n,r){for(var o=-1,i=Object(t),l=r(t),s=l.length;s--;){var a=l[e?s:++o];if(n(i[a],a,i)===!1)break}return t}}var dg=fg,pg=dg,hg=pg(),mg=hg;function yg(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var vg=yg,gg=typeof ho=="object"&&ho&&ho.Object===Object&&ho,oh=gg,Tg=oh,_g=typeof self=="object"&&self&&self.Object===Object&&self,Cg=Tg||_g||Function("return this")(),gt=Cg,Sg=gt,Eg=Sg.Symbol,oo=Eg,Pc=oo,ih=Object.prototype,Ig=ih.hasOwnProperty,wg=ih.toString,mr=Pc?Pc.toStringTag:void 0;function Og(e){var t=Ig.call(e,mr),n=e[mr];try{e[mr]=void 0;var r=!0}catch{}var o=wg.call(e);return r&&(t?e[mr]=n:delete e[mr]),o}var Ng=Og,Ag=Object.prototype,kg=Ag.toString;function Rg(e){return kg.call(e)}var Pg=Rg,Lc=oo,Lg=Ng,xg=Pg,Mg="[object Null]",jg="[object Undefined]",xc=Lc?Lc.toStringTag:void 0;function Ug(e){return e==null?e===void 0?jg:Mg:xc&&xc in Object(e)?Lg(e):xg(e)}var io=Ug;function $g(e){return e!=null&&typeof e=="object"}var lo=$g,Dg=io,Gg=lo,Bg="[object Arguments]";function Hg(e){return Gg(e)&&Dg(e)==Bg}var Fg=Hg,Mc=Fg,Wg=lo,lh=Object.prototype,zg=lh.hasOwnProperty,Vg=lh.propertyIsEnumerable,Yg=Mc(function(){return arguments}())?Mc:function(e){return Wg(e)&&zg.call(e,"callee")&&!Vg.call(e,"callee")},Va=Yg,qg=Array.isArray,We=qg,qr={},Kg={get exports(){return qr},set exports(e){qr=e}};function bg(){return!1}var Qg=bg;(function(e,t){var n=gt,r=Qg,o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,l=i&&i.exports===o,s=l?n.Buffer:void 0,a=s?s.isBuffer:void 0,u=a||r;e.exports=u})(Kg,qr);var Xg=9007199254740991,Zg=/^(?:0|[1-9]\d*)$/;function Jg(e,t){var n=typeof e;return t=t??Xg,!!t&&(n=="number"||n!="symbol"&&Zg.test(e))&&e>-1&&e%1==0&&e<t}var Ya=Jg,e1=9007199254740991;function t1(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=e1}var qa=t1,n1=io,r1=qa,o1=lo,i1="[object Arguments]",l1="[object Array]",s1="[object Boolean]",a1="[object Date]",u1="[object Error]",c1="[object Function]",f1="[object Map]",d1="[object Number]",p1="[object Object]",h1="[object RegExp]",m1="[object Set]",y1="[object String]",v1="[object WeakMap]",g1="[object ArrayBuffer]",T1="[object DataView]",_1="[object Float32Array]",C1="[object Float64Array]",S1="[object Int8Array]",E1="[object Int16Array]",I1="[object Int32Array]",w1="[object Uint8Array]",O1="[object Uint8ClampedArray]",N1="[object Uint16Array]",A1="[object Uint32Array]",z={};z[_1]=z[C1]=z[S1]=z[E1]=z[I1]=z[w1]=z[O1]=z[N1]=z[A1]=!0;z[i1]=z[l1]=z[g1]=z[s1]=z[T1]=z[a1]=z[u1]=z[c1]=z[f1]=z[d1]=z[p1]=z[h1]=z[m1]=z[y1]=z[v1]=!1;function k1(e){return o1(e)&&r1(e.length)&&!!z[n1(e)]}var R1=k1;function P1(e){return function(t){return e(t)}}var sh=P1,gi={},L1={get exports(){return gi},set exports(e){gi=e}};(function(e,t){var n=oh,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,l=i&&n.process,s=function(){try{var a=o&&o.require&&o.require("util").types;return a||l&&l.binding&&l.binding("util")}catch{}}();e.exports=s})(L1,gi);var x1=R1,M1=sh,jc=gi,Uc=jc&&jc.isTypedArray,j1=Uc?M1(Uc):x1,ah=j1,U1=vg,$1=Va,D1=We,G1=qr,B1=Ya,H1=ah,F1=Object.prototype,W1=F1.hasOwnProperty;function z1(e,t){var n=D1(e),r=!n&&$1(e),o=!n&&!r&&G1(e),i=!n&&!r&&!o&&H1(e),l=n||r||o||i,s=l?U1(e.length,String):[],a=s.length;for(var u in e)(t||W1.call(e,u))&&!(l&&(u=="length"||o&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||B1(u,a)))&&s.push(u);return s}var V1=z1,Y1=Object.prototype;function q1(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Y1;return e===n}var K1=q1;function b1(e,t){return function(n){return e(t(n))}}var Q1=b1,X1=Q1,Z1=X1(Object.keys,Object),J1=Z1,e0=K1,t0=J1,n0=Object.prototype,r0=n0.hasOwnProperty;function o0(e){if(!e0(e))return t0(e);var t=[];for(var n in Object(e))r0.call(e,n)&&n!="constructor"&&t.push(n);return t}var i0=o0;function l0(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var so=l0,s0=io,a0=so,u0="[object AsyncFunction]",c0="[object Function]",f0="[object GeneratorFunction]",d0="[object Proxy]";function p0(e){if(!a0(e))return!1;var t=s0(e);return t==c0||t==f0||t==u0||t==d0}var uh=p0,h0=uh,m0=qa;function y0(e){return e!=null&&m0(e.length)&&!h0(e)}var qi=y0,v0=V1,g0=i0,T0=qi;function _0(e){return T0(e)?v0(e):g0(e)}var Ki=_0,C0=mg,S0=Ki;function E0(e,t){return e&&C0(e,t,S0)}var ch=E0,I0=qi;function w0(e,t){return function(n,r){if(n==null)return n;if(!I0(n))return e(n,r);for(var o=n.length,i=t?o:-1,l=Object(n);(t?i--:++i<o)&&r(l[i],i,l)!==!1;);return n}}var O0=w0,N0=ch,A0=O0,k0=A0(N0),fh=k0,R0=fh;function P0(e,t,n,r){return R0(e,function(o,i,l){t(r,o,n(o),l)}),r}var L0=P0;function x0(){this.__data__=[],this.size=0}var M0=x0;function j0(e,t){return e===t||e!==e&&t!==t}var Ka=j0,U0=Ka;function $0(e,t){for(var n=e.length;n--;)if(U0(e[n][0],t))return n;return-1}var bi=$0,D0=bi,G0=Array.prototype,B0=G0.splice;function H0(e){var t=this.__data__,n=D0(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():B0.call(t,n,1),--this.size,!0}var F0=H0,W0=bi;function z0(e){var t=this.__data__,n=W0(t,e);return n<0?void 0:t[n][1]}var V0=z0,Y0=bi;function q0(e){return Y0(this.__data__,e)>-1}var K0=q0,b0=bi;function Q0(e,t){var n=this.__data__,r=b0(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var X0=Q0,Z0=M0,J0=F0,eT=V0,tT=K0,nT=X0;function Xn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Xn.prototype.clear=Z0;Xn.prototype.delete=J0;Xn.prototype.get=eT;Xn.prototype.has=tT;Xn.prototype.set=nT;var Qi=Xn,rT=Qi;function oT(){this.__data__=new rT,this.size=0}var iT=oT;function lT(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var sT=lT;function aT(e){return this.__data__.get(e)}var uT=aT;function cT(e){return this.__data__.has(e)}var fT=cT,dT=gt,pT=dT["__core-js_shared__"],hT=pT,jl=hT,$c=function(){var e=/[^.]+$/.exec(jl&&jl.keys&&jl.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function mT(e){return!!$c&&$c in e}var yT=mT,vT=Function.prototype,gT=vT.toString;function TT(e){if(e!=null){try{return gT.call(e)}catch{}try{return e+""}catch{}}return""}var dh=TT,_T=uh,CT=yT,ST=so,ET=dh,IT=/[\\^$.*+?()[\]{}|]/g,wT=/^\[object .+?Constructor\]$/,OT=Function.prototype,NT=Object.prototype,AT=OT.toString,kT=NT.hasOwnProperty,RT=RegExp("^"+AT.call(kT).replace(IT,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function PT(e){if(!ST(e)||CT(e))return!1;var t=_T(e)?RT:wT;return t.test(ET(e))}var LT=PT;function xT(e,t){return e==null?void 0:e[t]}var MT=xT,jT=LT,UT=MT;function $T(e,t){var n=UT(e,t);return jT(n)?n:void 0}var pn=$T,DT=pn,GT=gt,BT=DT(GT,"Map"),ba=BT,HT=pn,FT=HT(Object,"create"),Xi=FT,Dc=Xi;function WT(){this.__data__=Dc?Dc(null):{},this.size=0}var zT=WT;function VT(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var YT=VT,qT=Xi,KT="__lodash_hash_undefined__",bT=Object.prototype,QT=bT.hasOwnProperty;function XT(e){var t=this.__data__;if(qT){var n=t[e];return n===KT?void 0:n}return QT.call(t,e)?t[e]:void 0}var ZT=XT,JT=Xi,e_=Object.prototype,t_=e_.hasOwnProperty;function n_(e){var t=this.__data__;return JT?t[e]!==void 0:t_.call(t,e)}var r_=n_,o_=Xi,i_="__lodash_hash_undefined__";function l_(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=o_&&t===void 0?i_:t,this}var s_=l_,a_=zT,u_=YT,c_=ZT,f_=r_,d_=s_;function Zn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Zn.prototype.clear=a_;Zn.prototype.delete=u_;Zn.prototype.get=c_;Zn.prototype.has=f_;Zn.prototype.set=d_;var p_=Zn,Gc=p_,h_=Qi,m_=ba;function y_(){this.size=0,this.__data__={hash:new Gc,map:new(m_||h_),string:new Gc}}var v_=y_;function g_(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var T_=g_,__=T_;function C_(e,t){var n=e.__data__;return __(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Zi=C_,S_=Zi;function E_(e){var t=S_(this,e).delete(e);return this.size-=t?1:0,t}var I_=E_,w_=Zi;function O_(e){return w_(this,e).get(e)}var N_=O_,A_=Zi;function k_(e){return A_(this,e).has(e)}var R_=k_,P_=Zi;function L_(e,t){var n=P_(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var x_=L_,M_=v_,j_=I_,U_=N_,$_=R_,D_=x_;function Jn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Jn.prototype.clear=M_;Jn.prototype.delete=j_;Jn.prototype.get=U_;Jn.prototype.has=$_;Jn.prototype.set=D_;var Qa=Jn,G_=Qi,B_=ba,H_=Qa,F_=200;function W_(e,t){var n=this.__data__;if(n instanceof G_){var r=n.__data__;if(!B_||r.length<F_-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new H_(r)}return n.set(e,t),this.size=n.size,this}var z_=W_,V_=Qi,Y_=iT,q_=sT,K_=uT,b_=fT,Q_=z_;function er(e){var t=this.__data__=new V_(e);this.size=t.size}er.prototype.clear=Y_;er.prototype.delete=q_;er.prototype.get=K_;er.prototype.has=b_;er.prototype.set=Q_;var ph=er,X_="__lodash_hash_undefined__";function Z_(e){return this.__data__.set(e,X_),this}var J_=Z_;function eC(e){return this.__data__.has(e)}var tC=eC,nC=Qa,rC=J_,oC=tC;function Ti(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new nC;++t<n;)this.add(e[t])}Ti.prototype.add=Ti.prototype.push=rC;Ti.prototype.has=oC;var iC=Ti;function lC(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var sC=lC;function aC(e,t){return e.has(t)}var uC=aC,cC=iC,fC=sC,dC=uC,pC=1,hC=2;function mC(e,t,n,r,o,i){var l=n&pC,s=e.length,a=t.length;if(s!=a&&!(l&&a>s))return!1;var u=i.get(e),f=i.get(t);if(u&&f)return u==t&&f==e;var p=-1,h=!0,_=n&hC?new cC:void 0;for(i.set(e,t),i.set(t,e);++p<s;){var C=e[p],g=t[p];if(r)var I=l?r(g,C,p,t,e,i):r(C,g,p,e,t,i);if(I!==void 0){if(I)continue;h=!1;break}if(_){if(!fC(t,function(m,d){if(!dC(_,d)&&(C===m||o(C,m,n,r,i)))return _.push(d)})){h=!1;break}}else if(!(C===g||o(C,g,n,r,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var hh=mC,yC=gt,vC=yC.Uint8Array,gC=vC;function TC(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}var _C=TC;function CC(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var SC=CC,Bc=oo,Hc=gC,EC=Ka,IC=hh,wC=_C,OC=SC,NC=1,AC=2,kC="[object Boolean]",RC="[object Date]",PC="[object Error]",LC="[object Map]",xC="[object Number]",MC="[object RegExp]",jC="[object Set]",UC="[object String]",$C="[object Symbol]",DC="[object ArrayBuffer]",GC="[object DataView]",Fc=Bc?Bc.prototype:void 0,Ul=Fc?Fc.valueOf:void 0;function BC(e,t,n,r,o,i,l){switch(n){case GC:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case DC:return!(e.byteLength!=t.byteLength||!i(new Hc(e),new Hc(t)));case kC:case RC:case xC:return EC(+e,+t);case PC:return e.name==t.name&&e.message==t.message;case MC:case UC:return e==t+"";case LC:var s=wC;case jC:var a=r&NC;if(s||(s=OC),e.size!=t.size&&!a)return!1;var u=l.get(e);if(u)return u==t;r|=AC,l.set(e,t);var f=IC(s(e),s(t),r,o,i,l);return l.delete(e),f;case $C:if(Ul)return Ul.call(e)==Ul.call(t)}return!1}var HC=BC;function FC(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var mh=FC,WC=mh,zC=We;function VC(e,t,n){var r=t(e);return zC(e)?r:WC(r,n(e))}var YC=VC;function qC(e,t){for(var n=-1,r=e==null?0:e.length,o=0,i=[];++n<r;){var l=e[n];t(l,n,e)&&(i[o++]=l)}return i}var KC=qC;function bC(){return[]}var QC=bC,XC=KC,ZC=QC,JC=Object.prototype,eS=JC.propertyIsEnumerable,Wc=Object.getOwnPropertySymbols,tS=Wc?function(e){return e==null?[]:(e=Object(e),XC(Wc(e),function(t){return eS.call(e,t)}))}:ZC,nS=tS,rS=YC,oS=nS,iS=Ki;function lS(e){return rS(e,iS,oS)}var sS=lS,zc=sS,aS=1,uS=Object.prototype,cS=uS.hasOwnProperty;function fS(e,t,n,r,o,i){var l=n&aS,s=zc(e),a=s.length,u=zc(t),f=u.length;if(a!=f&&!l)return!1;for(var p=a;p--;){var h=s[p];if(!(l?h in t:cS.call(t,h)))return!1}var _=i.get(e),C=i.get(t);if(_&&C)return _==t&&C==e;var g=!0;i.set(e,t),i.set(t,e);for(var I=l;++p<a;){h=s[p];var m=e[h],d=t[h];if(r)var v=l?r(d,m,h,t,e,i):r(m,d,h,e,t,i);if(!(v===void 0?m===d||o(m,d,n,r,i):v)){g=!1;break}I||(I=h=="constructor")}if(g&&!I){var S=e.constructor,w=t.constructor;S!=w&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof w=="function"&&w instanceof w)&&(g=!1)}return i.delete(e),i.delete(t),g}var dS=fS,pS=pn,hS=gt,mS=pS(hS,"DataView"),yS=mS,vS=pn,gS=gt,TS=vS(gS,"Promise"),_S=TS,CS=pn,SS=gt,ES=CS(SS,"Set"),IS=ES,wS=pn,OS=gt,NS=wS(OS,"WeakMap"),AS=NS,Bs=yS,Hs=ba,Fs=_S,Ws=IS,zs=AS,yh=io,tr=dh,Vc="[object Map]",kS="[object Object]",Yc="[object Promise]",qc="[object Set]",Kc="[object WeakMap]",bc="[object DataView]",RS=tr(Bs),PS=tr(Hs),LS=tr(Fs),xS=tr(Ws),MS=tr(zs),Zt=yh;(Bs&&Zt(new Bs(new ArrayBuffer(1)))!=bc||Hs&&Zt(new Hs)!=Vc||Fs&&Zt(Fs.resolve())!=Yc||Ws&&Zt(new Ws)!=qc||zs&&Zt(new zs)!=Kc)&&(Zt=function(e){var t=yh(e),n=t==kS?e.constructor:void 0,r=n?tr(n):"";if(r)switch(r){case RS:return bc;case PS:return Vc;case LS:return Yc;case xS:return qc;case MS:return Kc}return t});var jS=Zt,$l=ph,US=hh,$S=HC,DS=dS,Qc=jS,Xc=We,Zc=qr,GS=ah,BS=1,Jc="[object Arguments]",ef="[object Array]",Lo="[object Object]",HS=Object.prototype,tf=HS.hasOwnProperty;function FS(e,t,n,r,o,i){var l=Xc(e),s=Xc(t),a=l?ef:Qc(e),u=s?ef:Qc(t);a=a==Jc?Lo:a,u=u==Jc?Lo:u;var f=a==Lo,p=u==Lo,h=a==u;if(h&&Zc(e)){if(!Zc(t))return!1;l=!0,f=!1}if(h&&!f)return i||(i=new $l),l||GS(e)?US(e,t,n,r,o,i):$S(e,t,a,n,r,o,i);if(!(n&BS)){var _=f&&tf.call(e,"__wrapped__"),C=p&&tf.call(t,"__wrapped__");if(_||C){var g=_?e.value():e,I=C?t.value():t;return i||(i=new $l),o(g,I,n,r,i)}}return h?(i||(i=new $l),DS(e,t,n,r,o,i)):!1}var WS=FS,zS=WS,nf=lo;function vh(e,t,n,r,o){return e===t?!0:e==null||t==null||!nf(e)&&!nf(t)?e!==e&&t!==t:zS(e,t,n,r,vh,o)}var gh=vh,VS=ph,YS=gh,qS=1,KS=2;function bS(e,t,n,r){var o=n.length,i=o,l=!r;if(e==null)return!i;for(e=Object(e);o--;){var s=n[o];if(l&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){s=n[o];var a=s[0],u=e[a],f=s[1];if(l&&s[2]){if(u===void 0&&!(a in e))return!1}else{var p=new VS;if(r)var h=r(u,f,a,e,t,p);if(!(h===void 0?YS(f,u,qS|KS,r,p):h))return!1}}return!0}var QS=bS,XS=so;function ZS(e){return e===e&&!XS(e)}var Th=ZS,JS=Th,eE=Ki;function tE(e){for(var t=eE(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,JS(o)]}return t}var nE=tE;function rE(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var _h=rE,oE=QS,iE=nE,lE=_h;function sE(e){var t=iE(e);return t.length==1&&t[0][2]?lE(t[0][0],t[0][1]):function(n){return n===e||oE(n,e,t)}}var aE=sE,uE=io,cE=lo,fE="[object Symbol]";function dE(e){return typeof e=="symbol"||cE(e)&&uE(e)==fE}var ao=dE,pE=We,hE=ao,mE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yE=/^\w*$/;function vE(e,t){if(pE(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||hE(e)?!0:yE.test(e)||!mE.test(e)||t!=null&&e in Object(t)}var Xa=vE,Ch=Qa,gE="Expected a function";function Za(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(gE);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var l=e.apply(this,r);return n.cache=i.set(o,l)||i,l};return n.cache=new(Za.Cache||Ch),n}Za.Cache=Ch;var TE=Za,_E=TE,CE=500;function SE(e){var t=_E(e,function(r){return n.size===CE&&n.clear(),r}),n=t.cache;return t}var EE=SE,IE=EE,wE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,OE=/\\(\\)?/g,NE=IE(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(wE,function(n,r,o,i){t.push(o?i.replace(OE,"$1"):r||n)}),t}),AE=NE;function kE(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var Ja=kE,rf=oo,RE=Ja,PE=We,LE=ao,xE=1/0,of=rf?rf.prototype:void 0,lf=of?of.toString:void 0;function Sh(e){if(typeof e=="string")return e;if(PE(e))return RE(e,Sh)+"";if(LE(e))return lf?lf.call(e):"";var t=e+"";return t=="0"&&1/e==-xE?"-0":t}var ME=Sh,jE=ME;function UE(e){return e==null?"":jE(e)}var $E=UE,DE=We,GE=Xa,BE=AE,HE=$E;function FE(e,t){return DE(e)?e:GE(e,t)?[e]:BE(HE(e))}var Eh=FE,WE=ao,zE=1/0;function VE(e){if(typeof e=="string"||WE(e))return e;var t=e+"";return t=="0"&&1/e==-zE?"-0":t}var Ji=VE,YE=Eh,qE=Ji;function KE(e,t){t=YE(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[qE(t[n++])];return n&&n==r?e:void 0}var eu=KE,bE=eu;function QE(e,t,n){var r=e==null?void 0:bE(e,t);return r===void 0?n:r}var XE=QE;function ZE(e,t){return e!=null&&t in Object(e)}var JE=ZE,eI=Eh,tI=Va,nI=We,rI=Ya,oI=qa,iI=Ji;function lI(e,t,n){t=eI(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var l=iI(t[r]);if(!(i=e!=null&&n(e,l)))break;e=e[l]}return i||++r!=o?i:(o=e==null?0:e.length,!!o&&oI(o)&&rI(l,o)&&(nI(e)||tI(e)))}var sI=lI,aI=JE,uI=sI;function cI(e,t){return e!=null&&uI(e,t,aI)}var fI=cI,dI=gh,pI=XE,hI=fI,mI=Xa,yI=Th,vI=_h,gI=Ji,TI=1,_I=2;function CI(e,t){return mI(e)&&yI(t)?vI(gI(e),t):function(n){var r=pI(n,e);return r===void 0&&r===t?hI(n,e):dI(t,r,TI|_I)}}var SI=CI;function EI(e){return e}var el=EI;function II(e){return function(t){return t==null?void 0:t[e]}}var wI=II,OI=eu;function NI(e){return function(t){return OI(t,e)}}var AI=NI,kI=wI,RI=AI,PI=Xa,LI=Ji;function xI(e){return PI(e)?kI(LI(e)):RI(e)}var MI=xI,jI=aE,UI=SI,$I=el,DI=We,GI=MI;function BI(e){return typeof e=="function"?e:e==null?$I:typeof e=="object"?DI(e)?UI(e[0],e[1]):jI(e):GI(e)}var tu=BI,HI=cg,FI=L0,WI=tu,zI=We;function VI(e,t){return function(n,r){var o=zI(n)?HI:FI,i=t?t():{};return o(n,e,WI(r),i)}}var YI=VI,qI=YI,KI=qI(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),bI=KI;function Tt(e,t){if(!t)throw new Error("Invariant")}var T=(e=>(e.LOG="LOG",e.LUMBER_ROUGH="LUMBER_ROUGH",e.FOOD="FOOD",e.FRUIT="FRUIT",e.VEGETABLE="VEGETABLE",e.MEAT="MEAT",e.NUT="NUT",e.FRIED_MEAT="FRIED_MEAT",e.VEGAN_MEAL="VEGAN_MEAL",e.COMPLEX_MEAL="COMPLEX_MEAL",e.AGRICULTURAL_TOOLS="AGRICULTURAL_TOOLS",e.AGRICULTURAL_TOOLS_STONE="AGRICULTURAL_TOOLS_STONE",e.HAY="HAY",e.HORSE="HORSE",e.HORSE_WITH_CART="HORSE_WITH_CART",e.REED="REED",e.PAPYRUS="PAPYRUS",e.TEA_LEAVES="TEA_LEAVES",e.TEA="TEA",e.BASKET="BASKET",e.WOODEN_BOW="WOODEN_BOW",e.HOUSING="HOUSING",e.WICKIUP="WICKIUP",e.HOVEL="HOVEL",e.STONE="STONE",e.IRON_ORE="IRON_ORE",e.IRON="IRON",e.COAL="COAL",e.OIL="OIL",e.COTTAGE="COTTAGE",e.AXE_STONE="AXE_STONE",e))(T||{});const Ih={FOOD:1,VEGAN_MEAL:1.6,COMPLEX_MEAL:2.3},nu=new Set(Object.keys(Ih));function QI(e){return nu.has(e)}const wh={HOUSING:1,WICKIUP:.1,HOVEL:.7,COTTAGE:2},ru=new Set(Object.keys(wh));function XI(e){return ru.has(e)}const Kr={HORSE:{perWorker:.05,boost:1},HORSE_WITH_CART:{perWorker:.05,boost:2}},Oh=new Set(Object.keys(Kr)),ZI=[...Oh].sort((e,t)=>Kr[t].boost-Kr[e].boost),JI=new Set([...nu,...ru,...Oh]),H={LOG:"Log",LUMBER_ROUGH:"Rough Lumber",FOOD:"Food",FRUIT:"Fruit",VEGETABLE:"Vegetables",NUT:"Nuts",MEAT:"Meat",FRIED_MEAT:"Fried meat",AGRICULTURAL_TOOLS:"Agricultural tools",AGRICULTURAL_TOOLS_STONE:"Stone agricultural tools",HAY:"Hay",HORSE:"Horse",HORSE_WITH_CART:"Horse with cart",REED:"Reed",PAPYRUS:"Papyrus",TEA_LEAVES:"Tea leaves",TEA:"Tea",COMPLEX_MEAL:"Complex meal",VEGAN_MEAL:"Vegan meal",BASKET:"Basket",WOODEN_BOW:"Wooden bow",HOUSING:"Housing",WICKIUP:"Wickiup",HOVEL:"Hovel",STONE:"Stone",IRON_ORE:"Iron ore",IRON:"Iron",COAL:"Coal",OIL:"Oil",COTTAGE:"Cottage",AXE_STONE:"Stone Axe"};var Ae=(e=>(e.STONE="STONE",e.COAL="COAL",e.IRON="IRON",e.OIL="OIL",e))(Ae||{}),Y=(e=>(e.FACILITY="FACILITY",e.BOOSTER="BOOSTER",e.CONSTRUCTION="CONSTRUCTION",e))(Y||{});function ew(e){return e.output!==void 0}function tw(e){return e.quantity!==void 0}function Ct(e){return[{id:O.BASIC,...e}]}function nw(e){return[{id:O.BASIC,...e}]}const nr={[y.GATHERING]:{iterationInfoType:"FACILITY",maximumPeopleAtWork:3,productionVariants:Ct({iterationPeopleDays:2,input:[],output:[{resourceType:T.FOOD,quantity:.5}]})},[y.GATHERING_2]:{iterationInfoType:"FACILITY",maximumPeopleAtWork:3,productionVariants:[{id:O.FRUIT,iterationPeopleDays:1,input:[{resourceType:T.BASKET,quantity:.1}],output:[{resourceType:T.FRUIT,quantity:1}]},{id:O.VEGETABLE,iterationPeopleDays:1,input:[{resourceType:T.BASKET,quantity:.1}],output:[{resourceType:T.VEGETABLE,quantity:1}]},{id:O.NUT,iterationPeopleDays:3,input:[{resourceType:T.BASKET,quantity:.1}],output:[{resourceType:T.NUT,quantity:1}]}]},[y.HUNTERS_BOOTH]:{iterationInfoType:"FACILITY",maximumPeopleAtWork:3,productionVariants:Ct({iterationPeopleDays:1,input:[],output:[{resourceType:T.MEAT,quantity:.3}]})},[y.HUNTERS_BOOTH_2]:{iterationInfoType:"FACILITY",maximumPeopleAtWork:3,productionVariants:Ct({iterationPeopleDays:1,input:[{resourceType:T.WOODEN_BOW,quantity:.1}],output:[{resourceType:T.MEAT,quantity:.7}]})},[y.KITCHEN]:{iterationInfoType:"FACILITY",maximumPeopleAtWork:2,productionVariants:[{id:O.VEGAN_MEAL,iterationPeopleDays:1,input:[{resourceType:T.FRUIT,quantity:1},{resourceType:T.VEGETABLE,quantity:1},{resourceType:T.NUT,quantity:.3}],output:[{resourceType:T.VEGAN_MEAL,quantity:1}]},{id:O.COMPLEX_MEAL,iterationPeopleDays:1,input:[{resourceType:T.FRUIT,quantity:1},{resourceType:T.VEGETABLE,quantity:1},{resourceType:T.NUT,quantity:.3},{resourceType:T.MEAT,quantity:1}],output:[{resourceType:T.COMPLEX_MEAL,quantity:1}]}]},[y.LOGGING]:{iterationInfoType:"FACILITY",maximumPeopleAtWork:4,productionVariants:Ct({iterationPeopleDays:1,input:[],output:[{resourceType:T.LOG,quantity:1}]})},[y.LOGGING_2]:{iterationInfoType:"FACILITY",maximumPeopleAtWork:4,productionVariants:Ct({iterationPeopleDays:1,input:[{resourceType:T.AXE_STONE,quantity:.1}],output:[{resourceType:T.LOG,quantity:2}]})},[y.SAWMILL]:{iterationInfoType:"FACILITY",maximumPeopleAtWork:4,productionVariants:Ct({iterationPeopleDays:1,input:[{resourceType:T.LOG,quantity:1}],output:[{resourceType:T.LUMBER_ROUGH,quantity:2}]})},[y.SAWMILL_2]:{iterationInfoType:"FACILITY",maximumPeopleAtWork:4,productionVariants:Ct({iterationPeopleDays:1,input:[{resourceType:T.LOG,quantity:1},{resourceType:T.AXE_STONE,quantity:.1}],output:[{resourceType:T.LUMBER_ROUGH,quantity:3}]})},[y.WORK_SHOP]:{iterationInfoType:"FACILITY",maximumPeopleAtWork:3,productionVariants:[{id:O.AGRICULTURAL_TOOLS,iterationPeopleDays:1,input:[{resourceType:T.LUMBER_ROUGH,quantity:1}],output:[{resourceType:T.AGRICULTURAL_TOOLS,quantity:2}]},{id:O.BASKET,iterationPeopleDays:1,input:[{resourceType:T.REED,quantity:5}],output:[{resourceType:T.BASKET,quantity:1}]},{id:O.WOODEN_BOW,iterationPeopleDays:1,input:[{resourceType:T.LUMBER_ROUGH,quantity:2}],output:[{resourceType:T.WOODEN_BOW,quantity:1}]}]},[y.WORK_SHOP_2]:{iterationInfoType:"FACILITY",maximumPeopleAtWork:4,productionVariants:[{id:O.AGRICULTURAL_TOOLS_STONE,iterationPeopleDays:1,input:[{resourceType:T.LUMBER_ROUGH,quantity:1},{resourceType:T.STONE,quantity:.5}],output:[{resourceType:T.AGRICULTURAL_TOOLS_STONE,quantity:2}]},{id:O.BASKET,iterationPeopleDays:1,input:[{resourceType:T.REED,quantity:5}],output:[{resourceType:T.BASKET,quantity:1}]},{id:O.AXE_STONE,iterationPeopleDays:1,input:[{resourceType:T.LUMBER_ROUGH,quantity:1},{resourceType:T.STONE,quantity:.5}],output:[{resourceType:T.AXE_STONE,quantity:2}]}]},[y.FIELD]:{iterationInfoType:"FACILITY",maximumPeopleAtWork:4,productionVariants:[{id:O.HAY,iterationPeopleDays:1,input:[{resourceType:T.AGRICULTURAL_TOOLS,quantity:1}],output:[{resourceType:T.HAY,quantity:2}]},{id:O.REED,iterationPeopleDays:1,input:[{resourceType:T.AGRICULTURAL_TOOLS,quantity:1}],output:[{resourceType:T.REED,quantity:1}]},{id:O.TEA_LEAVES,iterationPeopleDays:1,input:[{resourceType:T.AGRICULTURAL_TOOLS,quantity:1}],output:[{resourceType:T.TEA_LEAVES,quantity:1}]}]},[y.RANCH]:{iterationInfoType:"FACILITY",maximumPeopleAtWork:4,productionVariants:Ct({iterationPeopleDays:1,input:[{resourceType:T.HAY,quantity:20}],output:[{resourceType:T.HORSE,quantity:1}]})},[y.ANCIENT_FACTORY]:{iterationInfoType:"FACILITY",maximumPeopleAtWork:4,productionVariants:[{id:O.TEA,iterationPeopleDays:1,input:[{resourceType:T.TEA_LEAVES,quantity:4}],output:[{resourceType:T.TEA,quantity:1}]}]},[y.HOUSING_FACTORY]:{iterationInfoType:"FACILITY",maximumPeopleAtWork:4,productionVariants:[{id:O.WICKIUP,iterationPeopleDays:4,input:[{resourceType:T.LUMBER_ROUGH,quantity:10}],output:[{resourceType:T.WICKIUP,quantity:1}]},{id:O.HOVEL,iterationPeopleDays:10,input:[{resourceType:T.LUMBER_ROUGH,quantity:40},{resourceType:T.HAY,quantity:10}],output:[{resourceType:T.HOVEL,quantity:1}]},{id:O.COTTAGE,iterationPeopleDays:10,input:[{resourceType:T.LUMBER_ROUGH,quantity:10},{resourceType:T.HAY,quantity:10},{resourceType:T.STONE,quantity:20}],output:[{resourceType:T.COTTAGE,quantity:1}]}]},[y.QUARRY]:{iterationInfoType:"FACILITY",maximumPeopleAtWork:3,productionVariants:[{id:O.STONE,iterationPeopleDays:5,input:[],output:[{resourceType:T.STONE,quantity:2}]},{id:O.IRON_ORE,iterationPeopleDays:5,input:[],output:[{resourceType:T.IRON_ORE,quantity:1}]}]}},ou={[y.STABLE]:{iterationInfoType:"BOOSTER",productionVariants:nw({input:[{resourceType:T.HORSE},{resourceType:T.HORSE_WITH_CART}]})}},rw={[Ae.STONE]:O.STONE,[Ae.IRON]:O.IRON_ORE,[Ae.COAL]:void 0,[Ae.OIL]:void 0},ow=new Set([y.GATHERING]),Wn={[y.CITY]:"City",[y.CONSTRUCTION]:"Building",[y.LOGGING]:"Logging",[y.LOGGING_2]:"Logging II",[y.GATHERING]:"Gathering",[y.GATHERING_2]:"Gathering II",[y.KITCHEN]:"Kitchen",[y.HUNTERS_BOOTH]:"Hunter's booth",[y.HUNTERS_BOOTH_2]:"Hunter's booth II",[y.SAWMILL]:"Sawmill",[y.SAWMILL_2]:"Sawmill II",[y.FIELD]:"Field",[y.WORK_SHOP]:"Work shop",[y.WORK_SHOP_2]:"Work shop II",[y.RANCH]:"Ranch",[y.STABLE]:"Stable",[y.ANCIENT_FACTORY]:"Ancient factory",[y.HOUSING_FACTORY]:"Housing factory",[y.INTERCITY_SENDER]:"Intercity sender",[y.INTERCITY_RECEIVER]:"Intercity receiver",[y.QUARRY]:"Quarry"},iw={[O.BASIC]:"",[O.AGRICULTURAL_TOOLS]:H[T.AGRICULTURAL_TOOLS],[O.AGRICULTURAL_TOOLS_STONE]:H[T.AGRICULTURAL_TOOLS_STONE],[O.HAY]:H[T.HAY],[O.REED]:H[T.REED],[O.PAPYRUS]:H[T.PAPYRUS],[O.TEA]:H[T.TEA],[O.TEA_LEAVES]:H[T.TEA_LEAVES],[O.FRUIT]:H[T.FRUIT],[O.VEGETABLE]:H[T.VEGETABLE],[O.NUT]:H[T.NUT],[O.BASKET]:H[T.BASKET],[O.VEGAN_MEAL]:H[T.VEGAN_MEAL],[O.COMPLEX_MEAL]:H[T.COMPLEX_MEAL],[O.WOODEN_BOW]:H[T.WOODEN_BOW],[O.WICKIUP]:H[T.WICKIUP],[O.HOVEL]:H[T.HOVEL],[O.STONE]:H[T.STONE],[O.IRON_ORE]:H[T.IRON_ORE],[O.COTTAGE]:H[T.COTTAGE],[O.AXE_STONE]:H[T.AXE_STONE]},Pe={[y.LOGGING]:{iterationInfoType:Y.CONSTRUCTION,iterationPeopleDays:3,maximumPeopleAtWork:3,workArea:{areaType:"LUMBER",radius:2},input:[]},[y.LOGGING_2]:{iterationInfoType:Y.CONSTRUCTION,iterationPeopleDays:3,maximumPeopleAtWork:3,workArea:{areaType:"LUMBER",radius:2},input:[]},[y.GATHERING]:{iterationInfoType:Y.CONSTRUCTION,iterationPeopleDays:3,maximumPeopleAtWork:3,workArea:{areaType:"GATHERING",radius:2},input:[]},[y.GATHERING_2]:{iterationInfoType:Y.CONSTRUCTION,iterationPeopleDays:3,maximumPeopleAtWork:3,workArea:{areaType:"GATHERING",radius:2},input:[{resourceType:T.LUMBER_ROUGH,quantity:10}]},[y.HUNTERS_BOOTH]:{iterationInfoType:Y.CONSTRUCTION,iterationPeopleDays:3,maximumPeopleAtWork:3,workArea:{areaType:"HUNTING",radius:2},input:[{resourceType:T.LUMBER_ROUGH,quantity:10}]},[y.HUNTERS_BOOTH_2]:{iterationInfoType:Y.CONSTRUCTION,iterationPeopleDays:3,maximumPeopleAtWork:3,workArea:{areaType:"HUNTING",radius:3},input:[{resourceType:T.LUMBER_ROUGH,quantity:20}]},[y.KITCHEN]:{iterationInfoType:Y.CONSTRUCTION,iterationPeopleDays:3,maximumPeopleAtWork:3,input:[{resourceType:T.LUMBER_ROUGH,quantity:10}]},[y.SAWMILL]:{iterationInfoType:Y.CONSTRUCTION,iterationPeopleDays:3,maximumPeopleAtWork:3,input:[{resourceType:T.LOG,quantity:4}]},[y.SAWMILL_2]:{iterationInfoType:Y.CONSTRUCTION,iterationPeopleDays:3,maximumPeopleAtWork:3,input:[{resourceType:T.LUMBER_ROUGH,quantity:10},{resourceType:T.STONE,quantity:5}]},[y.WORK_SHOP]:{iterationInfoType:Y.CONSTRUCTION,iterationPeopleDays:3,maximumPeopleAtWork:3,input:[{resourceType:T.LUMBER_ROUGH,quantity:20}]},[y.WORK_SHOP_2]:{iterationInfoType:Y.CONSTRUCTION,iterationPeopleDays:3,maximumPeopleAtWork:3,input:[{resourceType:T.LUMBER_ROUGH,quantity:20},{resourceType:T.STONE,quantity:10}]},[y.FIELD]:{iterationInfoType:Y.CONSTRUCTION,iterationPeopleDays:3,maximumPeopleAtWork:3,input:[{resourceType:T.AGRICULTURAL_TOOLS,quantity:20}]},[y.RANCH]:{iterationInfoType:Y.CONSTRUCTION,iterationPeopleDays:3,maximumPeopleAtWork:3,input:[{resourceType:T.LOG,quantity:20}]},[y.STABLE]:{iterationInfoType:Y.CONSTRUCTION,iterationPeopleDays:3,maximumPeopleAtWork:3,input:[{resourceType:T.LOG,quantity:20}]},[y.ANCIENT_FACTORY]:{iterationInfoType:Y.CONSTRUCTION,iterationPeopleDays:3,maximumPeopleAtWork:3,input:[{resourceType:T.LOG,quantity:20},{resourceType:T.HAY,quantity:8}]},[y.HOUSING_FACTORY]:{iterationInfoType:Y.CONSTRUCTION,iterationPeopleDays:3,maximumPeopleAtWork:3,input:[{resourceType:T.LOG,quantity:10},{resourceType:T.LUMBER_ROUGH,quantity:20}]},[y.INTERCITY_SENDER]:{iterationInfoType:Y.CONSTRUCTION,iterationPeopleDays:2,maximumPeopleAtWork:3,input:[{resourceType:T.LUMBER_ROUGH,quantity:20}]},[y.INTERCITY_RECEIVER]:{iterationInfoType:Y.CONSTRUCTION,iterationPeopleDays:2,maximumPeopleAtWork:3,input:[{resourceType:T.LUMBER_ROUGH,quantity:20}]},[y.QUARRY]:{iterationInfoType:Y.CONSTRUCTION,iterationPeopleDays:2,maximumPeopleAtWork:3,input:[{resourceType:T.LUMBER_ROUGH,quantity:20}]}},Nh=Object.entries(Pe).reduce((e,[t,n])=>{if(n.workArea){let r=e[n.workArea.areaType];r||(r={maximumRadius:0,facilities:new Set},e[n.workArea.areaType]=r),r.facilities.add(t),r.maximumRadius<n.workArea.radius&&(r.maximumRadius=n.workArea.radius)}return e},{});var lw=Math.floor,sw=Math.random;function aw(e,t){return e+lw(sw()*(t-e+1))}var uw=aw,cw=uw;function fw(e){var t=e.length;return t?e[cw(0,t-1)]:void 0}var Ah=fw,dw=Ja;function pw(e,t){return dw(t,function(n){return e[n]})}var hw=pw,mw=hw,yw=Ki;function vw(e){return e==null?[]:mw(e,yw(e))}var gw=vw,Tw=Ah,_w=gw;function Cw(e){return Tw(_w(e))}var Sw=Cw,Ew=Ah,Iw=Sw,ww=We;function Ow(e){var t=ww(e)?Ew:Iw;return t(e)}var sf=Ow;const kh=["Scarlet","Red","New","Old","Blue","Last","Green","Solid","Sunny","Rainy","Ill","Sick","Lucky"],Rh=["River","Lake","Mist","Cape","Fist","Room","Tree","Rock","Horn","Pickaxe","Coin"],Nw=kh.length*Rh.length/2;function Aw(e,t){for(;;){const n=`${sf(kh)} ${sf(Rh)}`;if(!e.has(n))return t&&e.add(n),n;if(e.size>Nw)for(let r=2;;r+=1){const o=`${n} ${r}`;if(!e.has(o))return t&&e.add(n),o}}}const An={population:{resourceTypes:[...nu],perWorker:.15},housing:{resourceTypes:[...ru],perWorker:.01}},Ph=(()=>{const e={};for(const t of An.population.resourceTypes)e[t]=An.population;for(const t of An.housing.resourceTypes)e[t]=An.housing;return e})(),kw=Object.keys(Ph),Lh=2**26,af=Lh/2;function iu(e){const t=e.i+af;return(e.j+af)*Lh+t}function rr(e){return{i:e.i,j:e.j,cellId:iu(e)}}function kr(e){return{i:e.i,j:e.j,chunkId:iu(e)}}function xh(e){return su(e.path.from,e.path.to)}function lu(e,t){return(e.i-t.i)**2+(e.j-t.j)**2}function su(e,t){return Math.sqrt(lu(e,t))}function uf(e,t){return e.cellId===t.cellId}function Mh(e,t){return cf(e,t)||cf(e,{from:t.to,to:t.from})}function cf(e,t){return uf(e.from,t.from)&&uf(e.to,t.to)}function _i(e,t){return!e&&!t?!0:!e||!t?!1:e.cellId===t.cellId}function au(e,t){return{start:{i:e.start.i-t,j:e.start.j-t},end:{i:e.end.i+t,j:e.end.j+t}}}function jh(e,t){const n=t.end.i-t.start.i,r=t.end.j-t.start.j,o={i:2*e.start.i-n,j:2*e.start.j-r},i={i:2*e.end.i+n,j:2*e.end.j+r};return tl({start:o,end:i},{i:2*t.start.i+n,j:2*t.start.j+r})}function ff(){return{start:{i:0,j:0},end:{i:0,j:0}}}function tl({start:e,end:t},{i:n,j:r}){return n>=e.i&&n<=t.i&&r>=e.j&&r<=t.j}function Uh(e,t){e.cities.get(t.assignedCityId).carrierPaths.push(t),Ci(e.carrierPathsFromCellId,t,t.path.from),Ci(e.carrierPathsToCellId,t,t.path.to)}function Ci(e,t,n){let r=e.get(n.cellId);r||(r=[],e.set(n.cellId,r)),r.push(t)}function qo(e,t){if(t.quantity===0)return;const n=e.find(r=>r.resourceType===t.resourceType);n?n.quantity+=t.quantity:e.push(t)}function Rw(e,t){for(const n of t)qo(e,n)}function Si(e,t){const n=e.find(r=>r.resourceType===t.resourceType);if(!n)return{resourceType:t.resourceType,quantity:0};if(n.quantity<=t.quantity){const r=e.indexOf(n);return e.splice(r,1),{resourceType:t.resourceType,quantity:n.quantity}}return n.quantity-=t.quantity,t}function $h(e,t){if(Si(e,t).quantity!==t.quantity)throw new Error("Not enough resource")}function Pw(e,t){for(const n of t)$h(e,n)}function Te(e,t){var n;return((n=e.find(r=>r.resourceType===t))==null?void 0:n.quantity)??0}function Dh(e,t){return e.map(n=>Gh(n,t))}function Gh({resourceType:e,quantity:t},n){return{resourceType:e,quantity:t*n}}const Lw=kw.map(e=>({resourceType:e,quantity:0}));function zn(e){if(e.type===y.CITY)return{input:Lw,output:[]};if(Wa(e))switch(e.type){case y.INTERCITY_SENDER:return{input:[{resourceType:e.resourceType,quantity:0}],output:[]};case y.INTERCITY_RECEIVER:return{input:[],output:[{resourceType:e.resourceType,quantity:0}]};default:throw Tt()}return za(e)?{input:ou[e.type].productionVariants.find(r=>r.id===e.productionVariantId).input.map(({resourceType:r})=>({resourceType:r,quantity:0})),output:[]}:or(e)}function or(e){if(e.type===y.CONSTRUCTION){const n=Pe[e.buildingFacilityType];return{iterationPeopleDays:n.iterationPeopleDays,input:n.input,output:[]}}return nr[e.type].productionVariants.find(n=>n.id===e.productionVariantId)}function Bh(e,{position:t}){const n={cityId:t.cellId,type:y.CITY,name:Aw(e.alreadyCityNames,!0),position:t,chunksIds:Hh(e.worldParams,t),population:Gs,carrierPaths:[],isNeedUpdateAutomaticPaths:!1,peopleDayPerCell:bv,weightPerPeopleDay:Fa,peopleWorkModifier:Qv,cityReport:Bw(),input:[],output:[]};return e.cities.set(n.cityId,n),e.facilitiesByCityId.set(n.cityId,[]),e.structuresByCellId.set(n.position.cellId,n),n}function Hh(e,{i:t,j:n}){const r=th,o=[{i:-r,j:-r},{i:r,j:-r},{i:r,j:r},{i:-r,j:r}].map(i=>Ii(e,{i:t+i.i,j:n+i.j}).chunkId);return new Set(o)}function xw(e,t,n){e.facilitiesByCityId.get(t.cityId).push(n),e.structuresByCellId.set(n.position.cellId,n),t.isNeedUpdateAutomaticPaths=!0}function Ei(e,{facilityType:t,position:n,productionVariantId:r}){const o=Dw(e,n),i={type:y.CONSTRUCTION,assignedCityId:o.cityId,position:n,buildingFacilityType:t,assignedWorkersCount:Pe[t].maximumPeopleAtWork,input:[],output:[],inProcess:0,productionVariantId:r,isPaused:!1};xw(e,o,i)}function Mw(e,t){let n;if(Yi(t.buildingFacilityType))n={type:t.buildingFacilityType,assignedCityId:t.assignedCityId,position:t.position,input:[],output:[],resourceType:t.productionVariantId,isPaused:!1};else if(Qn(t.buildingFacilityType))n={type:t.buildingFacilityType,assignedCityId:t.assignedCityId,position:t.position,productionVariantId:t.productionVariantId,input:[],output:[],isPaused:!1};else{const r=nr[t.buildingFacilityType];if(r.iterationInfoType!==Y.FACILITY)throw new Error;n={type:t.buildingFacilityType,assignedCityId:t.assignedCityId,position:t.position,assignedWorkersCount:r.maximumPeopleAtWork,productionVariantId:t.productionVariantId,input:[],output:[],inProcess:0,isPaused:!1}}return uu(e,n.position.cellId,Bt.AUTOMATIC),jw(e,t,n),n}function jw(e,t,n){const r=e.cities.get(n.assignedCityId),o=e.facilitiesByCityId.get(r.cityId),i=o.indexOf(t);if(i===-1)throw new Error("No construction found");o[i]=n,e.structuresByCellId.set(n.position.cellId,n),r.isNeedUpdateAutomaticPaths=!0}function uu(e,t,n){Fh(e,t,n,e.carrierPathsToCellId,e.carrierPathsFromCellId,r=>r.from)}function Uw(e,t,n){Fh(e,t,n,e.carrierPathsFromCellId,e.carrierPathsToCellId,r=>r.to)}function Fh(e,t,n,r,o,i){const l=r.get(t);if(l){const[s,a]=bI(l,u=>u.pathType===n);for(const u of s){const f=o.get(i(u.path).cellId);Ds(f,u);const p=e.cities.get(u.assignedCityId);Ds(p.carrierPaths,u)}a.length>0?r.set(t,a):r.delete(t)}}function df(e,t,n){uu(e,t,n),Uw(e,t,n)}function $w(e,t){const n=Pe[e.buildingFacilityType],r=Te(n.input,t);if(!r)return 0;const o=Te(e.input,t);return Math.max(0,r-o)}function Dw(e,t){let n,r=1/0;for(const o of e.cities.values()){const i=su(o.position,t);(i<r||n&&i===r&&n.population<o.population)&&(n=o,r=i)}if(!n)throw new Error("Invariant");return n}function Gw(e,t){return t.type===y.CITY?t:e.cities.get(t.assignedCityId)}function Wh(e,t){const n=e.cities.get(t.assignedCityId),r=e.facilitiesByCityId.get(n.cityId);df(e,t.position.cellId,Bt.AUTOMATIC),df(e,t.position.cellId,Bt.EXPLICIT),Ds(r,t),e.structuresByCellId.delete(t.position.cellId),n.isNeedUpdateAutomaticPaths=!0}function zh(e,t){const n=e.structuresByCellId.get(t.path.from.cellId),r=e.structuresByCellId.get(t.path.to.cellId);return{from:n,to:r}}function cu(){return{carrierPathReports:[],facilityWorkerReports:[]}}function Bw(){return{lastTick:cu(),population:{lastTick:0,needStatistics:Array(nh).fill(0)}}}function Hw(e,t){const n=[];for(let r=t.start.i;r<=t.end.i;r+=1)for(let o=t.start.j;o<=t.end.j;o+=1){const i=rr({i:r,j:o}),l=e.structuresByCellId.get(i.cellId);l&&n.push(l)}return n}function Vh(e){return QI(e)?{resourceType:T.FOOD,modifier:Ih[e]}:XI(e)?{resourceType:T.HOUSING,modifier:wh[e]}:{resourceType:e,modifier:1}}function Ii(e,t){const{chunkSize:n}=e;return kr({i:Math.floor(t.i/n)*n,j:Math.floor(t.j/n)*n})}function Fw(e,t,n){e.alreadyCityNames.delete(n),t.name=n,e.alreadyCityNames.add(n)}function wi(e,t){return lu(e,t)<eg}const fu="fw.";function Yh(e){const t=window.localStorage.getItem(`${fu}${e}`);if(t)try{return JSON.parse(t)}catch(n){console.error("Invalid persistente value format",n)}}function qh(e,t){window.localStorage.setItem(`${fu}${e}`,JSON.stringify(t))}function Kh(e){window.localStorage.removeItem(`${fu}${e}`)}function Ww(e){return{get:()=>Yh(e),set:t=>{qh(e,t)},clear:()=>{Kh(e)}}}function zw(e){return{get:t=>Yh(`${e}[${t}]`),set:(t,n)=>{qh(`${e}[${t}]`,n)},clear:t=>{Kh(`${e}[${t}]`)}}}const Oi=zw("game"),yt=Ww("gamesList");var Vw=pn,Yw=function(){try{var e=Vw(Object,"defineProperty");return e({},"",{}),e}catch{}}(),bh=Yw,pf=bh;function qw(e,t,n){t=="__proto__"&&pf?pf(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Kw=qw,bw=Kw,Qw=ch,Xw=tu;function Zw(e,t){var n={};return t=Xw(t),Qw(e,function(r,o,i){bw(n,o,t(r,o,i))}),n}var Jw=Zw;const eO={[P.WOOD_WORK]:{points:100,requires:[],unlockFacilities:[y.SAWMILL,y.LOGGING]},[P.WOOD_WORK_2]:{points:500,requires:[P.WOOD_WORK],unlockFacilities:[y.SAWMILL_2]},[P.WORK_SHOP]:{points:200,requires:[P.WOOD_WORK],unlockFacilities:[y.WORK_SHOP]},[P.WORK_SHOP_2]:{points:500,requires:[P.STONE],unlockFacilities:[y.WORK_SHOP_2],unlockProductionVariants:{[y.WORK_SHOP_2]:[O.AGRICULTURAL_TOOLS_STONE,O.AXE_STONE]}},[P.LOGGING]:{points:500,requires:[P.STONE],unlockFacilities:[y.LOGGING_2]},[P.GATHERING_2]:{points:300,requires:[P.WORK_SHOP,P.AGRO_1],unlockFacilities:[y.GATHERING_2],unlockProductionVariants:{[y.GATHERING_2]:[O.FRUIT,O.VEGETABLE,O.NUT],[y.WORK_SHOP]:[O.BASKET],[y.FIELD]:[O.REED]}},[P.COOKING]:{points:200,requires:[P.GATHERING_2],unlockFacilities:[y.KITCHEN],unlockProductionVariants:{[y.KITCHEN]:[O.VEGAN_MEAL,O.COMPLEX_MEAL]}},[P.AGRO_1]:{points:150,requires:[P.WORK_SHOP],unlockFacilities:[y.FIELD],unlockProductionVariants:{[y.WORK_SHOP]:[O.AGRICULTURAL_TOOLS],[y.FIELD]:[O.HAY]}},[P.HORSES]:{points:250,requires:[P.AGRO_1],unlockFacilities:[y.RANCH,y.STABLE]},[P.PAPYRUS]:{points:400,requires:[P.AGRO_1],unlockFacilities:[],unlockProductionVariants:{[y.WORK_SHOP]:[O.PAPYRUS],[y.FIELD]:[O.REED]}},[P.FACTORY_1]:{points:400,requires:[],unlockFacilities:[y.ANCIENT_FACTORY]},[P.TEA]:{points:500,requires:[P.FACTORY_1],unlockFacilities:[],unlockProductionVariants:{[y.ANCIENT_FACTORY]:[O.TEA],[y.FIELD]:[O.TEA_LEAVES]}},[P.HUNTING]:{points:200,requires:[],unlockFacilities:[y.HUNTERS_BOOTH]},[P.HUNTING_2]:{points:200,requires:[P.HUNTING],unlockFacilities:[y.HUNTERS_BOOTH_2],unlockProductionVariants:{[y.WORK_SHOP]:[O.WOODEN_BOW]}},[P.HOUSING]:{points:500,requires:[P.FACTORY_1],unlockFacilities:[y.HOUSING_FACTORY],unlockProductionVariants:{[y.HOUSING_FACTORY]:[O.WICKIUP]}},[P.HOUSING_2]:{points:500,requires:[P.HOUSING],unlockFacilities:[],unlockProductionVariants:{[y.HOUSING_FACTORY]:[O.HOVEL]}},[P.INTERCITY]:{points:1e3,requires:[P.HORSES],unlockFacilities:[y.INTERCITY_SENDER,y.INTERCITY_RECEIVER]},[P.STONE]:{points:2e3,requires:[P.INTERCITY],unlockFacilities:[y.QUARRY],unlockProductionVariants:{[y.QUARRY]:[O.STONE]}},[P.HOUSING_3]:{points:1e3,requires:[P.HOUSING_2],unlockFacilities:[],unlockProductionVariants:{[y.HOUSING_FACTORY]:[O.COTTAGE]}}},uo=Jw(eO,(e,t)=>(e.researchId=t,e)),Ni={[P.WOOD_WORK]:"Wood work",[P.WOOD_WORK_2]:"Wood work II",[P.WORK_SHOP]:"Workshops",[P.WORK_SHOP_2]:"Workshops II",[P.LOGGING]:"Advanced logging",[P.AGRO_1]:"Agroculture",[P.HORSES]:"Horses",[P.PAPYRUS]:"Papyrus",[P.FACTORY_1]:"Ancient factory",[P.TEA]:"Tea",[P.GATHERING_2]:"Advanced gathering",[P.COOKING]:"Cooking",[P.HUNTING]:"Hunting",[P.HUNTING_2]:"Hunting II",[P.HOUSING]:"Housing",[P.HOUSING_2]:"Housing II",[P.HOUSING_3]:"Housing III",[P.INTERCITY]:"Intercity exchange",[P.STONE]:"Stone processing"};function Vs(e,t){const{length:n}=t,r=[...t];for(let o=0;o<n;o++)tO(r,o,Math.floor(e()*n));return r}function tO(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function nl(e){return()=>{let t=e+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}function nO({gameId:e}){const t=Math.floor(Math.random()*4294967296),n={gameId:e,gameSeed:t,tickNumber:0,worldParams:{chunkSize:rg,maxChunkDeposits:og,maxDepositRadius:ig,ignoreDepositsInCenterRadius:lg},cities:new Map,facilitiesByCityId:new Map,carrierPathsFromCellId:new Map,carrierPathsToCellId:new Map,structuresByCellId:new Map,alreadyCityNames:new Set,completedResearches:new Set,inProgressResearches:new Map,currentResearchId:void 0,unlockedFacilities:new Set,unlockedProductionVariants:new Map,pseudoRandom:nl(t),depositsMapCache:new Map};return Bh(n,{position:rr({i:0,j:0})}),n}function rO({gameId:e}){return{gameState:Qh(nO({gameId:e})),viewportState:{center:{i:0,j:0},scale:1}}}function Qh(e){const{gameId:t,gameSeed:n,tickNumber:r,worldParams:o,cities:i,facilitiesByCityId:l,completedResearches:s,currentResearchId:a,inProgressResearches:u}=e,f=[...i.values()].map(p=>({...p,chunksIds:void 0,carrierPaths:p.carrierPaths.filter(h=>h.pathType!==Bt.AUTOMATIC)}));return{gameId:t,gameSeed:n,tickNumber:r,worldParams:o,cities:f,facilities:[...l.values()].flat(),completedResearches:[...s.values()],currentResearchId:a,inProgressResearches:[...u.entries()]}}function oO(e){const{gameId:t,gameSeed:n,tickNumber:r,worldParams:o,cities:i,completedResearches:l,currentResearchId:s,inProgressResearches:a,facilities:u}=e,f=i.map(g=>({...g,chunksIds:Hh(o,g.position),isNeedUpdateAutomaticPaths:!0})),p=new Map;for(const g of f)p.set(g.position.cellId,g);const{carrierPathsFromCellId:h,carrierPathsToCellId:_}=iO(f),C=new Map(f.map(g=>[g.cityId,[]]));for(const g of u)p.set(g.position.cellId,g),C.get(g.assignedCityId).push(g);return{gameId:t,gameSeed:n,tickNumber:r,worldParams:o,cities:new Map(f.map(g=>[g.cityId,g])),completedResearches:new Set(l),currentResearchId:s,inProgressResearches:new Map(a),alreadyCityNames:new Set(f.map(g=>g.name)),carrierPathsFromCellId:h,carrierPathsToCellId:_,facilitiesByCityId:C,structuresByCellId:p,...lO(l),pseudoRandom:nl(n+r),depositsMapCache:new Map}}function iO(e){const t=new Map,n=new Map;for(const r of e)for(const o of r.carrierPaths)Ci(t,o,o.path.from),Ci(n,o,o.path.to);return{carrierPathsFromCellId:t,carrierPathsToCellId:n}}function lO(e){const t=new Set,n=new Map;for(const r of e){const o=uo[r];for(const i of o.unlockFacilities)t.add(i);if(o.unlockProductionVariants)for(const[i,l]of Object.entries(o.unlockProductionVariants))Jp(n,i,l)}return{unlockedFacilities:t,unlockedProductionVariants:n}}function Xh(e,t){return t?`${e}|${t.toLowerCase()}`:e}function hf(e,t,n){const r=Qh(e),o=Xh(e.gameId,n);Oi.set(o,{gameState:r,viewportState:t});const i=yt.get();if(i){const l=i.games.find(s=>s.gameId===e.gameId);if(l){const s=Date.now();l.lastSnapshotCreatedAt=s,n?(l.snapshotCreatedAt=void 0,l.saves.push({saveName:n,snapshotCreatedAt:s})):l.snapshotCreatedAt=s,yt.set(i),n&&Oi.clear(e.gameId);return}}console.error("No game meta found")}function mf(e,t){var l;let n=t;if(!n){const s=yt.get();if(!s)throw new Error;const a=s.games.find(u=>u.gameId===e);if(!a)throw new Error;if(!a.snapshotCreatedAt){if(!a.saves.length)throw new Error;a.saves.sort((u,f)=>f.snapshotCreatedAt-u.snapshotCreatedAt),n=a.saves[0].saveName}}const r=Xh(e,n),o=Oi.get(r);if(!o)throw new Error("No game state found");let i;return o.viewportState&&((l=o.viewportState.center)==null?void 0:l.i)!==void 0&&o.viewportState.scale!==void 0?i=o.viewportState:i={center:{i:0,j:0},scale:1},{gameState:oO(o.gameState??o),viewportState:i}}function Ai(e,t){t!=null&&t.replace?window.location.replace(window.location.pathname+window.location.search+(e?`#${e}`:"")):window.location.hash=`#${e}`}function sO(e,t){x.useEffect(()=>(window.addEventListener(e,t,{passive:!0}),()=>{window.removeEventListener(e,t)}),[])}const aO="_wrapper_tgb41_1",uO="_canvasWrapper_tgb41_7",cO="_canvas_tgb41_7",fO="_sidePanel_tgb41_21",dO="_sidePanelMenu_tgb41_30",pO="_sidePanelCities_tgb41_34",hO="_sidePanelBuildings_tgb41_35",Yt={wrapper:aO,canvasWrapper:uO,canvas:cO,sidePanel:fO,sidePanelMenu:dO,sidePanelCities:pO,sidePanelBuildings:hO},du="11px sans-serif";function rl(e,t,{x:n,y:r},{align:o,baseline:i,color:l="black",shadowThickness:s=1,fontSize:a}){e.strokeStyle=l==="black"?"white":"black",e.fillStyle=l,e.textAlign=o,e.textBaseline=i,e.lineJoin="round",s!==1&&(e.lineWidth=s),a&&(e.font=`${a}px sans-serif`),e.strokeText(t,n,r),e.fillText(t,n,r),e.lineJoin="miter",s!==1&&(e.lineWidth=1),a&&(e.font=du)}function mO(e,t){e.rect(0,0,t.width,t.height),e.fillStyle="white",e.fill()}function yO(e){for(const t of e.cities.values()){const n=yf(t,An.housing,T.HOUSING,10),r=yf(t,An.population,T.FOOD,0);let o=0;if(n.type==="SHORTAGE"&&r.type==="SHORTAGE"?o=Math.max(n.shortage,r.shortage):n.type==="SHORTAGE"?o=n.shortage:r.type==="SHORTAGE"&&(o=r.shortage),o>0){const i=o*t.population;t.population=Math.max(Gs,t.population-Math.max(.1,i*.1))}else{const i=vO(t.cityReport.population.needStatistics),l=Math.max(i+1,i*1.02),s=t.population-l;s>0?t.population=Math.max(Gs,t.population-Math.max(.1,s*.1)):n.type!=="AT_LIMIT"&&r.type!=="AT_LIMIT"&&(t.population=Math.min(t.population*1.01,l))}}}function vO(e){if(e.length===0)throw new Error;let t=0;for(const n of e)t+=n;return t/e.length}function yf(e,t,n,r){const o=Math.floor(e.population),i=o-r;if(i===0)return{type:Te(e.input,n)>0?"MORE":"AT_LIMIT"};if(i<=0)return{type:"BELOW_LIMIT"};const l=i*t.perWorker,s=Si(e.input,{resourceType:n,quantity:l});return s.quantity===l?{type:"MORE"}:{type:"SHORTAGE",shortage:(l-s.quantity)/l*(i/o)}}function gO(e){if(!e.currentResearchId)return;let t=0;for(const n of e.cities.values())t+=n.population*Xv;if(t>0){let n=e.inProgressResearches.get(e.currentResearchId);n||(n={points:0},e.inProgressResearches.set(e.currentResearchId,n)),n.points+=t;const r=uo[e.currentResearchId];n.points>=r.points&&(TO(e,r.researchId),e.currentResearchId=void 0)}}function TO(e,t){const n=uo[t];e.completedResearches.add(t),e.inProgressResearches.delete(t);for(const r of n.unlockFacilities)e.unlockedFacilities.add(r);if(n.unlockProductionVariants)for(const[r,o]of Object.entries(n.unlockProductionVariants))Jp(e.unlockedProductionVariants,r,o)}function _O(e,t,{needWorkersWorkDays:n,needCarriersWorkDays:r}){Rc(n);const o=Rc(r),i=SO(),l=EO(e,t,o),s=n.exclusiveWorkDays*i+r.exclusiveWorkDays*l.boostRatio,a=n.privilegedWorkDays*i+r.privilegedWorkDays*l.boostRatio,u=n.restWorkDays*i+r.restWorkDays*l.boostRatio,f=s+a+u,p=Math.min(1,t.population/f);CO(l.grabbedResources,p);const h={exclusive:0,privileged:0,rest:0};if(t.population-s-a>0){h.exclusive=1,h.privileged=1;const _=t.population-s-a;h.rest=Math.min(1,_/u)}else if(t.population-s>0){h.exclusive=1;const _=t.population-s;h.privileged=Math.min(1,_/a),h.rest=0}else h.exclusive=Math.min(1,t.population/s),h.privileged=0,h.rest=0;return{ratios:h,totalNeedPeopleCount:f}}function CO(e,t){for(const{storage:n,reservedItem:r}of e)$h(n,Gh(r,t))}function SO(e,t,n){return 1}function EO(e,t,n){const o=e.facilitiesByCityId.get(t.cityId).find(a=>a.type===y.STABLE);if(!o)return{boostRatio:1,grabbedResources:[]};let i=0,l=n;const s=[];for(const a of ZI){const u=Te(o.input,a);if(u>0){const{boost:f,perWorker:p}=Kr[a],h=1+f;let _;const C=u/p*h;if(C>=l?(_=l/h*p,i+=l/h,l=0):(_=u,i+=C/h,l-=C),s.push({storage:o.input,reservedItem:{resourceType:a,quantity:_}}),l===0)break}}return{boostRatio:(i+l)/n,grabbedResources:s}}var br=(e=>(e.WORKER="WORKER",e.CARRIER="CARRIER",e))(br||{});function IO(e,t){const n=e.facilitiesByCityId.get(t.cityId),r=[];for(const u of Vs(e.pseudoRandom,n))if((ag(u)||u.type===y.CONSTRUCTION)&&!u.isPaused){const f=u.type===y.CONSTRUCTION?wO(u):OO(u);f&&r.push({task:{jobType:"WORKER",facility:u},needWorkDays:f,isPrivileged:!1})}for(const u of Vs(e.pseudoRandom,t.carrierPaths)){const f=kO(e,u);f&&r.push({task:{jobType:"CARRIER",carrierPath:u},needWorkDays:f,isPrivileged:JI.has(u.resourceType)})}const o=r.map(u=>{const f=Math.max(0,u.needWorkDays-Ac);return{...u,exclusiveWorkDays:Math.min(u.needWorkDays,Ac),privilegedWorkDays:u.isPrivileged?f:0,restWorkDays:u.isPrivileged?0:f}}),i={WORKER:vf(),CARRIER:vf()};for(const{task:u,exclusiveWorkDays:f,privilegedWorkDays:p,restWorkDays:h}of o){const _=i[u.jobType];_.exclusiveWorkDays+=f,_.privilegedWorkDays+=p,_.restWorkDays+=h}const{ratios:l,totalNeedPeopleCount:s}=_O(e,t,{needWorkersWorkDays:i.WORKER,needCarriersWorkDays:i.CARRIER}),a=o.map(u=>({...u,actualWorkDays:u.exclusiveWorkDays*l.exclusive+u.privilegedWorkDays*l.privileged+u.restWorkDays*l.rest}));return{totalNeedPeopleCount:s,dailyWorks:a}}function wO(e){const t=Pe[e.buildingFacilityType];if(e.inProcess===0&&Zh(e.input,t.input)<1)return 0;const n=(1-e.inProcess)*t.iterationPeopleDays;return Math.min(t.maximumPeopleAtWork,n)}function OO(e){const t=Jh(e),n=or(e),r=e.inProcess>0?1-e.inProcess:0,o=NO(e)+r;if(o===0)return 0;const i=AO(e),l=Math.max(0,i-e.inProcess);return l===0?0:Math.min(o,l,t)*n.iterationPeopleDays}function NO(e){const t=or(e);return Zh(e.input,t.input)}function Zh(e,t){let n=1/0;for(const{resourceType:r,quantity:o}of t){const i=Te(e,r),l=Math.floor(i/o);l<n&&(n=l)}return n}function vf(){return{exclusiveWorkDays:0,privilegedWorkDays:0,restWorkDays:0}}function AO(e){const t=or(e),n=RO(e.output,t.output),r=t.iterationPeopleDays/e.assignedWorkersCount,o=n*r;if(o>=Nc)return 0;const i=Nc-o;return Math.max(1.5,i/r)}function kO(e,t){const{to:n,from:r}=zh(e,t);if(n.type!==y.CITY&&n.isPaused)return 0;let o;if(r.type===y.INTERCITY_SENDER?o=Te(r.input,t.resourceType):o=Te(r.output,t.resourceType),o===0)return 0;const i=xh(t);let l=0;if(n.type===y.CITY){const a=Ph[t.resourceType];if(a){const{resourceType:u,modifier:f}=Vh(t.resourceType),p=Te(n.input,u);l=(n.population*a.perWorker*Jv-p)/f}}else if(Wa(n))if(n.type===y.INTERCITY_RECEIVER){const a=Te(n.output,t.resourceType);l=kc-a}else{const a=Te(n.input,t.resourceType);l=kc-a}else if(za(n)){const a=Te(n.input,t.resourceType);switch(n.type){case y.STABLE:{const u=e.cities.get(n.assignedCityId),f=Kr[t.resourceType];l=u.population*f.perWorker-a;break}default:Tt()}}else{const a=Te(n.input,t.resourceType),u=Jh(n),f=or(n),p=f.iterationPeopleDays/u,h=Math.max(1.5,Zv/p),_=Te(f.input,t.resourceType);l=h*_-a}return l<=0?0:Math.min(o,l)*i/Fa}function Jh(e){if(e.type===y.CONSTRUCTION)return Pe[e.buildingFacilityType].maximumPeopleAtWork;const t=nr[e.type];if(t.iterationInfoType!==Y.FACILITY)throw new Error;return t.maximumPeopleAtWork}function RO(e,t){let n=0;for(const{resourceType:r,quantity:o}of t){const l=Te(e,r)/o;l>n&&(n=l)}return n}function PO(e,t){const n=or(e),r=t/n.iterationPeopleDays,o=e.inProcess>0,i=e.inProcess+r,l=Math.ceil(i)+(o?-1:0);l>0&&MO(e,l),e.inProcess=i%1;const s=Math.floor(i);s>0&&jO(e,s)}function LO(e,t,n){const r=Pe[t.buildingFacilityType];t.inProcess+=n/r.iterationPeopleDays,UO(e,t)}function xO(e,t,n){const{to:r,from:o}=zh(e,t),i=xh(t);let l=n*Fa/i;if(r.type===y.CONSTRUCTION){const u=$w(r,t.resourceType);l=Math.min(l,u)}const s={resourceType:t.resourceType,quantity:l};let a;if(o.type===y.INTERCITY_SENDER?a=Si(o.input,s):a=Si(o.output,s),a.quantity!==s.quantity&&console.warn("Carring quantity reduction"),r.type===y.CITY){const{resourceType:u,modifier:f}=Vh(a.resourceType);qo(r.input,{resourceType:u,quantity:a.quantity*f})}else r.type===y.INTERCITY_RECEIVER?qo(r.output,a):qo(r.input,a)}function MO(e,t){const n=zn(e),r=Dh(n.input,t);Pw(e.input,r)}function jO(e,t){const n=zn(e),r=Dh(n.output,t);Rw(e.output,r)}function UO(e,t){t.inProcess>=1&&Mw(e,t)}function $O(e){e.tickNumber+=1,e.pseudoRandom=nl(e.gameSeed+e.tickNumber);const t=Vs(e.pseudoRandom,[...e.cities.values()]);for(const n of t){n.cityReport.lastTick=cu();const r=e.facilitiesByCityId.get(n.cityId);if(n.isNeedUpdateAutomaticPaths){gf(e,n,n);for(const l of r)gf(e,n,l);n.isNeedUpdateAutomaticPaths=!1}const{totalNeedPeopleCount:o,dailyWorks:i}=IO(e,n);DO(e,n,o);for(const l of i){const{actualWorkDays:s,task:a}=l;switch(a.jobType){case br.WORKER:{const{facility:u}=a;u.type===y.CONSTRUCTION?LO(e,u,s):PO(u,s);break}case br.CARRIER:{const{carrierPath:u}=a;xO(e,u,s);break}default:throw Tt()}}GO(n,i)}gO(e),yO(e)}function DO(e,t,n){const r=Math.ceil(n);t.cityReport.population.lastTick=r,t.cityReport.population.needStatistics[e.tickNumber%nh]=r}function GO(e,t){const n=cu();for(const r of t){const{task:o,actualWorkDays:i}=r;switch(o.jobType){case br.WORKER:{const{facility:l}=o;n.facilityWorkerReports.push({facility:l,workers:i});break}case br.CARRIER:{const{carrierPath:l}=o,{from:s,to:a}=l.path,u=n.carrierPathReports.find(f=>Mh(f.path,l.path));u?u.carriers+=i:n.carrierPathReports.push({path:{from:s,to:a},carriers:i});break}default:throw Tt()}}e.cityReport.lastTick=n}function gf(e,t,n){uu(e,n.position.cellId,Bt.AUTOMATIC);const r=zn(n),o=e.facilitiesByCityId.get(t.cityId);for(const i of o)if(sg(i)){const l=zn(i);for(const{resourceType:s}of r.input)for(const{resourceType:a}of l.output)s===a&&Uh(e,{assignedCityId:t.cityId,people:1,resourceType:s,pathType:Bt.AUTOMATIC,path:{from:i.position,to:n.position}})}}const ki=90;var Fe=(e=>(e[e.CONSTRUCTION_PLANNING=0]="CONSTRUCTION_PLANNING",e[e.CARRIER_PATH_PLANNING=1]="CARRIER_PATH_PLANNING",e))(Fe||{});function BO(e,t,n,r){t.font=du;const o={gameState:e,ctx:t,canvas:{size:{width:0,height:0},halfSize:{width:0,height:0},pixelRatio:1,isActive:!1},cellSize:{width:ki,height:ki},offset:{x:0,y:0},viewportCenter:{i:0,j:0},scale:1,viewportBounds:ff(),viewportBoundsForCities:ff(),viewportChunksIds:new Set,pointerScreenPosition:void 0,hoverCell:void 0,interactiveAction:void 0,onUpdate:r};return em(o,n),co(o),o}function em(e,t){const{width:n,height:r,pixelRatio:o}=t,{canvas:i,ctx:l}=e;l.font=du,i.size.width=n,i.size.height=r,i.halfSize.width=Math.floor(n/2),i.halfSize.height=Math.floor(r/2),i.pixelRatio=o,co(e)}function co(e){const{cellSize:t,canvas:n,viewportCenter:r,gameState:o}=e,i=n.halfSize.width/t.width,l=n.halfSize.height/t.height,s={i:Math.floor(r.i+.5-i),j:Math.floor(r.j+.5-l)},a={i:Math.ceil(r.i-.5+i),j:Math.ceil(r.j-.5+l)};e.viewportBounds={start:s,end:a},e.viewportBoundsForCities=au(e.viewportBounds,th);const{worldParams:u}=o,f=Ii(u,s),p=Ii(u,a);e.viewportChunksIds.clear();for(let h=f.j;h<=p.j;h+=u.chunkSize)for(let _=f.i;_<=p.i;_+=u.chunkSize)e.viewportChunksIds.add(iu({i:_,j:h}))}function tm(e,t){const{canvas:n,offset:r}=e,{x:o,y:i}=t;if(o<0||o>=n.size.width||i<0||i>=n.size.height)return;const{cellSize:l}=e,s=o-r.x-n.halfSize.width+l.width/2,a=i-r.y-n.halfSize.height+l.height/2;return rr({i:Math.floor(s/l.width),j:Math.floor(a/l.height)})}function Ys(e,t){e.pointerScreenPosition=t,ol(e)}function HO(e,t){e.canvas.isActive!==t&&(e.canvas.isActive=t,e.onUpdate())}function ol(e){const{canvas:t,pointerScreenPosition:n,scale:r}=e;if(!n||!t.isActive||r<jn){e.hoverCell&&(e.hoverCell=void 0,e.onUpdate());return}const o=tm(e,n);_i(e.hoverCell,o)||(e.hoverCell=o,e.onUpdate())}function Tf(e,t){const{viewportCenter:n,cellSize:r}=e,o=-t.x/r.width,i=-t.y/r.height;nm(e,{i:n.i+o,j:n.j+i})}function FO(e,t){nm(e,{i:t.i,j:t.j})}function pu(e,t){e.viewportCenter.i=t.i,e.viewportCenter.j=t.j,e.offset.x=-t.i*e.cellSize.width,e.offset.y=-t.j*e.cellSize.height}function nm(e,t){pu(e,t),co(e),ol(e),e.onUpdate()}function _f(e,t){rm(e,t.scale),pu(e,t.center),co(e),ol(e),e.onUpdate()}function Cf(e){return{center:e.viewportCenter,scale:e.scale}}function rm(e,t){const n=e.scale;e.scale=t,e.cellSize.width=ki*t,e.cellSize.height=ki*t;const r=e.pointerScreenPosition;if(r){const{canvas:o,cellSize:i,viewportCenter:l}=e,s=(r.x-o.halfSize.width)/i.width,a=(r.y-o.halfSize.height)/i.height,u=(t-n)/n;pu(e,{i:l.i+s*u,j:l.j+a*u})}}function WO(e,t){rm(e,t),co(e),ol(e),e.onUpdate()}function zO(e,t){const n=window.setInterval(()=>{$O(e.gameState),t()},1e3);return()=>{window.clearInterval(n)}}function om(e,t){const{gameState:n,interactiveAction:r}=e;if(n.structuresByCellId.has(t.cellId))return!1;if(r)switch(r.actionType){case 0:if(r.facilityType===y.CITY){let o=!1;for(const i of n.cities.values()){const l=lu(i.position,t);if(l<tg)return!1;l<=ng&&(o=!0)}return o}else{let o=!1;for(const l of n.cities.values())if(wi(l.position,t)){o=!0;break}if(!o)return!1;const i=Pe[r.facilityType];if(i.workArea){const l=Nh[i.workArea.areaType];if(YO(t,l.maximumRadius*2,a=>{const u=n.structuresByCellId.get(a.cellId);if(!u||u.type===y.CITY)return;const f=u.type===y.CONSTRUCTION?u.buildingFacilityType:u.type;if(u&&l.facilities.has(f)){const p=Pe[f];if(VO(t,i.workArea.radius,u.position,p.workArea.radius))return!0}}))return!1}return!0}}return!1}function VO(e,t,n,r){const o=Math.abs(e.i-n.i),i=Math.abs(e.j-n.j),l=t+r+1;return o<l&&i<l}function YO(e,t,n){for(let r=-t;r<=t;r+=1)for(let o=-t;o<=t;o+=1)if(!(r===0&&o===0)){const i=rr({i:e.i+r,j:e.j+o}),l=n(i);if(l)return l}}function qO(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}var KO=qO,bO=/\s/;function QO(e){for(var t=e.length;t--&&bO.test(e.charAt(t)););return t}var XO=QO,ZO=XO,JO=/^\s+/;function eN(e){return e&&e.slice(0,ZO(e)+1).replace(JO,"")}var tN=eN,nN=tN,Sf=so,rN=ao,Ef=0/0,oN=/^[-+]0x[0-9a-f]+$/i,iN=/^0b[01]+$/i,lN=/^0o[0-7]+$/i,sN=parseInt;function aN(e){if(typeof e=="number")return e;if(rN(e))return Ef;if(Sf(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Sf(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=nN(e);var n=iN.test(e);return n||lN.test(e)?sN(e.slice(2),n?2:8):oN.test(e)?Ef:+e}var uN=aN,cN=KO,Dl=uN;function fN(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=Dl(n),n=n===n?n:0),t!==void 0&&(t=Dl(t),t=t===t?t:0),cN(Dl(e),t,n)}var hu=fN,$e=(e=>(e.GAME_MENU="GAME_MENU",e.FACILITY="FACILITY",e.RESEARCH="RESEARCH",e.PRODUCTION_VARIANT_CHOOSE="PRODUCTION_VARIANT_CHOOSE",e.RESOURCE_CHOOSE="RESOURCE_CHOOSE",e))($e||{}),B=(e=>(e.RESEARCH="RESEARCH",e.MODAL="MODAL",e.CANVAS="CANVAS",e))(B||{});function mu(e){let t,n;e>7e5?(t=(e/1e6).toFixed(1),n="M"):e>700?(t=(e/1e3).toFixed(1),n="K"):(t=e.toFixed(1),n="");const r=t.length;return t[r-1]==="0"&&t[r-2]==="."&&(t=t.substring(0,r-2)),`${t}${n}`}const If=[Ae.STONE,Ae.COAL,Ae.IRON,Ae.OIL];function dN(e,t){const n=e.depositsMapCache.get(t.chunkId);if(n)return n;const r=kr({i:t.i,j:t.j-1}),o=kr({i:t.i-1,j:t.j-1}),i=kr({i:t.i-1,j:t.j}),l=Mo(e,r),s=Mo(e,o),a=Mo(e,i),u=Mo(e,t),f=u.filter((h,_)=>{const C=au(h.boundingRect,3);return!xo(C,u,_+1)&&!xo(C,l)&&!xo(C,s)&&!xo(C,a)}),p={deposits:f,map:new Map};for(const h of f)for(const _ of h.shape.cells)p.map.set(_.cellId,h.depositType);return e.depositsMapCache.set(t.chunkId,p),p}function xo(e,t,n=0){for(let r=n;r<t.length;r+=1){const o=t[r];if(jh(e,o.boundingRect))return!0}return!1}function Mo(e,t){const n=e.depositsMapCache.get(t.chunkId);if(n)return n.deposits;const{gameSeed:r,worldParams:o}=e,i=[],l=nl(r+t.chunkId),s=Math.floor(l()*o.maxChunkDeposits);for(let a=0;a<s;a++){const u={i:t.i+Math.floor(l()*o.chunkSize),j:t.j+Math.floor(l()*o.chunkSize)};if(u.i**2+u.j**2>=o.ignoreDepositsInCenterRadius**2){const f=If[Math.floor(l()*If.length)],p=l()*o.maxDepositRadius,h=pN(l,u,p);i.push({shape:h,boundingRect:hN(h.cells),depositType:f})}}return i}function pN(e,t,n){const r=n**2,o=[],i=Math.ceil(n),l=(n-1)**2;for(let s=-i;s<=i;s+=1)for(let a=-i;a<=i;a+=1){const u=s**2+a**2;u<=r&&(u<=l||e()<.5)&&o.push(rr({i:t.i+s,j:t.j+a}))}return{cells:o}}function hN(e){const t=e[0],n={start:{...t},end:{...t}};for(let r=1;r<e.length;r++){const o=e[r];o.i<n.start.i&&(n.start.i=o.i),o.j<n.start.j&&(n.start.j=o.j),o.i>n.end.i&&(n.end.i=o.i),o.j>n.end.j&&(n.end.j=o.j)}return n}const mN=Math.sqrt(2),wf=1/mN;function im(e,t){const{ctx:n}=e;switch(n.beginPath(),t){case y.CITY:n.arc(0,0,14,0,2*Math.PI,!0),n.fillStyle="black",n.fill();break;case y.LOGGING:case y.LOGGING_2:n.moveTo(0,-15),n.lineTo(-15,12),n.lineTo(15,12),n.closePath(),n.fillStyle="green",n.fill();break;case y.SAWMILL:case y.SAWMILL_2:n.moveTo(-6,-12),n.lineTo(6,12),n.strokeStyle="black",n.lineWidth=4,n.stroke(),n.lineWidth=1,n.beginPath(),n.moveTo(-14,-8),n.lineTo(-10,4),n.lineTo(2,-8),n.closePath(),t===y.SAWMILL?n.fillStyle="brown":n.fillStyle="gray",n.fill();break;case y.GATHERING:case y.GATHERING_2:n.moveTo(-12,-4),n.lineTo(-9,8),n.lineTo(9,8),n.lineTo(12,-4),n.closePath(),n.rect(-2,-12,4,8),n.fillStyle="brown",n.fill(),t===y.GATHERING_2&&(n.textAlign="center",n.textBaseline="middle",n.fillStyle="#fff",n.fillText("II",0,2));break;case y.KITCHEN:n.moveTo(-12,-8),n.lineTo(-9,8),n.lineTo(9,8),n.lineTo(12,-8),n.closePath(),n.rect(-2,-12,4,8),n.fillStyle="gray",n.fill();break;case y.HUNTERS_BOOTH:case y.HUNTERS_BOOTH_2:n.arc(-9,0,15,-.4*Math.PI,.4*Math.PI),n.strokeStyle="brown",n.lineWidth=3,n.stroke(),n.lineWidth=1,n.beginPath(),n.moveTo(-4,-15),n.lineTo(-4,15),n.strokeStyle="gray",n.stroke(),t===y.HUNTERS_BOOTH_2&&(n.textAlign="center",n.textBaseline="middle",n.fillStyle="#000",n.fillText("II",0,1));break;case y.WORK_SHOP:case y.WORK_SHOP_2:n.moveTo(-10,-7),n.lineTo(-10,8),n.lineTo(10,8),n.lineTo(10,-7),n.lineTo(0,-11),n.closePath(),t===y.WORK_SHOP?n.fillStyle="brown":n.fillStyle="gray",n.fill();break;case y.FIELD:n.rect(-12,-12,24,24),n.fillStyle="orange",n.fill();break;case y.RANCH:case y.STABLE:n.rect(-10,-5,20,9),n.rect(-12,-12,5,7),n.rect(-10,4,2,6),n.rect(-6,4,2,6),n.rect(6,4,2,6),n.rect(10,4,2,6),n.rect(10,-5,4,2),n.fillStyle="brown",n.fill(),t===y.STABLE&&(n.beginPath(),n.moveTo(-4,-9),n.lineTo(3,-15),n.lineTo(10,-9),n.lineWidth=3,n.strokeStyle="#000",n.stroke(),n.lineWidth=1);break;case y.ANCIENT_FACTORY:case y.HOUSING_FACTORY:n.moveTo(-10,10),n.lineTo(-10,-5),n.lineTo(-5,-10),n.lineTo(-5,-5),n.lineTo(0,-10),n.lineTo(0,-5),n.lineTo(5,-10),n.lineTo(5,-5),n.lineTo(10,-10),n.lineTo(10,-5),n.lineTo(10,10),n.closePath(),t===y.ANCIENT_FACTORY?n.fillStyle="#8e4ee8":n.fillStyle="brown",n.fill();break;case y.INTERCITY_SENDER:case y.INTERCITY_RECEIVER:{const r=t===y.INTERCITY_SENDER?{main:"blue",second:"orange"}:{main:"orange",second:"blue"};n.arc(0,-2,9,0,Math.PI),n.lineWidth=3,n.strokeStyle=r.main,n.stroke(),n.lineWidth=1,n.beginPath(),t===y.INTERCITY_SENDER?(n.moveTo(-4,-5),n.lineTo(0,1),n.lineTo(4,-5)):(n.moveTo(-4,0),n.lineTo(0,-6),n.lineTo(4,0)),n.closePath(),n.fillStyle=r.second,n.fill();break}case y.QUARRY:n.moveTo(-10,-4),n.lineTo(-8,4),n.lineTo(8,4),n.lineTo(10,-4),n.lineWidth=3,n.strokeStyle="#000",n.stroke();break;default:n.beginPath(),n.moveTo(-10,-10),n.lineTo(10,10),n.moveTo(10,-10),n.lineTo(-10,10),n.lineWidth=2,n.strokeStyle="black",n.stroke(),n.lineWidth=1,console.warn(`No render function for facility ${t}`),Tt(t,!0)}}function yN(e,t){var i;const{ctx:n,cellSize:r}=e;let o;if(t.type===y.CONSTRUCTION?o=t.buildingFacilityType:o=t.type,im(e,o),t.type===y.CONSTRUCTION&&(n.beginPath(),n.rect(-r.width/2+1,-r.height/2+1,r.width-2,r.height-2),n.fillStyle="rgba(0,0,0,0.25)",n.fill()),t.type===y.CITY){const l=t;rl(n,l.name,{x:0,y:28},{align:"center",baseline:"alphabetic",shadowThickness:4}),n.textAlign="right",n.textBaseline="alphabetic",n.strokeStyle="white",n.fillStyle="black",n.lineWidth=4,n.lineJoin="round";const s=Math.floor(l.population).toString(),a=(i=l.cityReport.population.lastTick)==null?void 0:i.toString(),u=`/${s}`,f=n.measureText(u);l.population>=l.cityReport.population.lastTick?n.fillStyle="green":n.fillStyle="red",n.strokeText(a,18-f.width-1,14),n.fillText(a,18-f.width-1,14),n.fillStyle="#000",n.strokeText(u,18,14),n.fillText(u,18,14),n.lineWidth=1,n.lineJoin="miter"}}function lm(e,t){const{ctx:n,cellSize:r}=e,o=Math.min(r.width,r.height),i=o*.5;switch(n.beginPath(),t){case y.CITY:n.arc(0,0,i*.6,0,2*Math.PI),n.fillStyle="#000",n.fill();break;case y.INTERCITY_SENDER:{const l=-.2*o,s=.6*wf*o-.2*o;n.moveTo(-.3*o,l),n.lineTo(0,s),n.lineTo(.3*o,l),n.closePath(),n.fillStyle="orange",n.fill();break}case y.INTERCITY_RECEIVER:{const l=.6*wf*o-.25*o,s=-.25*o;n.moveTo(-.3*o,l),n.lineTo(0,s),n.lineTo(.3*o,l),n.closePath(),n.fillStyle="blue",n.fill();break}default:n.rect(-i*.5,-i*.5,o*.5,o*.5),n.fillStyle="gray",n.fill()}}function vN(e,t){switch(e.beginPath(),t){case T.LOG:e.moveTo(-5,-3),e.lineTo(5,-3),e.lineTo(5,3),e.lineTo(-5,3),e.fillStyle="brown",e.fill();break;case T.LUMBER_ROUGH:e.fillStyle="brown",e.moveTo(-4,-6),e.lineTo(-6,-4),e.lineTo(4,6),e.lineTo(6,4),e.closePath(),e.fill(),e.beginPath(),e.moveTo(-4,6),e.lineTo(-6,4),e.lineTo(4,-6),e.lineTo(6,-4),e.closePath(),e.fill();break;case T.FOOD:e.arc(0,0,5,0,Math.PI*2,!0),e.fillStyle="orange",e.fill();break;case T.FRUIT:e.arc(0,0,5,0,Math.PI*2,!0),e.fillStyle="red",e.fill(),e.beginPath(),e.rect(2,-6,2,4),e.fillStyle="green",e.fill();break;case T.VEGETABLE:e.strokeStyle="#fff",e.fillStyle="green",e.ellipse(0,2,6,2,0,0,2*Math.PI),e.stroke(),e.fill(),e.beginPath(),e.ellipse(0,0,6,2,Math.PI/4,0,2*Math.PI),e.stroke(),e.fill();break;case T.NUT:e.arc(0,0,5,0,Math.PI*2,!0),e.fillStyle="#be633b",e.fill(),e.beginPath(),e.ellipse(0,-2,6,4,0,Math.PI,2*Math.PI),e.fillStyle="brown",e.fill();break;case T.MEAT:e.arc(0,0,4,0,2*Math.PI,!0),e.fillStyle="red",e.fill(),e.beginPath(),e.rect(-1,-1,2,7),e.fillStyle="lightgray",e.fill();break;case T.FRIED_MEAT:e.arc(0,0,5,0,Math.PI*2,!0),e.fillStyle="brown",e.fill(),e.rect(0,-3,2,7),e.fillStyle="#fff",e.fill();break;case T.VEGAN_MEAL:e.arc(0,0,5,0,Math.PI,!0),e.fillStyle="brown",e.fill(),e.beginPath(),e.beginPath(),e.arc(0,0,5,Math.PI,2*Math.PI,!0),e.fillStyle="green",e.fill();break;case T.COMPLEX_MEAL:e.arc(0,0,5,0,Math.PI,!0),e.fillStyle="brown",e.fill(),e.beginPath(),e.arc(0,0,5,Math.PI,1.5*Math.PI,!0),e.fillStyle="red",e.fill(),e.beginPath(),e.arc(0,0,5,1.5*Math.PI,2*Math.PI,!0),e.fillStyle="green",e.fill();break;case T.BASKET:e.moveTo(-5,-2),e.lineTo(-4,4),e.lineTo(4,4),e.lineTo(5,-2),e.closePath(),e.rect(-1,-6,2,4),e.fillStyle="brown",e.fill();break;case T.AGRICULTURAL_TOOLS:case T.AGRICULTURAL_TOOLS_STONE:e.moveTo(0,6),e.lineTo(0,-2),e.lineTo(-3,-5),e.moveTo(0,-2),e.lineTo(0,-5),e.moveTo(0,-2),e.lineTo(3,-5),t===T.AGRICULTURAL_TOOLS?e.strokeStyle="brown":e.strokeStyle="gray",e.stroke();break;case T.HAY:e.rect(-5,-5,10,10),e.fillStyle="orange",e.fill();break;case T.HORSE:case T.HORSE_WITH_CART:e.moveTo(-5,-3),e.lineTo(5,-3),e.lineTo(3,3),e.lineTo(-3,3),e.fillStyle="brown",e.fill();break;case T.REED:e.rect(-1,-4,2,12),e.closePath(),e.fillStyle="black",e.fill(),e.beginPath(),e.ellipse(0,-4,3,4,0,0,Math.PI*2),e.closePath(),e.fillStyle="green",e.fill();break;case T.PAPYRUS:e.rect(-4,-4,8,8),e.closePath(),e.fillStyle="yellow",e.fill(),e.strokeStyle="black",e.stroke();break;case T.TEA_LEAVES:e.ellipse(-1,0,3,5,-Math.PI/4,0,Math.PI*2),e.fillStyle="green",e.fill();break;case T.TEA:e.moveTo(-5,-5),e.lineTo(-2,5),e.lineTo(2,5),e.lineTo(5,-5),e.closePath(),e.fillStyle="orange",e.fill();break;case T.WOODEN_BOW:e.arc(-3,0,5,-.4*Math.PI,.4*Math.PI),e.strokeStyle="brown",e.lineWidth=2,e.stroke(),e.lineWidth=1,e.beginPath(),e.moveTo(-2,-5),e.lineTo(-2,5),e.strokeStyle="gray",e.stroke();break;case T.HOUSING:e.moveTo(-5,-1),e.lineTo(0,-4),e.lineTo(5,-1),e.closePath(),e.fillStyle="brown",e.fill(),e.beginPath(),e.rect(-4,-1,8,5),e.fillStyle="gray",e.fill();break;case T.WICKIUP:e.moveTo(-6,4),e.lineTo(0,-4),e.lineTo(6,4),e.lineWidth=4,e.strokeStyle="brown",e.stroke(),e.lineWidth=1;break;case T.HOVEL:case T.COTTAGE:e.moveTo(-6,4),e.lineTo(0,-4),e.lineTo(6,4),e.closePath(),t===T.COTTAGE?e.fillStyle="gray":e.fillStyle="brown",e.fill();break;case T.STONE:e.arc(0,0,5,0,2*Math.PI),e.fillStyle="gray",e.fill();break;case T.AXE_STONE:e.moveTo(-6,-3),e.lineTo(-3,3),e.lineTo(0,-3),e.fillStyle="gray",e.fill(),e.beginPath(),e.moveTo(-2,-2),e.lineTo(2,5),e.lineWidth=2,e.strokeStyle="brown",e.stroke();break;case T.IRON_ORE:e.arc(0,0,5,0,2*Math.PI),e.fillStyle="blue",e.fill();break;case T.IRON:e.rect(-4,-3,8,6),e.fillStyle="blue",e.fill();break;case T.COAL:case T.OIL:e.arc(0,0,5,0,2*Math.PI),e.fillStyle="#000",e.fill();break;default:e.arc(0,0,5,0,Math.PI*2,!0),e.fillStyle="black",e.fill(),console.warn(`No render function for resource ${t}`),Tt(t,!0)}}const gN=[{i:-2,j:-4},{i:3,j:-4},{i:3,j:-3},{i:4,j:-3},{i:4,j:-2},{i:5,j:-2},{i:5,j:3},{i:4,j:3},{i:4,j:4},{i:3,j:4},{i:3,j:5},{i:-2,j:5},{i:-2,j:4},{i:-3,j:4},{i:-3,j:3},{i:-4,j:3},{i:-4,j:-2},{i:-3,j:-2},{i:-3,j:-3},{i:-2,j:-3}],TN=16,_N=12,CN=.55,sm=.4;function SN(e){const{ctx:t,canvas:n,scale:r}=e;t.save(),EN(e),mO(t,n.size),IN(e),wN(e),r>=jn&&RN(e),zN(e),r>=jn&&NN(e),kN(e),MN(e),r>=jn&&GN(e),t.restore(),t.beginPath()}function EN(e){const{ctx:t,canvas:n}=e;n.pixelRatio!==1&&t.scale(n.pixelRatio,n.pixelRatio)}function IN(e){const{ctx:t,canvas:n,cellSize:r,viewportCenter:o}=e;t.translate(-o.i*r.width+n.halfSize.width,-o.j*r.height+n.halfSize.height)}function wN(e){const{gameState:t}=e;for(const n of t.cities.values())cm(e,n.position)&&ON(e,n.position,"#fff1d6")}function ON(e,t,n){const{ctx:r,cellSize:o}=e;r.beginPath();let i=!0;for(const l of gN){const s=(t.i+l.i-.5)*o.width,a=(t.j+l.j-.5)*o.height;i?(r.moveTo(s,a),i=!1):r.lineTo(s,a)}r.fillStyle=n,r.fill()}function NN(e){if(e.interactiveAction)switch(e.interactiveAction.actionType){case Fe.CONSTRUCTION_PLANNING:{xN(e);break}case Fe.CARRIER_PATH_PLANNING:{AN(e,e.interactiveAction);break}}else LN(e)}function AN(e,t){if(!e.hoverCell)return;const n=e.gameState.structuresByCellId.get(e.hoverCell.cellId),r=n&&am(e,n,t);Vn(e,e.hoverCell,r?"#aea":"#e99")}function am(e,t,n){return t&&!_i(e.hoverCell,n.cell)?t.type===y.INTERCITY_RECEIVER&&t.resourceType===n.resourceType:!1}function kN(e){const{ctx:t,cellSize:n,scale:r}=e,{start:o,end:i}=e.viewportBounds;if(t.save(),t.translate(-n.width/2,-n.height/2),r>=.3&&(t.beginPath(),Nf(t,n,o,o,i,1),t.globalAlpha=Of((r-.3)*3),t.strokeStyle="#000",t.stroke()),r<1.3){const l={i:Math.ceil(o.i*.1)*10,j:Math.ceil(o.j*.1)*10};t.beginPath(),Nf(t,n,l,o,i,10),t.globalAlpha=Of(r*3),t.strokeStyle="#000",t.stroke()}t.restore()}function Of(e){return hu(e,0,1)}function Nf(e,t,n,r,o,i){const l=r.j*t.height,s=(o.j+1)*t.width;for(let f=n.i;f<=o.i+1;f+=i)e.moveTo(f*t.width,l),e.lineTo(f*t.width,s);const a=r.i*t.width,u=(o.i+1)*t.width;for(let f=n.j;f<=o.j+1;f+=i)e.moveTo(a,f*t.height),e.lineTo(u,f*t.width)}function RN(e){const{interactiveAction:t,gameState:n}=e;if(t)switch(t.actionType){case Fe.CONSTRUCTION_PLANNING:{if(t.facilityType===y.CITY)Af(e,r=>{let o=!1,i=!1;for(const s of n.cities.values())if(wi(s.position,r)){i=!0;break}e.hoverCell&&(o=wi(e.hoverCell,r));let l;i&&o?l="#e5c0c0":i?l="#e0e0e0":o&&(l="#aea"),l&&Vn(e,r,l)});else{Af(e,o=>{const i=PN(n,o);let l;i?n.structuresByCellId.has(o.cellId)||(l="#d8ffd8"):l="#ffbdbd",l&&Vn(e,o,l)});const r=Pe[t.facilityType];if(r.workArea){const o=Nh[r.workArea.areaType];for(const i of Hw(n,au(e.viewportBounds,r.workArea.radius)))if(i.type!==y.CITY){const l=i.type===y.CONSTRUCTION?i.buildingFacilityType:i.type;if(o.facilities.has(l)){const s=Pe[l];s.workArea&&um(e,{cell:i.position,radius:s.workArea.radius,color:"gray",gapped:!0})}}}}break}}}function PN(e,t){for(const n of e.cities.values())if(wi(n.position,t))return!0;return!1}function um(e,{cell:t,radius:n,color:r="black",gapped:o=!1}){const{ctx:i,cellSize:l}=e,s=o?10:0;i.beginPath(),i.rect((t.i-n-.5)*l.width+s,(t.j-n-.5)*l.height+s,l.width*(n*2+1)-2*s,l.height*(n*2+1)-2*s),i.strokeStyle=r,i.lineWidth=3,i.stroke(),i.lineWidth=1,i.fillStyle="rgba(128,128,200,0.2)",i.fill()}function Af(e,t){const{start:n,end:r}=e.viewportBounds;for(let o=n.i;o<=r.i;o+=1)for(let i=n.j;i<=r.j;i+=1){const l=rr({i:o,j:i});t(l)}}function LN(e){e.hoverCell&&Vn(e,e.hoverCell,"azure")}function Vn(e,t,n){const{ctx:r,cellSize:o}=e,{i,j:l}=t;r.beginPath(),r.rect((i-.5)*o.width,(l-.5)*o.height,o.width,o.height),r.fillStyle=n,r.fill()}function xN(e){const{hoverCell:t,interactiveAction:n}=e;if(!t)return;if(om(e,t)?Vn(e,t,"#9c9"):Vn(e,t,"#e99"),n&&n.actionType===Fe.CONSTRUCTION_PLANNING&&n.facilityType!==y.CITY){const o=Pe[n.facilityType];o.workArea&&um(e,{cell:t,radius:o.workArea.radius})}}function MN(e){const{gameState:t}=e;for(const n of t.cities.values())if(cm(e,n.position)){kf(e,n);const r=t.facilitiesByCityId.get(n.cityId);for(const o of r)kf(e,o)}e.scale>=jn&&e.interactiveAction&&e.interactiveAction.actionType===Fe.CONSTRUCTION_PLANNING&&e.hoverCell&&!t.structuresByCellId.has(e.hoverCell.cellId)&&jN(e,e.interactiveAction.facilityType,e.hoverCell)}function cm(e,t){const{viewportBoundsForCities:n}=e;return tl(n,t)}function jN(e,t,n){const{ctx:r,scale:o}=e;r.save();const i=Qr(e,n);r.translate(i.x,i.y),r.globalAlpha=.6,o>=sm?im(e,t):lm(e,t),r.restore()}function kf(e,t){if(tl(e.viewportBounds,t.position)){const{ctx:n,scale:r}=e;n.save();const o=Qr(e,t.position);n.translate(o.x,o.y),r>=sm?(yN(e,t),r>=CN&&(HN(e,t),WN(e,t))):lm(e,t.type),n.restore()}}function Qr({cellSize:e},t){return{x:t.i*e.width,y:t.j*e.height}}function UN(e,t,n){const r=t.x-e.x,o=t.y-e.y,i=Math.sqrt(r**2+o**2),l=Math.min(.4,n/i),s=1-l;return[{x:e.x+r*l,y:e.y+o*l},{x:e.x+r*s,y:e.y+o*s}]}function $N(e,t){const n=Qr(e,t.from),r=Qr(e,t.to);return UN(n,r,e.scale*30)}function DN(e,t,{color:n,text:r}){const{ctx:o,scale:i}=e,[l,s]=$N(e,t),a=su(t.from,t.to)*i,u={x:(l.x+s.x)/2,y:(l.y+s.y)/2},f=l.x-s.x,p=l.y-s.y,h=Math.atan2(p,f)+Math.PI/2,_=a*3,C=_*Math.cos(h),g=_*Math.sin(h),I={x:u.x+C,y:u.y+g};if(o.beginPath(),o.moveTo(l.x,l.y),o.bezierCurveTo(I.x,I.y,I.x,I.y,s.x,s.y),o.strokeStyle=n,o.stroke(),r){const m={x:u.x+C/2,y:u.y+g/2};rl(o,r,m,{align:"center",baseline:"middle",shadowThickness:2})}}function GN(e){const{gameState:t,hoverCell:n}=e;if(!n)return;const r=t.structuresByCellId.get(n.cellId);if(!r)return;const o=t.carrierPathsToCellId.get(r.position.cellId),i=t.carrierPathsFromCellId.get(r.position.cellId);if(o)for(const l of o)Rf(e,l,{idleColor:"rgba(255,165,0,0.5)",activeColor:"rgb(255,165,0)"});if(i)for(const l of i)Rf(e,l,{idleColor:"rgba(94,94,237,0.7)",activeColor:"rgb(94,94,237)"})}function Rf(e,t,{idleColor:n,activeColor:r}){const{gameState:o}=e,l=o.cities.get(t.assignedCityId).cityReport.lastTick.carrierPathReports.find(a=>Mh(a.path,t.path)),s=l?{text:mu(l.carriers),color:r}:{color:n};DN(e,t.path,s)}function BN(e){return e.type===y.CITY}function HN(e,t){const{ctx:n,gameState:r}=e;if(t.type!==y.CITY){const i=r.cities.get(t.assignedCityId).cityReport.lastTick.facilityWorkerReports.find(l=>l.facility===t);i&&rl(n,mu(i.workers),{x:14,y:-14},{align:"right",baseline:"middle",color:"black",shadowThickness:2})}}const FN=[{resourceType:T.FOOD,quantity:0},{resourceType:T.HOUSING,quantity:0}];function WN(e,t){let n,r;if(BN(t))n=FN;else{const l=zn(t);n=l.input,r=l.output}const o=Pf(n,t.input);o.length&&Lf(e,o,"right");const i=r?Pf(r,t.output):t.output;i.length&&Lf(e,i,"left")}function Pf(e,t){return e.map(n=>{var r;return{resourceType:n.resourceType,quantity:((r=t.find(({resourceType:o})=>o===n.resourceType))==null?void 0:r.quantity)??0}})}function Lf(e,t,n){const{ctx:r,scale:o}=e,i=(t.length-1)/2,l=o<1,s=l?_N:TN;for(let a=0;a<t.length;a+=1){r.save();const u=(a-i)*s;n==="left"?r.translate(18,u):r.translate(-18,u);const{resourceType:f,quantity:p}=t[a];if(vN(r,f),!l){let h=p.toFixed(1);rl(r,h,{x:n==="left"?7:-7,y:1},{align:n,baseline:"middle",shadowThickness:3})}r.restore()}}function zN(e){const{gameState:t,viewportBounds:n}=e;for(const r of YN(t,e.viewportBounds)){const o=dN(t,r);for(const i of o.deposits)if(jh(n,i.boundingRect))for(const l of i.shape.cells)VN(e,l,i.depositType)}}function VN(e,t,n){const{ctx:r,viewportBounds:o,cellSize:i}=e;if(tl(o,t)){r.save();const l=Qr(e,t);r.translate(l.x,l.y);const s=i.height;switch(r.beginPath(),r.rect(-s*.5,-s*.5,s,s),n){case Ae.STONE:r.fillStyle="lightgray";break;case Ae.IRON:r.fillStyle="blue";break;case Ae.COAL:case Ae.OIL:r.fillStyle="black";break;default:throw Tt()}r.fill(),r.restore()}}function YN(e,t){const{worldParams:n}=e,{chunkSize:r}=n,o=[],i=Math.floor(t.start.i/r),l=Math.floor(t.start.j/r),s=Math.floor(t.end.i/r),a=Math.floor(t.end.j/r);for(let u=l;u<=a;u+=1)for(let f=i;f<=s;f+=1)o.push(kr({i:f*r,j:u*r}));return o}const qN=.01,KN=1.5,bN=60*1e3,QN=[B.MODAL,B.RESEARCH,B.CANVAS];class XN{constructor({gameId:t,ctx:n,canvasParams:r,mousePosition:o}){Me(this,"visualState");Me(this,"gameState");Me(this,"modalState");Me(this,"modalRef",{current:null});Me(this,"isInGameLoop",!1);Me(this,"currentTick",0);Me(this,"lastInteractionTick",-1);Me(this,"listeners",{[B.MODAL]:[],[B.RESEARCH]:[],[B.CANVAS]:[]});Me(this,"stopGameLoopCallback");Me(this,"requestAnimationId");Me(this,"autoSaveIntervalId");const{gameState:i,viewportState:l}=mf(t,void 0),s=BO(i,n,r,()=>{this.onUpdate([B.CANVAS,B.MODAL])});_f(s,l),Ys(s,o),this.visualState=s,this.gameState=s.gameState,window.visualState=this.visualState,window.gameState=this.gameState}renderCanvas(){SN(this.visualState)}replaceGameState(t){this.gameState=t,this.visualState.gameState=t,window.gameState=this.gameState,this.onUpdate(B.CANVAS)}openModal(t){this.modalState=t,this.onUpdate(B.MODAL)}askToCloseCurrentModal(){this.modalRef.current?this.modalRef.current.close():this.forceCloseCurrentModal()}forceCloseCurrentModal(){this.modalState=void 0,this.onUpdate(B.MODAL)}loadGame(t,n){this.autoSaveGame();const{gameState:r,viewportState:o}=mf(t,n);this.replaceGameState(r),_f(this.visualState,o),this.onUpdate()}autoSaveGame(){hf(this.gameState,Cf(this.visualState),void 0)}saveGameAs({saveName:t}){hf(this.gameState,Cf(this.visualState),t)}startGameLoop(){if(this.isInGameLoop)return;this.isInGameLoop=!0;const t=this.visualState;this.stopGameLoopCallback=zO(t,()=>{this.currentTick+=1,this.onUpdate(B.CANVAS),this.currentTick>this.lastInteractionTick+200&&(console.log("Game stopped"),this.stopGameLoop())}),this.enableAutoSave()}stopGameLoop(){this.stopGameLoopCallback&&(this.stopGameLoopCallback(),this.stopGameLoopCallback=void 0,this.isInGameLoop=!1,this.disableAutoSave(),this.autoSaveGame())}enableAutoSave(){this.autoSaveIntervalId||(this.autoSaveIntervalId=window.setInterval(()=>{this.autoSaveGame()},bN))}disableAutoSave(){window.clearInterval(this.autoSaveIntervalId),this.autoSaveIntervalId=void 0}markUserActivity(){this.lastInteractionTick=this.currentTick}handleCanvasClick(t){var l;const{visualState:n,gameState:r}=this,o=tm(n,t);if(!o)return;const i=r.structuresByCellId.get(o.cellId);if(n.interactiveAction&&n.scale>=jn)switch(n.interactiveAction.actionType){case Fe.CONSTRUCTION_PLANNING:{if(om(n,o)){const{facilityType:a}=n.interactiveAction;if(a===y.CITY)Bh(r,{position:o});else if(a===y.INTERCITY_SENDER||a===y.INTERCITY_RECEIVER)this.openModal({modeType:$e.RESOURCE_CHOOSE,facilityType:a,position:o});else{const u=Qn(a)?ou[a]:nr[a];if(a===y.QUARRY){const f=Ii(r.worldParams,o),p=r.depositsMapCache.get(f.chunkId).map.get(o.cellId);if(!p)return;const h=rw[p];if(!h)return;const _=r.unlockedProductionVariants.get(a);if(!_||!_.has(h))return;Ei(r,{facilityType:a,position:o,productionVariantId:h})}else u.productionVariants.length>1||u.productionVariants.length===1&&u.productionVariants[0].id!==O.BASIC&&!((l=r.unlockedProductionVariants.get(a))!=null&&l.has(u.productionVariants[0].id))?this.openModal({modeType:$e.PRODUCTION_VARIANT_CHOOSE,facilityType:a,position:o}):Ei(r,{facilityType:a,position:o,productionVariantId:u.productionVariants[0].id})}n.interactiveAction=void 0,n.onUpdate()}break}case Fe.CARRIER_PATH_PLANNING:{const s=r.structuresByCellId.get(o.cellId);if(s&&am(n,s,n.interactiveAction)){const a=r.structuresByCellId.get(n.interactiveAction.cell.cellId),u=n.interactiveAction,{direction:f}=u,p=f==="from"?a:s,h=f==="from"?s:a,_=r.carrierPathsFromCellId.get(p.position.cellId);if(_&&_.some(C=>C.resourceType===u.resourceType&&_i(C.path.from,p.position)&&_i(C.path.to,h.position)))console.log("already path, do nothing");else{const C=Gw(r,p);Uh(r,{assignedCityId:C.cityId,people:1,resourceType:u.resourceType,pathType:Bt.EXPLICIT,path:{from:p.position,to:h.position}}),n.interactiveAction=void 0,n.onUpdate()}}break}}else i?this.openModal({modeType:$e.FACILITY,facility:i}):this.forceCloseCurrentModal(),Ys(n,void 0),this.onUpdate(B.CANVAS)}onCanvasZoom(t){const n=hu(this.visualState.scale*(1-t/100),qN,KN);WO(this.visualState,n)}cancelCurrentAction(){return this.modalState?(this.askToCloseCurrentModal(),!0):this.visualState.interactiveAction?(this.visualState.interactiveAction=void 0,this.visualState.onUpdate(),!0):!1}onUpdate(t){const n=Array.isArray(t)?t:t?[t]:QN,r=new Set;for(const o of n){o===B.CANVAS&&!this.requestAnimationId&&(this.requestAnimationId=window.requestAnimationFrame(()=>{this.requestAnimationId=void 0,this.renderCanvas()}));for(const i of this.listeners[o])r.has(i)||(r.add(i),i())}}addListener(t,n){this.listeners[t].push(n)}removeListener(t,n){const r=this.listeners[t],o=r.indexOf(n);o!==-1&&r.splice(o,1)}}function fm(){const e=x.useRef(0),[,t]=x.useState(0);return x.useCallback(()=>{e.current+=1,t(e.current)},[])}function rt(e,t){const n=fm();x.useEffect(()=>(e.addListener(t,n),()=>{e.removeListener(t,n)}),[])}const ZN="_wrapper_zfu77_1",JN="_list_zfu77_7",xf={wrapper:ZN,list:JN};function eA({uiState:e}){const{visualState:t,gameState:n}=e;rt(e,B.CANVAS);const r=x.useMemo(()=>[...Object.values(y)].filter(o=>o!==y.CONSTRUCTION).filter(o=>o===y.CITY||ow.has(o)||n.unlockedFacilities.has(o)),[n.completedResearches.size]);return c.jsxs("div",{className:xf.wrapper,children:[c.jsx("h2",{children:"Build new facility:"}),c.jsx("div",{className:xf.list,children:r.map(o=>c.jsx("div",{children:c.jsx("button",{type:"button",onClick:()=>{t.interactiveAction={actionType:Fe.CONSTRUCTION_PLANNING,facilityType:o},t.onUpdate()},children:Wn[o]??o})},o))})]})}const tA="_statusText_s18ns_1",nA="_upperTitle_s18ns_8",rA="_mainTitle_s18ns_12",oA="_lowerTitle_s18ns_17",iA="_cancelButton_s18ns_22",St={statusText:tA,upperTitle:nA,mainTitle:rA,lowerTitle:oA,cancelButton:iA};function lA({uiState:e}){const{visualState:t}=e;if(rt(e,B.CANVAS),!t.interactiveAction)return null;const n=c.jsxs("div",{className:St.lowerTitle,children:["[press Escape or click"," ",c.jsx("button",{type:"button",className:St.cancelButton,onClick:()=>{e.cancelCurrentAction()},children:"Cancel"})," ","to cancel]"]});switch(t.interactiveAction.actionType){case Fe.CONSTRUCTION_PLANNING:return c.jsxs("div",{className:St.statusText,children:[c.jsx("div",{className:St.upperTitle,children:"Current action"}),c.jsxs("div",{className:St.mainTitle,children:["Construct:"," ",Wn[t.interactiveAction.facilityType]]}),n]});case Fe.CARRIER_PATH_PLANNING:return c.jsxs("div",{className:St.statusText,children:[c.jsx("div",{className:St.upperTitle,children:"Current action"}),c.jsxs("div",{className:St.mainTitle,children:['Choose carrier path with "',H[t.interactiveAction.resourceType],'"'," ",sA(t.interactiveAction.direction),":"]}),n]})}}function sA(e){return e==="from"?"to":"from"}const aA="_wrapper_zfu77_1",uA="_list_zfu77_7",Mf={wrapper:aA,list:uA};function cA({uiState:e}){const{visualState:t,gameState:n}=e;rt(e,B.CANVAS);const r=[...n.cities.values()].sort((o,i)=>o.name.localeCompare(i.name));return c.jsxs("div",{className:Mf.wrapper,children:[c.jsx("h2",{children:"Cities:"}),c.jsx("ul",{className:Mf.list,children:r.map(o=>c.jsx("li",{children:c.jsx("button",{type:"button",onClick:()=>{FO(t,o.position)},children:o.name})},o.cityId))})]})}var qs={},fA={get exports(){return qs},set exports(e){qs=e}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],o=0;o<arguments.length;o++){var i=arguments[o];if(i){var l=typeof i;if(l==="string"||l==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var s=n.apply(null,i);s&&r.push(s)}}else if(l==="object"){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){r.push(i.toString());continue}for(var a in i)t.call(i,a)&&i[a]&&r.push(a)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(fA);const ft=qs,dA="_wrapper_72odn_1",pA="_button_72odn_7",hA="_buttonDone_72odn_26",mA="_researchTitle_72odn_53",yA="_researchProgress_72odn_59",qt={wrapper:dA,button:pA,buttonDone:hA,"color-blink":"_color-blink_72odn_1",researchTitle:mA,researchProgress:yA};function vA({uiState:e}){var i;const{gameState:t}=e;rt(e,B.CANVAS);const n=x.useRef();t.currentResearchId&&(n.current=t.currentResearchId);let r,o;if(t.currentResearchId){const l=uo[t.currentResearchId],s=((i=t.inProgressResearches.get(t.currentResearchId))==null?void 0:i.points)??0;r=c.jsxs(c.Fragment,{children:[c.jsx("span",{className:qt.researchTitle,children:Ni[t.currentResearchId]}),c.jsxs("span",{className:qt.researchProgress,children:[(Math.floor(s*1e3/l.points)/10).toFixed(1),"%"]})]})}else n.current&&t.completedResearches.has(n.current)?(o=qt.buttonDone,r=c.jsx("span",{className:qt.researchTitle,children:Ni[n.current]})):r=c.jsxs(c.Fragment,{children:[c.jsx("span",{className:qt.researchTitle,children:"Research"}),c.jsx("span",{children:"is not set"})]});return c.jsx("div",{className:qt.wrapper,children:c.jsx("button",{className:ft(qt.button,o),type:"button",onClick:()=>{e.openModal({modeType:$e.RESEARCH})},children:r})})}const gA="_modalWrapper_1inyj_1",TA="_modalShadowFade_1inyj_11",Gl={modalWrapper:gA,modalShadowFade:TA},_A="_modalWindow_i16qn_1",CA={modalWindow:_A},SA="_closeButton_zua31_1",EA={closeButton:SA};function il({onClick:e}){return c.jsx("button",{type:"button",className:EA.closeButton,title:"close",onClick:e,children:"x"})}const IA="_contentBlock_tnu1h_1",wA="_content_tnu1h_1",OA="_footer_tnu1h_11",on={contentBlock:IA,content:wA,footer:OA},NA="_resourceNameLine_bhl5z_1",AA="_resourceName_bhl5z_1",kA="_carrierPaths_bhl5z_10",RA="_carrierPathsHeader_bhl5z_15",PA="_carrierPathsTitle_bhl5z_20",Kt={resourceNameLine:NA,resourceName:AA,carrierPaths:kA,carrierPathsHeader:RA,carrierPathsTitle:PA};var Yn=(e=>(e[e.INPUT=0]="INPUT",e[e.OUTPUT=1]="OUTPUT",e))(Yn||{});function Xr({title:e,storageType:t,storage:n,alreadyPaths:r,onAddPathClick:o}){return c.jsxs("div",{children:[c.jsxs("h3",{children:[e,":"]}),r.size>0?[...r.entries()].map(([i,l])=>{const s=n.find(a=>a.resourceType===i);return c.jsxs("div",{children:[c.jsx("div",{className:Kt.resourceNameLine,children:c.jsxs("div",{className:Kt.resourceName,children:[H[i],":"," ",c.jsx("span",{children:mu((s==null?void 0:s.quantity)??0)})]})}),c.jsxs("div",{className:Kt.carrierPaths,children:[c.jsxs("div",{className:Kt.carrierPathsHeader,children:[c.jsx("h4",{className:Kt.carrierPathsTitle,children:"Carrier paths:"}),o&&c.jsx("button",{type:"button",className:Kt.addCarrierPathButton,onClick:()=>o(i),children:"Add carrier path"})]}),l.map((a,u)=>c.jsx("label",{className:Kt.carrierPathLine,children:t===0?` from ${jf(a.path.path.from)}`:` to ${jf(a.path.path.to)}`},u)),!l.length&&c.jsx("div",{children:"None"})]})]},i)}):c.jsx("div",{children:"No entities"})]})}function jf(e){return`(${e.i},${e.j})`}function Zr({availableResources:e,actualPaths:t}){return x.useMemo(()=>{const n=new Map;for(const r of e)n.set(r,[]);if(t)for(const r of t){let o=n.get(r.resourceType);o||(o=[],n.set(r.resourceType,o)),o.push({path:r,inputValue:r.people.toString(),changed:!1})}return n},[])}function Uf(e,t,n,r){e.interactiveAction={actionType:Fe.CARRIER_PATH_PLANNING,cell:t.position,direction:n,resourceType:r},e.onUpdate()}const LA={};function dm({uiState:e,facility:t,close:n}){const{gameState:r,visualState:o}=e;return c.jsxs("div",{className:LA.footer,children:[c.jsx("button",{type:"button",onClick:()=>{t.isPaused=!t.isPaused,o.onUpdate()},children:t.isPaused?"Resume":"Pause"}),c.jsx("button",{type:"button",onClick:()=>{Wh(r,t),o.onUpdate(),n()},children:"Demolish"})]})}function xA({uiState:e,facility:t,controlRef:n,closeWithoutApplying:r}){const{gameState:o}=e;rt(e,B.CANVAS);const[i,l]=x.useState(t.assignedWorkersCount.toString()),s=x.useMemo(()=>nr[t.type],[t.type]),a=x.useMemo(()=>zn(t),[t]),u=Zr({availableResources:a.input.map(p=>p.resourceType),actualPaths:o.carrierPathsToCellId.get(t.position.cellId)}),f=Zr({availableResources:a.output.map(p=>p.resourceType),actualPaths:o.carrierPathsFromCellId.get(t.position.cellId)});return x.useImperativeHandle(n,()=>({applyChanges:()=>{if(s.iterationInfoType===Y.FACILITY){const p=parseInt(i,10);p!==t.assignedWorkersCount&&(t.assignedWorkersCount=hu(p,0,s.maximumPeopleAtWork))}for(const p of[...u.values(),...f.values()])for(const h of p)if(h.changed){const _=parseInt(h.inputValue,10);if(Number.isNaN(_))throw new Error("Invalid format");h.path.people=_}}})),c.jsxs("div",{className:on.contentBlock,children:[c.jsx("h2",{children:Wn[t.type]}),c.jsxs("div",{className:on.content,children:[s.iterationInfoType===Y.FACILITY&&c.jsxs("label",{children:["Assigned Workers (max=",s.maximumPeopleAtWork,"):"," ",c.jsx("input",{type:"number",value:i,onChange:p=>{l(p.target.value)}})]}),c.jsx(Xr,{title:"Input",storageType:Yn.INPUT,storage:t.input,alreadyPaths:u}),c.jsx(Xr,{title:"Output",storageType:Yn.OUTPUT,storage:t.output,alreadyPaths:f})]}),c.jsx(dm,{uiState:e,facility:t,close:r})]})}const MA="_header_1oy2c_1",jA="_editButton_1oy2c_6",Bl={header:MA,editButton:jA};function UA({uiState:e,city:t,controlRef:n}){const[r,o]=x.useState(!1),[i,l]=x.useState(t.name);x.useImperativeHandle(n,()=>({applyChanges:()=>{r&&s()}}));function s(){Fw(e.gameState,t,i),e.onUpdate(B.CANVAS)}return c.jsxs("div",{children:[c.jsxs("h2",{className:Bl.header,children:["City:"," ",r?c.jsx(c.Fragment,{children:c.jsxs("form",{onSubmit:a=>{a.preventDefault(),s(),o(!1)},children:[c.jsx("input",{value:i,autoFocus:!0,onChange:a=>{l(a.target.value)}})," ",c.jsx("button",{type:"button",className:Bl.editButton,onClick:()=>{s(),o(!1)},children:""})]})}):c.jsxs(c.Fragment,{children:[t.name," ",c.jsx("button",{type:"button",className:Bl.editButton,onClick:()=>{o(!0)},children:""})]})]}),c.jsxs("div",{children:["People moving speed: ",t.peopleDayPerCell]}),c.jsxs("div",{children:["People carrying weight: ",t.weightPerPeopleDay]}),c.jsxs("div",{children:["People working modificator: ",t.peopleWorkModifier]})]})}function $A({gameState:e,visualState:t,construction:n,closeWithoutApplying:r}){const o=x.useMemo(()=>Pe[n.buildingFacilityType],[n.buildingFacilityType]),i=Zr({availableResources:o.input.map(l=>l.resourceType),actualPaths:e.carrierPathsToCellId.get(n.position.cellId)});return c.jsxs("div",{className:on.contentBlock,children:[c.jsx("h2",{children:"Under construction"}),c.jsx("div",{className:on.content,children:c.jsx(Xr,{title:"Input",storageType:Yn.INPUT,storage:n.input,alreadyPaths:i})}),c.jsxs("div",{className:on.footer,children:[c.jsx("button",{type:"button",onClick:()=>{n.isPaused=!n.isPaused,t.onUpdate()},children:n.isPaused?"Resume":"Pause"}),c.jsx("button",{type:"button",onClick:()=>{Wh(e,n),t.onUpdate(),r()},children:"Demolish"})]})]})}function DA({uiState:e,storageFacility:t,onCloseClick:n}){const{gameState:r,visualState:o}=e,i=Zr({availableResources:[t.resourceType],actualPaths:r.carrierPathsToCellId.get(t.position.cellId)}),l=Zr({availableResources:[t.resourceType],actualPaths:r.carrierPathsFromCellId.get(t.position.cellId)});return c.jsxs("div",{className:on.contentBlock,children:[c.jsx("h2",{children:Wn[t.type]}),c.jsxs("div",{className:on.content,children:[c.jsx(Xr,{title:"Input",storageType:Yn.INPUT,storage:t.input,alreadyPaths:i,onAddPathClick:t.type===y.INTERCITY_RECEIVER?s=>{Uf(o,t,"to",s),n()}:void 0}),c.jsx(Xr,{title:"Output",storageType:Yn.OUTPUT,storage:t.output,alreadyPaths:l,onAddPathClick:t.type===y.INTERCITY_SENDER?s=>{Uf(o,t,"from",s),n()}:void 0})]}),c.jsx(dm,{uiState:e,facility:t,close:n})]})}function GA({uiState:e,facility:t,modalRef:n,onClose:r}){const o=x.useRef();function i(){var l;(l=o.current)==null||l.applyChanges(),r()}return x.useImperativeHandle(n,()=>({close:i})),c.jsxs("div",{className:CA.modalWindow,children:[c.jsx(BA,{uiState:e,facility:t,controlRef:o,onCloseClick:i,closeWithoutApplying:r}),c.jsx(il,{onClick:i})]})}function BA({uiState:e,facility:t,controlRef:n,onCloseClick:r,closeWithoutApplying:o}){const{gameState:i,visualState:l}=e;return t.type===y.CITY?c.jsx(UA,{city:t,uiState:e,controlRef:n}):t.type===y.CONSTRUCTION?c.jsx($A,{gameState:i,visualState:l,construction:t,onCloseClick:r,closeWithoutApplying:o}):Wa(t)?c.jsx(DA,{uiState:e,storageFacility:t,onCloseClick:r}):za(t)?c.jsx("div",{children:"Booster"}):c.jsx(xA,{uiState:e,facility:t,controlRef:n,closeWithoutApplying:o})}const HA="_modal_1xhs3_1",FA="_panel_1xhs3_12",WA="_panelElement_1xhs3_18",zA="_block_1xhs3_22",VA="_researchList_1xhs3_26",YA="_researchItem_1xhs3_31",qA="_researchButton_1xhs3_35",KA="_researchButtonCompleted_1xhs3_46",bA="_researchButtonAvailable_1xhs3_49",QA="_researchButtonInProgress_1xhs3_53",XA="_researchButtonBlocked_1xhs3_56",ZA="_researchHeader_1xhs3_60",JA="_researchTitle_1xhs3_66",ek="_researchCost_1xhs3_70",tk="_completed_1xhs3_74",de={modal:HA,panel:FA,panelElement:WA,block:zA,researchList:VA,researchItem:YA,researchButton:qA,researchButtonCompleted:KA,researchButtonAvailable:bA,researchButtonInProgress:QA,researchButtonBlocked:XA,researchHeader:ZA,researchTitle:JA,researchCost:ek,completed:tk};function nk({modalRef:e,uiState:t,onStartResearchClick:n,onClose:r}){rt(t,B.CANVAS),x.useImperativeHandle(e,()=>({close:r}));const[o,i]=x.useState(!1),{completedResearches:l,currentResearchId:s}=t.gameState;let a=Object.values(uo).map(u=>{let f;return l.has(u.researchId)?f=0:s&&u.researchId===s?f=1:u.requires.some(p=>!l.has(p))?f=3:f=2,{research:u,status:f}});return o||(a=a.filter(u=>u.status!==0)),a.sort((u,f)=>u.status!==f.status?u.status-f.status:u.research.points-f.research.points),c.jsxs("div",{className:de.modal,children:[c.jsx("h2",{children:"Researches"}),c.jsx("div",{className:de.panel,children:c.jsxs("label",{className:de.panelElement,children:[c.jsx("input",{type:"checkbox",checked:o,onChange:u=>{i(u.target.checked)}})," ","Show completed"]})}),c.jsx("ul",{className:de.researchList,children:a.map(({research:u,status:f})=>c.jsx("li",{className:de.researchItem,children:c.jsxs("button",{type:"button",className:ft(de.researchButton,{[de.researchButtonAvailable]:f===2,[de.researchButtonBlocked]:f===3,[de.researchButtonCompleted]:f===0,[de.researchButtonInProgress]:f===1}),onClick:()=>{f===2&&n(u)},children:[c.jsxs("div",{className:de.researchHeader,children:[c.jsx("h3",{className:de.researchTitle,children:Ni[u.researchId]}),c.jsxs("span",{className:de.researchCost,children:["Cost: ",u.points]})]}),c.jsxs("div",{className:de.block,children:[u.unlockFacilities.length>0&&c.jsxs("div",{children:[c.jsx("h4",{children:"Unlocks facilities:"}),c.jsx("ul",{children:u.unlockFacilities.map(p=>c.jsx("li",{children:Wn[p]},p))})]}),u.unlockProductionVariants&&c.jsxs("div",{children:[c.jsx("h4",{children:"Unlock recipes:"}),c.jsx("ul",{children:Object.entries(u.unlockProductionVariants).map(([p,h])=>c.jsxs("li",{children:[Wn[p],": ",h.map(_=>iw[_]).join(", ")]},p))})]})]}),f!==0&&u.requires.length>0&&c.jsxs("div",{className:de.block,children:[c.jsx("h4",{children:"Requirements:"}),c.jsx("ul",{children:u.requires.map(p=>c.jsx("li",{children:c.jsx("span",{className:ft({[de.completed]:l.has(p)}),children:Ni[p]})},p))})]})]})},u.researchId))}),c.jsx(il,{onClick:r})]})}const rk="_wrapper_oblig_1",ok="_menuHeader_oblig_9",ik="_menuSubTitle_oblig_13",lk="_menuList_oblig_17",sk="_menuButton_oblig_24",mn={wrapper:rk,menuHeader:ok,menuSubTitle:ik,menuList:lk,menuButton:sk};function ak({onResume:e,onLoadClick:t,onSaveClick:n,onExitClick:r}){const o=x.useMemo(()=>[{text:"Resume",action:e},{text:"Load game",action:t},{text:"Save game",action:n},{text:"To main menu",action:r}],[]);return c.jsxs("div",{className:mn.wrapper,children:[c.jsxs("div",{className:mn.menuHeader,children:[c.jsx("h2",{className:mn.menuTitle,children:"Flat World"}),c.jsx("div",{className:mn.menuSubTitle,children:"Game menu"})]}),c.jsx("nav",{children:c.jsx("ul",{className:mn.menuList,children:o.map(({text:i,action:l},s)=>c.jsx("li",{children:c.jsx("button",{type:"button",className:mn.menuButton,onClick:l,children:i})},s))})})]})}const uk="_modalWindow_6bzb0_1",ck="_modalHeader_6bzb0_9",fk="_modalTitle_6bzb0_13",dk="_footer_6bzb0_17",pk="_footerButton_6bzb0_24",hk="_footerButtonPrimary_6bzb0_38",_e={modalWindow:uk,modalHeader:ck,modalTitle:fk,footer:dk,footerButton:pk,footerButtonPrimary:hk},mk="_gamesBlock_1ezkf_1",yk="_gamesList_1ezkf_5",vk="_gameButton_1ezkf_12",gk="_gameButtonSelected_1ezkf_22",Tk="_gameName_1ezkf_26",_k="_latestSave_1ezkf_31",Ck="_snapshotButton_1ezkf_35",Sk="_snapshotButtonSelected_1ezkf_45",Ek="_snapshotName_1ezkf_49",ot={gamesBlock:mk,gamesList:yk,gameButton:vk,gameButtonSelected:gk,gameName:Tk,latestSave:_k,snapshotButton:Ck,snapshotButtonSelected:Sk,snapshotName:Ek};function Ik({currentGameId:e,onLoad:t,onBackClick:n}){const r=x.useMemo(()=>{const s=yt.get();if(s){for(const a of s.games)a.saves.length&&(a.snapshotCreatedAt===a.lastSnapshotCreatedAt&&a.saves.push({saveName:"",snapshotCreatedAt:a.lastSnapshotCreatedAt}),a.saves.sort((u,f)=>f.snapshotCreatedAt-u.snapshotCreatedAt));s.games.sort((a,u)=>u.lastSnapshotCreatedAt-a.lastSnapshotCreatedAt)}return s},[]),o=(r==null?void 0:r.games)??[],[i,l]=x.useState();return c.jsxs("form",{className:_e.modalWindow,onSubmit:s=>{s.preventDefault(),i&&t(i)},children:[c.jsx("div",{className:_e.modalHeader,children:c.jsx("h2",{className:_e.modalTitle,children:"Load game"})}),c.jsxs("div",{className:ot.gamesBlock,children:[c.jsx("h3",{children:"Choose game:"}),c.jsx("ul",{className:ot.gamesList,children:o.map(({gameId:s,gameName:a,lastSnapshotCreatedAt:u,saves:f})=>c.jsxs("li",{children:[c.jsxs("button",{type:"button",className:ft(ot.gameButton,{[ot.gameButtonSelected]:s===(i==null?void 0:i.gameId)}),onClick:()=>{l({gameId:s,saveName:void 0})},children:[c.jsx("span",{className:ot.gameName,children:a})," ",f.length===0&&new Date(u).toLocaleString()]}),f.length>0&&c.jsx("ul",{children:f.map(({saveName:p,snapshotCreatedAt:h},_)=>c.jsx("li",{children:c.jsxs("button",{type:"button",className:ft(ot.snapshotButton,{[ot.snapshotButtonSelected]:i&&s===i.gameId&&(!p&&!i.saveName||p==i.saveName)}),onClick:()=>{l({gameId:s,saveName:p})},children:[c.jsx("span",{className:ot.snapshotName,children:p||c.jsxs("span",{className:ot.latestSave,children:["Latest",e===s&&c.jsxs(c.Fragment,{children:[" ",c.jsx("span",{children:"(Current game)"})]})]})})," ",new Date(h).toLocaleString()]})},_))})]},s))})]}),c.jsxs("div",{className:_e.footer,children:[c.jsx("button",{type:"button",className:_e.footerButton,onClick:n,children:"Cancel"}),c.jsx("button",{className:ft(_e.footerButton,_e.footerButtonPrimary),disabled:!i||e===i.gameId&&!i.saveName,children:"Load"})]})]})}const wk="_gamesBlock_1eyqo_1",Ok="_gamesList_1eyqo_5",Nk="_snapshotName_1eyqo_12",Ak="_snapshotButton_1eyqo_16",kk="_snapshotButtonSelected_1eyqo_26",Rk="_noSavesText_1eyqo_30",Pk="_saveGameBlock_1eyqo_34",Lk="_saveNameControl_1eyqo_38",xk="_gameNameInput_1eyqo_44",it={gamesBlock:wk,gamesList:Ok,snapshotName:Nk,snapshotButton:Ak,snapshotButtonSelected:kk,noSavesText:Rk,saveGameBlock:Pk,saveNameControl:Lk,gameNameInput:xk};function Mk({currentGameId:e,onSave:t,onBackClick:n}){const r=x.useMemo(()=>{var a;const s=yt.get();if(s){const u=((a=s.games.find(f=>f.gameId===e))==null?void 0:a.saves)??[];return u.sort((f,p)=>p.snapshotCreatedAt-f.snapshotCreatedAt),u}return[]},[e]),[o,i]=x.useState(""),l=o.trim();return c.jsxs("form",{className:_e.modalWindow,onSubmit:s=>{s.preventDefault();const a=o.trim();a&&t({saveName:a})},children:[c.jsx("div",{className:_e.modalHeader,children:c.jsx("h2",{className:_e.modalTitle,children:"Save game"})}),c.jsxs("div",{className:it.gamesBlock,children:[c.jsx("h3",{children:"Override existing saving:"}),c.jsxs("ul",{className:it.gamesList,children:[!r.length&&c.jsx("li",{children:c.jsx("span",{className:it.noSavesText,children:"No named saves created yet..."})}),r.map(({saveName:s,snapshotCreatedAt:a},u)=>c.jsx("li",{children:c.jsxs("button",{type:"button",className:ft(it.snapshotButton,{[it.snapshotButtonSelected]:s===l}),onClick:()=>{i(s)},children:[c.jsx("span",{className:it.snapshotName,children:s})," ",new Date(a).toLocaleString()]})},u))]})]}),c.jsx("div",{className:it.saveGameBlock,children:c.jsxs("label",{className:it.saveNameControl,children:[c.jsx("span",{children:"Save name:"})," ",c.jsx("input",{className:it.gameNameInput,value:o,autoFocus:!0,onChange:s=>{i(s.target.value)}})]})}),c.jsxs("div",{className:_e.footer,children:[c.jsx("button",{type:"button",className:_e.footerButton,onClick:n,children:"Cancel"}),c.jsx("button",{className:ft(_e.footerButton,_e.footerButtonPrimary),disabled:!o.trim(),children:"Save"})]})]})}function jk({currentGameId:e,onResume:t,onLoadGame:n,onSaveGame:r,onExit:o}){const[i,l]=x.useState("MENU");switch(i){case"MENU":return c.jsx(ak,{onResume:t,onLoadClick:()=>{l("LOAD")},onSaveClick:()=>{l("SAVE")},onExitClick:o});case"LOAD":return c.jsx(Ik,{currentGameId:e,onLoad:n,onBackClick:()=>{l("MENU")}});case"SAVE":return c.jsx(Mk,{currentGameId:e,onSave:r,onBackClick:()=>{l("MENU")}});default:throw Tt()}}var $f=oo,Uk=Va,$k=We,Df=$f?$f.isConcatSpreadable:void 0;function Dk(e){return $k(e)||Uk(e)||!!(Df&&e&&e[Df])}var Gk=Dk,Bk=mh,Hk=Gk;function pm(e,t,n,r,o){var i=-1,l=e.length;for(n||(n=Hk),o||(o=[]);++i<l;){var s=e[i];t>0&&n(s)?t>1?pm(s,t-1,n,r,o):Bk(o,s):r||(o[o.length]=s)}return o}var Fk=pm,Wk=fh,zk=qi;function Vk(e,t){var n=-1,r=zk(e)?Array(e.length):[];return Wk(e,function(o,i,l){r[++n]=t(o,i,l)}),r}var Yk=Vk;function qk(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Kk=qk,Gf=ao;function bk(e,t){if(e!==t){var n=e!==void 0,r=e===null,o=e===e,i=Gf(e),l=t!==void 0,s=t===null,a=t===t,u=Gf(t);if(!s&&!u&&!i&&e>t||i&&l&&a&&!s&&!u||r&&l&&a||!n&&a||!o)return 1;if(!r&&!i&&!u&&e<t||u&&n&&o&&!r&&!i||s&&n&&o||!l&&o||!a)return-1}return 0}var Qk=bk,Xk=Qk;function Zk(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,l=o.length,s=n.length;++r<l;){var a=Xk(o[r],i[r]);if(a){if(r>=s)return a;var u=n[r];return a*(u=="desc"?-1:1)}}return e.index-t.index}var Jk=Zk,Hl=Ja,eR=eu,tR=tu,nR=Yk,rR=Kk,oR=sh,iR=Jk,lR=el,sR=We;function aR(e,t,n){t.length?t=Hl(t,function(i){return sR(i)?function(l){return eR(l,i.length===1?i[0]:i)}:i}):t=[lR];var r=-1;t=Hl(t,oR(tR));var o=nR(e,function(i,l,s){var a=Hl(t,function(u){return u(i)});return{criteria:a,index:++r,value:i}});return rR(o,function(i,l){return iR(i,l,n)})}var uR=aR;function cR(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var fR=cR,dR=fR,Bf=Math.max;function pR(e,t,n){return t=Bf(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=Bf(r.length-t,0),l=Array(i);++o<i;)l[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(l),dR(e,this,s)}}var hR=pR;function mR(e){return function(){return e}}var yR=mR,vR=yR,Hf=bh,gR=el,TR=Hf?function(e,t){return Hf(e,"toString",{configurable:!0,enumerable:!1,value:vR(t),writable:!0})}:gR,_R=TR,CR=800,SR=16,ER=Date.now;function IR(e){var t=0,n=0;return function(){var r=ER(),o=SR-(r-n);if(n=r,o>0){if(++t>=CR)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var wR=IR,OR=_R,NR=wR,AR=NR(OR),kR=AR,RR=el,PR=hR,LR=kR;function xR(e,t){return LR(PR(e,t,RR),e+"")}var MR=xR,jR=Ka,UR=qi,$R=Ya,DR=so;function GR(e,t,n){if(!DR(n))return!1;var r=typeof t;return(r=="number"?UR(n)&&$R(t,n.length):r=="string"&&t in n)?jR(n[t],e):!1}var BR=GR,HR=Fk,FR=uR,WR=MR,Ff=BR,zR=WR(function(e,t){if(e==null)return[];var n=t.length;return n>1&&Ff(e,t[0],t[1])?t=[]:n>2&&Ff(t[0],t[1],t[2])&&(t=[t[0]]),FR(e,HR(t,1),[])}),VR=zR;const YR="_modal_qmgn4_1",qR="_title_qmgn4_12",KR="_item_qmgn4_16",bR="_button_qmgn4_20",QR="_index_qmgn4_44",XR="_resourcesList_qmgn4_48",Et={modal:YR,title:qR,item:KR,button:bR,index:QR,resourcesList:XR};function ZR({uiState:e,facilityType:t,onProductionVariantChoose:n,onClose:r}){const{gameState:o}=e;rt(e,B.CANVAS);const i=Qn(t)?ou[t]:nr[t],l=o.unlockedProductionVariants.get(t),s=x.useMemo(()=>l?VR(i.productionVariants,a=>l.has(a.id)?0:1):i.productionVariants,[o.tickNumber]);return c.jsxs("div",{className:Et.modal,children:[c.jsx("h2",{className:Et.title,children:"Select production variant:"}),c.jsx("ul",{className:Et.list,children:s.map((a,u)=>c.jsx("li",{className:Et.item,children:c.jsxs("button",{type:"button",className:Et.button,disabled:!(l!=null&&l.has(a.id)),onClick:()=>{n(a.id)},children:[c.jsx("div",{className:Et.index,children:u+1}),c.jsxs("div",{className:Et.resourcesList,children:[c.jsx("h3",{children:"Input:"}),c.jsx(Wf,{storage:a.input})]}),ew(a)&&c.jsxs("div",{className:Et.resourcesList,children:[c.jsx("h3",{children:"Output:"}),c.jsx(Wf,{storage:a.output})]})]})},u))}),c.jsx(il,{onClick:r})]})}function Wf({storage:e}){return e.length===0?c.jsx("div",{children:"None"}):c.jsx("ul",{children:e.map(t=>c.jsxs("li",{children:[H[t.resourceType],tw(t)&&`x ${t.quantity}`]},t.resourceType))})}const JR="_modal_1yswu_1",eP="_title_1yswu_12",tP="_item_1yswu_16",nP="_list_1yswu_20",rP="_button_1yswu_25",oP="_index_1yswu_49",bt={modal:JR,title:eP,item:tP,list:nP,button:rP,index:oP};function iP({uiState:e,onResourceTypeChoose:t,onClose:n}){rt(e,B.CANVAS);const[r,o]=x.useState(""),i=x.useMemo(()=>{let l=Object.keys(H);const s=r.trim();return s&&(l=l.filter(a=>H[a].toLowerCase().includes(s))),l},[r]);return c.jsxs("div",{className:bt.modal,children:[c.jsx("h2",{className:bt.title,children:"Select resource type:"}),c.jsxs("label",{className:bt.searchBlock,children:["Filter"," ",c.jsx("input",{value:r,autoFocus:!0,onChange:l=>{o(l.target.value)}})]}),c.jsx("ul",{className:bt.list,children:i.map((l,s)=>c.jsx("li",{className:bt.item,children:c.jsxs("button",{type:"button",className:bt.button,onClick:()=>{t(l)},children:[c.jsx("div",{className:bt.index,children:s+1}),c.jsx("div",{children:H[l]})]})},l))}),c.jsx(il,{onClick:n})]})}function lP({uiState:e}){const{visualState:t,gameState:n,modalState:r}=e,{gameId:o}=n;rt(e,B.MODAL);const i=x.useRef(null);if(e.modalRef=i,!r)return null;function l(){e.forceCloseCurrentModal()}return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:ft(Gl.modalShadow,{[Gl.modalShadowFade]:r.modeType===$e.GAME_MENU}),onClick:()=>{var s;(s=i.current)==null||s.close()}}),c.jsx("div",{className:Gl.modalWrapper,children:(()=>{switch(r.modeType){case $e.FACILITY:return c.jsx(GA,{modalRef:i,uiState:e,facility:r.facility,onClose:l});case $e.RESEARCH:return c.jsx(nk,{modalRef:i,uiState:e,onStartResearchClick:s=>{n.currentResearchId=s.researchId,e.onUpdate(B.RESEARCH),l()},onClose:l});case $e.GAME_MENU:return c.jsx(jk,{currentGameId:o,onResume:()=>{e.startGameLoop(),l()},onLoadGame:({gameId:s,saveName:a})=>{n.gameId!==s?Ai(`/g/${s}`,{replace:!0}):e.loadGame(s,a),e.startGameLoop(),l()},onSaveGame:({saveName:s})=>{e.saveGameAs({saveName:s}),e.startGameLoop(),l()},onExit:()=>{location.hash=""}});case $e.PRODUCTION_VARIANT_CHOOSE:{const{facilityType:s,position:a}=r;return c.jsx(ZR,{uiState:e,facilityType:s,onClose:l,onProductionVariantChoose:u=>{l(),Ei(n,{facilityType:s,position:a,productionVariantId:u}),t.onUpdate()}})}case $e.RESOURCE_CHOOSE:{const{facilityType:s,position:a}=r;return c.jsx(iP,{uiState:e,onClose:l,onResourceTypeChoose:u=>{l(),Ei(n,{facilityType:s,position:a,productionVariantId:u}),t.onUpdate()}})}default:throw Tt()}})()})]})}function sP({uiState:e}){function t(){e.stopGameLoop(),e.openModal({modeType:$e.GAME_MENU})}return c.jsx("button",{type:"button",onClick:t,children:"Menu"})}const aP="_wrapper_s7u8w_1",uP={wrapper:aP};function cP({uiState:e}){rt(e,B.CANVAS);const{hoverCell:t}=e.visualState;return t?c.jsxs("div",{className:uP.wrapper,children:["(",t.i,",",t.j,")"]}):null}function fP({gameId:e}){const t=fm(),n=x.useRef(),r=x.useRef(null),o=x.useRef(null),i=x.useMemo(()=>({isMouseDown:!1,isDrag:!1,mouseDownPosition:void 0,mousePos:{x:0,y:0}}),[]);function l(){const g=r.current,I=o.current,m=I.clientWidth,d=I.clientHeight,v=window.devicePixelRatio??1;return g.width=m*v,g.height=d*v,g.style=`width: ${m}px; height: ${d}px;`,{width:m,height:d,pixelRatio:v}}x.useEffect(()=>{const g=l(),m=r.current.getContext("2d",{alpha:!1,willReadFrequently:!1});if(!m)throw new Error("No 2d context");const d=new XN({gameId:e,ctx:m,canvasParams:g,mousePosition:i.mousePos});return n.current=d,d.renderCanvas(),d.startGameLoop(),t(),()=>{d.stopGameLoop()}},[]),x.useEffect(()=>{const g=n.current;g&&g.gameState.gameId!==e&&g.loadGame(e)},[e]);function s(g){const I=n.current;if(I&&HO(I.visualState,g.target===r.current),I==null||I.markUserActivity(),!(I!=null&&I.modalState)){if(i.mousePos.x=g.pageX,i.mousePos.y=g.pageY,i.isMouseDown&&g.buttons!==1&&(i.isMouseDown=!1,i.mouseDownPosition=void 0,p(!1)),!i.isDrag&&i.mouseDownPosition&&i.isMouseDown){const m=i.mouseDownPosition.x-i.mousePos.x,d=i.mouseDownPosition.y-i.mousePos.y;Math.abs(m)+Math.abs(d)>3&&(i.isDrag=!0)}I&&(i.isMouseDown&&Tf(I.visualState,{x:g.movementX,y:g.movementY}),Ys(I.visualState,i.mousePos))}}function a(g){const I=n.current;if(I==null||I.markUserActivity(),!(!I||g.defaultPrevented))switch(g.key){case"Escape":I.cancelCurrentAction()&&g.preventDefault()}}x.useEffect(()=>{const g=r.current;return window.addEventListener("mousemove",s,{passive:!0}),window.addEventListener("mouseup",s,{passive:!0}),window.addEventListener("keydown",a),window.addEventListener("resize",u,{passive:!0}),window.addEventListener("beforeunload",f),g.addEventListener("wheel",C),()=>{g.removeEventListener("wheel",C),window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",s),window.removeEventListener("keydown",a),window.removeEventListener("resize",u),window.removeEventListener("beforeunload",f)}},[]);function u(){const g=l(),I=n.current;I&&(em(I.visualState,g),I.renderCanvas())}function f(){var g;(g=n.current)==null||g.autoSaveGame()}function p(g){r.current&&(g?r.current.dataset.drag="":delete r.current.dataset.drag)}function h(g){var I;g.preventDefault(),!((I=n.current)!=null&&I.modalState)&&(i.mousePos.x=g.pageX,i.mousePos.y=g.pageY,i.isMouseDown=!0,i.mouseDownPosition={x:g.pageX,y:g.pageY},p(!0))}function _(g){const I=i.isDrag;if(i.isDrag&&(i.isDrag=!1,i.mouseDownPosition=void 0),g.button!==0||(g.preventDefault(),I))return;const m=n.current;if(m){if(m.modalState){m.askToCloseCurrentModal();return}m.handleCanvasClick({x:g.pageX,y:g.pageY})}}function C(g){g.preventDefault(),s(g);const I=n.current;I&&(g.ctrlKey?I.onCanvasZoom(g.deltaY):Tf(I.visualState,{x:-g.deltaX*.8,y:-g.deltaY*.8}))}return c.jsxs("div",{className:Yt.wrapper,children:[c.jsxs("div",{className:Yt.canvasWrapper,ref:o,children:[c.jsx("canvas",{ref:r,className:Yt.canvas,width:"10",height:"10",onMouseDown:h,onClick:_}),n.current&&c.jsxs(c.Fragment,{children:[c.jsx(vA,{uiState:n.current}),c.jsx(lA,{uiState:n.current}),c.jsx(cP,{uiState:n.current}),n.current&&c.jsx(lP,{uiState:n.current})]})]}),c.jsx("div",{className:Yt.sidePanel,children:n.current&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:Yt.sidePanelMenu,children:c.jsx(sP,{uiState:n.current})}),c.jsx("div",{className:Yt.sidePanelBuildings,children:c.jsx(eA,{uiState:n.current})}),c.jsx("div",{className:Yt.sidePanelCities,children:c.jsx(cA,{uiState:n.current})})]})})]})}const dP="_wrapper_dq3ko_1",pP="_currentGames_dq3ko_5",hP="_newGameButton_dq3ko_12",Fl={wrapper:dP,currentGames:pP,newGameButton:hP};function mP({onNewGame:e,onLoadGame:t}){const{games:n}=x.useMemo(()=>yt.get()??{games:[]},[]);function r(){var i;const o=(i=window.prompt("Enter the name of the new game:"))==null?void 0:i.trim();o&&e({gameName:o})}return c.jsxs("div",{className:Fl.wrapper,children:[c.jsx("h1",{children:"Flat World"}),n.length>0?c.jsxs("div",{className:Fl.currentGames,children:[c.jsx("h2",{children:"Your game worlds:"}),c.jsx("ul",{children:n.map(({gameId:o,gameName:i})=>c.jsx("li",{children:c.jsx("button",{type:"button",onClick:()=>{t({gameId:o})},children:i})},o))})]}):c.jsx("p",{children:"No games yet"}),c.jsx("div",{children:c.jsx("button",{type:"button",className:Fl.newGameButton,onClick:r,children:"New Game"})})]})}function zf(){const e=window.location.hash.replace(/^#/,"");if(e&&e.startsWith("/")){const[,t,...n]=e.split("/");switch(t){case"g":{const[r]=n;if(r&&/[\w\d]+/.test(r)){const o=yt.get();if(o&&o.games.some(i=>i.gameId===r))return{type:"IN_GAME",gameId:r}}Ai(void 0,{replace:!0});break}}}return{type:"MAIN_MENU"}}function yP(){const[e,t]=x.useState(zf);sO("hashchange",()=>{t(zf())});function n({gameName:o}){const i=Kv(),l=rO({gameId:i});Oi.set(i,l);const s=yt.get()??{games:[]},a=Date.now();s.games.unshift({gameId:i,gameName:o,snapshotCreatedAt:a,lastSnapshotCreatedAt:a,saves:[]}),yt.set(s),Ai(`/g/${i}`)}function r({gameId:o}){Ai(`/g/${o}`)}switch(e.type){case"MAIN_MENU":return c.jsx(mP,{onNewGame:n,onLoadGame:r});case"IN_GAME":return c.jsx(fP,{gameId:e.gameId})}}function vP(){return c.jsx("div",{className:qv.root,children:c.jsx(yP,{})})}Wl.createRoot(document.getElementById("root")).render(c.jsx(jm.StrictMode,{children:c.jsx(vP,{})}));
